<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="john pfeiffer" />
        <meta name="copyright" content="john pfeiffer" />

<meta name="keywords" content="python, programming, " />
        <title>How to set up a Pelican static blog site  · johnpfeiffer
</title>
        <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://blog.john-pfeiffer.com/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://blog.john-pfeiffer.com/theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="http://blog.john-pfeiffer.com/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="http://blog.john-pfeiffer.com/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://blog.john-pfeiffer.com/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://blog.john-pfeiffer.com/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://blog.john-pfeiffer.com/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="http://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3758734-9']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse" href=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://blog.john-pfeiffer.com/"><span class=site-name>johnpfeiffer</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://blog.john-pfeiffer.com">Home</a></li>
                            <li ><a href="http://blog.john-pfeiffer.com/john-likes">John Likes</a></li>
                            <li ><a href="http://blog.john-pfeiffer.com/categories.html">Categories</a></li>
                            <li ><a href="http://blog.john-pfeiffer.com/tags.html">Tags</a></li>
                            <li ><a href="http://blog.john-pfeiffer.com/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://blog.john-pfeiffer.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="http://blog.john-pfeiffer.com/how-to-set-up-a-pelican-static-blog-site"> How to set up a Pelican static blog site  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#install-pelican">Install Pelican</a></li>
<li><a href="#create-content">Create Content</a></li>
<li><a href="#run-a-dev-server-to-see-the-results-locally">Run a dev server to see the results locally</a></li>
<li><a href="#publish">Publish</a></li>
<li><a href="#example-pelican-configuration-file">Example pelican configuration file</a></li>
<li><a href="#importing-from-drupal">Importing from drupal</a></li>
<li><a href="#pelican-themes">Pelican Themes</a></li>
<li><a href="#pelican-plugins">Pelican Plugins</a></li>
<li><a href="#more-info">more info</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
<p>Pelican is an open source project that converts static text files into an html site.</p>
<p>Why use a static site generator (pelican) instead of a hosted blog platform or a CMS (Content Management System)?</p>
<p><strong>Because less is more and you should use the right tool for the right job</strong></p>
<ul>
<li>A static site made of html pages is very easy to maintain</li>
<li>It is also more secure and performance is good too =)</li>
<li>Can use version control (git)</li>
<li>Developers prefer to be able to customize and add functionality (python and javascript)</li>
<li>Using widely adopted open source software reduces risk (python, pelican, javascript, elagant theme and tipue search)</li>
</ul>
<h3 id="install-pelican">Install Pelican</h3>
<p><code>sudo pip install pelican Markdown beautifulsoup4</code></p>
<blockquote>
<ul>
<li>installing both the pelican and the Markdown packages</li>
<li>beautifulsoup4 is a dependency for the later step of the elegant theme TOC and search plugins</li>
<li>optionally use virtualenv venv; source venv/bin/activate</li>
</ul>
</blockquote>
<p><strong><code>pelican-quickstart</code></strong></p>
<div class="highlight"><pre>Welcome to pelican-quickstart v3.3.0.
This script will help you create a new Pelican-based website.
Please answer the following questions so this script can generate the files needed by Pelican.

&gt; Where do you want to create your new web site? [.]
&gt; What will be the title of this web site? johnpfeiffer.bitbucket.org
&gt; Who will be the author of this web site? john pfeiffer
&gt; What will be the default language of this web site? [en]
&gt; Do you want to specify a URL prefix? e.g., http://example.com   (Y/n)
&gt; What is your URL prefix? (see above example; no trailing slash) https://johnpfeiffer.bitbucket.org
&gt; Do you want to enable article pagination? (Y/n)
&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n)
&gt; Do you want an auto-reload &amp; simpleHTTP script to assist with theme and site development? (Y/n)
&gt; Do you want to upload your website using FTP? (y/N)
&gt; Do you want to upload your website using SSH? (y/N)
&gt; Do you want to upload your website using Dropbox? (y/N)
&gt; Do you want to upload your website using S3? (y/N)
&gt; Do you want to upload your website using Rackspace Cloud Files? (y/N)
Done. Your new project is available at /home/ubuntu/BLOG
</pre></div>
<hr/>
<p><code>tree</code></p>
<div class="highlight"><pre>.
├── content
├── develop_server.sh
├── fabfile.py
├── Makefile
├── output
├── pelicanconf.py
└── publishconf.py

2 directories, 5 files
</pre></div>
<hr/>
<h3 id="create-content">Create Content</h3>
<p><code>vi content/hello_world.md</code></p>
<div class="highlight"><pre>Title: My first blog post
Date: 2014-06-21 20:20
Tags: python
Slug: my-first-blog-post
Author: John Pfeiffer
Summary: Short version for index and feeds

This is the content of my first blog post.
</pre></div>
<blockquote>
<p>optional UI markdown editor: 
<code>sudo apt-get install retext</code></p>
</blockquote>
<hr/>
<h3 id="run-a-dev-server-to-see-the-results-locally">Run a dev server to see the results locally</h3>
<p><code>make devserver</code></p>
<blockquote>
<p>...Starting up Pelican and pelican.server...</p>
</blockquote>
<p><code>./develop_server.sh stop</code></p>
<blockquote>
<p>stop the dev server (required if reloading the .conf file)</p>
</blockquote>
<p><strong>This only works with the basic first setup, after that it is better to manually use multiple screens:</strong></p>
<p><code>make clean</code></p>
<p><code>make regenerate</code></p>
<blockquote>
<p>auto detects any content changes and reloads itself</p>
</blockquote>
<p><code>cd output; python -m SimpleHTTPServer</code></p>
<blockquote>
<p>Serving HTTP on 0.0.0.0 port 8000 ... (Control + C to quit)</p>
</blockquote>
<p><strong>http://localhost:8000</strong></p>
<p><code>mkdir -p content/pages</code></p>
<hr/>
<h3 id="publish">Publish</h3>
<p>I just use the pelicanconf output rather than publishconf, and I use git with a bitbucket static html site.</p>
<hr/>
<h3 id="example-pelican-configuration-file">Example pelican configuration file</h3>
<p><em>Contains the elegant theme and tipue search plugin</em></p>
<p><code>vi pelicanconf.py</code></p>
<div class="highlight"><pre>#!/usr/bin/env python
# -*- coding: utf-8 -*- #
from __future__ import unicode_literals

AUTHOR = u'john pfeiffer'
SITENAME = u'johnpfeiffer'
SITEURL = ''
OUTPUT_PATH = 'output/'
DEFAULT_DATE_FORMAT = '%Y-%m-%d'
# Feed generation is usually not desired when developing
FEED_ALL_ATOM = None
CATEGORY_FEED_ATOM = None
TRANSLATION_FEED_ATOM = None

# clean urls for pages
PAGE_URL = '{slug}'
PAGE_SAVE_AS = '{slug}/index.html'
# clean urls for articles
ARTICLE_SAVE_AS = '{slug}/index.html'
ARTICLE_URL = '{slug}'

DEFAULT_PAGINATION = 10

THEME = 'themes/pelican-elegant'
PLUGIN_PATHS = ['plugins']
PLUGINS = ['sitemap', 'extract_toc', 'tipue_search']
MD_EXTENSIONS = ['codehilite(css_class=highlight)', 'extra', 'headerid', 'toc']
DIRECT_TEMPLATES = (('index', 'tags', 'categories','archives', 'search', '404'))
STATIC_PATHS = ['theme/images', 'images']

SITEMAP = {
    'format': 'xml',
    'priorities': {
        'articles': 0.5,
        'indexes': 0.5,
        'pages': 0.5
     },
    'changefreqs': {
        'articles': 'monthly',
        'indexes': 'daily',
        'pages': 'monthly'
    }
}
</pre></div>
<hr/>
<h3 id="importing-from-drupal">Importing from drupal</h3>
<p><strong>Hack the Drupal files to allow a lot more than 10 items per feed</strong>
<code>grep -r 'items per feed' .</code></p>
<blockquote>
<p>learned from drupal-7.28/modules/system/system.module</p>
</blockquote>
<p><code>vi modules/system/system.admin.inc</code></p>
<blockquote>
<p>$form['feed_default_items']</p>
<p>Add to the dropdown choices of 10, 15, 30 etc. the option of 999</p>
</blockquote>
<hr/>
<p><code>sudo apt-get install pandoc</code></p>
<p><code>sudo pip install feedparser</code></p>
<p><code>pelican-import -h</code></p>
<p><code>pelican-import --feed http://blog.example.com/rss.xml -o output/ -m markdown</code></p>
<hr/>
<h3 id="pelican-themes">Pelican Themes</h3>
<p><a href="https://github.com/getpelican/pelican-themes">https://github.com/getpelican/pelican-themes</a></p>
<p><code>git clone --recursive https://github.com/getpelican/pelican-themes ~/pelican-themes</code></p>
<p><a href="http://pelican.readthedocs.org/en/latest/pelican-themes.html">http://pelican.readthedocs.org/en/latest/pelican-themes.html</a></p>
<p><code>mkdir themes</code></p>
<p>`cp -a pelican-themes/elegant themes/</p>
<hr/>
<h3 id="pelican-plugins">Pelican Plugins</h3>
<p><a href="https://github.com/getpelican/pelican-plugins">https://github.com/getpelican/pelican-plugins</a></p>
<p><code>git clone https://github.com/getpelican/pelican-plugins</code></p>
<p><code>mkdir plugins</code></p>
<p><code>cp -a pelican-plugins/sitemap plugins/</code></p>
<h3 id="more-info">more info</h3>
<ul>
<li><a href="http://pelican.readthedocs.org/en/latest/settings.html">http://pelican.readthedocs.org/en/latest/settings.html</a></li>
<li>Tweaking default syntax highlighting: http://pygments.org/docs/lexers/</li>
</ul>
            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
 
                <li class="previous_article">« <a href="http://blog.john-pfeiffer.com/content/cumulus-compatible-s3-nginx-and-hmac-signed-requests" title="Previous: Cumulus compatible S3, nginx, and HMAC signed requests">Cumulus compatible S3, nginx, and HMAC signed requests</a></li>
 
                <li class="next_article"><a href="http://blog.john-pfeiffer.com/creating-a-static-web-site-with-bitbucket" title="Next: Creating a static web site with Bitbucket">Creating a static web site with Bitbucket</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
 
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2014-06-21T20:21:00-07:00">Jun 21, 2014</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#programming-ref">programming</a> 
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article"> 
                <li><a href="/tags.html#python-ref">python
                    <span>6</span>
</a></li>
            </ul>

        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
    </ul>
</div>
</footer>            <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    </body>
</html>