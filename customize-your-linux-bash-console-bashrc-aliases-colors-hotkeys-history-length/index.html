<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="john pfeiffer" />
        <meta name="copyright" content="john pfeiffer" />

<meta name="keywords" content="linux, bash, bashrc, bash alias, bash history, linux, " />
        <title>Customize your linux bash console: bashrc, aliases, colors, hotkeys, history length  · johnpfeiffer
</title>
        <link href="https://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://blog.john-pfeiffer.com/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://blog.john-pfeiffer.com/theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="https://blog.john-pfeiffer.com/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3758734-9']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    </head>
    <body>
	<div id="content-sans-footer">
        <div class="dropdown-backdrop">

			<div class="navbar navbar-static-top">
				<div class="navbar-inner">
					<div class="container">
						<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</a>
						<a class="brand" href="https://blog.john-pfeiffer.com/"><span class=site-name>johnpfeiffer</span></a>
						<div class="nav-collapse collapse">
							<ul class="nav pull-right top-menu">
								<li ><a href="https://blog.john-pfeiffer.com">Home</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/john-likes/">John Likes</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/categories.html">Categories</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/tags.html">Tags</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/archives.html">Archives</a></li>
								<li><form class="navbar-search" action="https://blog.john-pfeiffer.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span1"></div>
				<div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="https://blog.john-pfeiffer.com/customize-your-linux-bash-console-bashrc-aliases-colors-hotkeys-history-length/"> Customize your linux bash console: bashrc, aliases, colors, hotkeys, history length  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#favorite-aliases">Favorite Aliases</a></li>
<li><a href="#increasing-bash-history-length">increasing bash history length</a></li>
<li><a href="#example-default-bash_profile">Example default .bash_profile</a></li>
<li><a href="#hotkeys">hotkeys</a></li>
<li><a href="#example-recycle-bin-for-root">Example recycle bin for root</a></li>
<li><a href="#bashrc-xterm-ansi-escape-color-codes">bashrc - xterm - ANSI escape color codes</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
<p>The hidden file <strong>.bashrc</strong> in each user's home directory (~ or or /home/username or /root) controls the configuration of how the console (and certain commands) behave.</p>
<p>NOTE CENTOS/REDHAT also uses <strong>.bash_profile</strong></p>
<p>The shell is the program that interfaces between the user and the Linux kernel. There are different shells with different features.</p>
<p>Ash is a reimplementation of the System V shell  May 6, 1989</p>
<p>GNU Bourne Again Shell  Bash is an sh-compatible command language interpreter that
 executes commands read from the standard input or from a file. Bash also incorporates
  useful features from the Korn and C shells (ksh and csh)</p>
<p>June 18, 1999
Zsh is a command interpreter which mostly resembles the Korn shell. Includes a
 command-line editor and many other enhancements over the other shells. </p>
<h3 id="favorite-aliases">Favorite Aliases</h3>
<p>Here are my favorite aliases that are in my .bashrc:</p>
<table>
<thead>
<tr>
<th>command</th>
<th>explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>alias ls='ls --color=auto'</code></td>
<td>color highlighting of a directory listing</td>
</tr>
<tr>
<td><code>alias ll='ls -ahlF --color=auto'</code></td>
<td>directory listing: all, hidden too, long format, show type with symbols: dir/</td>
</tr>
<tr>
<td><code>alias la='ls -A'</code></td>
<td>directory listing almost all so exclude . and ..</td>
</tr>
<tr>
<td><code>alias l='ls -CF'</code></td>
<td>list in columns with trailing type symbols: dir/</td>
</tr>
<tr>
<td><code>alias free='free -m'</code></td>
<td>free RAM in megabytes</td>
</tr>
<tr>
<td><code>alias df='df -h'</code></td>
<td>disk free in human sizes</td>
</tr>
<tr>
<td><code>alias nano='nano -c -S -u'</code></td>
<td>simple editor with cursor position, smooth scroll, and undo</td>
</tr>
<tr>
<td><code>alias gp='git pull'</code></td>
<td>pull remote changes with less typing</td>
</tr>
<tr>
<td><code>alias gt='git status'</code></td>
<td>current git status with less typing</td>
</tr>
<tr>
<td><code>alias gw='git whatchanged'</code></td>
<td>git history with less typing</td>
</tr>
<tr>
<td><code>alias gd="GIT_PAGER='' git diff"</code></td>
<td>git history with less typing</td>
</tr>
<tr>
<td><code>alias rm='rm -i'</code></td>
<td>extra prompt before deleting a file or directory</td>
</tr>
<tr>
<td><code>alias cp='cp -i'</code></td>
<td>extra prompt before overwriting a file or directory with a copy</td>
</tr>
<tr>
<td><code>alias mv='mv -i'</code></td>
<td>extra prompt before overwriting a file or directory with a move</td>
</tr>
<tr>
<td><code>export PATH=$PATH:~/bin</code></td>
<td>your own local scripts are loaded in the console</td>
</tr>
<tr>
<td><code>set bell-style none</code></td>
<td>no more annoying bash beeps!</td>
</tr>
<tr>
<td><code>xset -b</code></td>
<td>no more annoying bash beeps for x windows</td>
</tr>
</tbody>
</table>
<p><code>alias ssh='ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no'</code></p>
<blockquote>
<p>ssh will not check nor store remote server signatures: insecure!</p>
</blockquote>
<p><code>unalias free</code> or <code>\free</code></p>
<blockquote>
<p>NOTE to escape or override the alias</p>
</blockquote>
<p>To enable the new aliases immediately go to the directory type one of the following:
<code>. ./bashrc</code> or <code>source ~/.bashrc</code></p>
<blockquote>
<p>nano /home/username/.bashrc or /root/.bashrc
export PATH=$PATH:~/bin</p>
</blockquote>
<hr/>
<p>.bashrc or .profile are where your shell (BASH) gets it's initial settings:</p>
<div class="highlight"><pre><span></span>root:~# ls -al
total 20
drwxr-xr-x  <span class="m">2</span> root root <span class="m">4096</span> Mar <span class="m">29</span> 21:56 .
drwxr-xr-x <span class="m">21</span> root root <span class="m">4096</span> Mar <span class="m">29</span> 22:26 ..
-rw-------  <span class="m">1</span> root root  <span class="m">183</span> Mar <span class="m">29</span> 22:31 .bash_history
-rw-r--r--  <span class="m">1</span> root root <span class="m">2225</span> Mar <span class="m">29</span> 22:31 .bashrc
-rw-r--r--  <span class="m">1</span> root root  <span class="m">141</span> May <span class="m">15</span>  <span class="m">2007</span> .profile
</pre></div>
<blockquote>
<p>if a lot of commands start failing try a cat /etc/passwd and see if you are using <strong>/sbin/bash</strong> or <strong>/bin/sh</strong> - the older and less functional shell</p>
</blockquote>
<table>
<thead>
<tr>
<th>command</th>
<th>explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>whoami</code></td>
<td>display what user is logged in or is being impersonated by su</td>
</tr>
<tr>
<td><code>echo $HOME</code></td>
<td>display the current user's home directory (which should match what's in /etc/passwd)</td>
</tr>
<tr>
<td><code>echo $PATH</code></td>
<td>list what binary executable directories are accessible by default</td>
</tr>
<tr>
<td>normal centos user has</td>
<td><strong>/usr/local/bin:/bin:/usr/bin:/home/username/bin</strong></td>
</tr>
<tr>
<td>changing to root with: <code>su -</code></td>
<td><strong>/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</strong></td>
</tr>
</tbody>
</table>
<p>NOTE that if you simply use "su" you will only get the normal user path...</p>
<h3 id="increasing-bash-history-length">increasing bash history length</h3>
<p>.bash_profile allows you to customize your command history size... (sometimes it's a section in .bashrc)</p>
<p>if it doesn't exist (e.g. ubuntu can't find it ".bash_profile doesn't exist"), create it and make it executable and then add the following lines...  </p>
<div class="highlight"><pre><span></span>echo "#defaults are 500" &gt;&gt; .bash_profile
echo "HISTFILESIZE=10000" &gt;&gt; .bash_profile
echo "HISTSIZE=10000" &gt;&gt; .bash_profile    
chmod 700 ~/.bash_profile
</pre></div>
<p>HISTFILE is where the history saves to (/dev/null = no history file), the default is: ~/.bash_history.</p>
<p>HISTFILESIZE how many commands to keep in HISTFILE (default 500)</p>
<p>HISTSIZE how many commands to keep in the current session (default 500)</p>
<p>HISTIGNORE Controls which commands to ignorea nd not save. The variable takes a list of colon separated patterns. Pattern &amp; matches the previous history command.</p>
<p><code>cut -f1 -d" " .bash_history | sort | uniq -c | sort -nr | head -n 30</code></p>
<blockquote>
<p>what command you've typed the most</p>
</blockquote>
<p><code>cut -f1 -d" " /root/.bash_history | sort | uniq -c | sort -nr | head -n 30</code></p>
<blockquote>
<p>what command root has typed the most</p>
</blockquote>
<p><code>cut -f1 /root/.bash_history | sort | uniq -c | sort -nr | head -n 30</code></p>
<blockquote>
<p>what command + parameters root has typed the most</p>
</blockquote>
<h3 id="example-default-bash_profile">Example default .bash_profile</h3>
<div class="highlight"><pre><span></span><span class="err">#</span><span class="x"> Get the aliases and functions</span>
<span class="x">if [ -f ~/.bashrc ]; then</span>
<span class="x">    . ~/.bashrc</span>
<span class="x">fi</span>

<span class="err">#</span><span class="x"> User specific environment and startup programs</span>
<span class="x">PATH=</span><span class="p">$</span><span class="nv">PATH</span><span class="x">:</span><span class="p">$</span><span class="nv">HOME</span><span class="x">/bin</span>
<span class="x">export PATH</span>

<span class="err">#</span><span class="x"> note this last command only exists in the /root/.bash_profile</span>
<span class="x">unset USERNAME</span>
</pre></div>
<hr/>
<p><code>nano .bashrc</code></p>
<blockquote>
<p>uncomment (remove the leading # from the two lines with --color=auto)</p>
</blockquote>
<div class="highlight"><pre><span></span># enable color support of ls and also add handy aliases
if [ "<span class="nv">$TERM</span>" != "dumb" ]; then
    eval "`dircolors -b`"
    alias ls='ls --color=auto'
    #alias dir='ls --color=auto --format=vertical'
    #alias vdir='ls --color=auto --format=long'
fi

# ALSO, uncomment the following line to get a color prompt:

# Comment in the above and uncomment this below for a color prompt
#PS1='<span class="cp">${</span><span class="n">debian_chroot</span><span class="p">:</span><span class="o">+</span><span class="p">(</span><span class="err">$</span><span class="n">debian_chroot</span><span class="p">)</span><span class="cp">}</span>\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[$
</pre></div>
<p>And comment out the two lines above it...</p>
<h3 id="hotkeys">hotkeys</h3>
<table>
<thead>
<tr>
<th>command</th>
<th>explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>ctrl-r</td>
<td>to search through your command history in reverse (newest to oldest)</td>
</tr>
<tr>
<td>ctrl-k</td>
<td>to clear all the text after cursor</td>
</tr>
<tr>
<td>ctrl-u</td>
<td>to clear all the text before cursor</td>
</tr>
<tr>
<td>ctrl-a</td>
<td>move to beginning of the current</td>
</tr>
<tr>
<td>ctrl-e</td>
<td>move to end of the current</td>
</tr>
<tr>
<td>ctrl-f</td>
<td>move forward one char</td>
</tr>
<tr>
<td>ctrl-b</td>
<td>move backward one word</td>
</tr>
</tbody>
</table>
<h3 id="example-recycle-bin-for-root">Example recycle bin for root</h3>
<p>Now you can do fun things like have a "recycle bin" for root:</p>
<p><code>mkdir /recycle-bin</code>
<code>echo "mv $1 /recycle-bin" &gt; del.sh</code>
<code>chmod 700 del.sh</code></p>
<p>AND THEN VERIFY WITH: </p>
<ol>
<li>touch test.txt</li>
<li>./del.sh test.txt</li>
<li>ls -al /recycle-bin</li>
</ol>
<hr/>
<h3 id="bashrc-xterm-ansi-escape-color-codes">bashrc - xterm - ANSI escape color codes</h3>
<p><strong>.bashrc</strong></p>
<div class="highlight"><pre><span></span>alias xterm1='xterm -fg black -bg white'
</pre></div>
<p>nano /home/username/.icewm/toolbar
prog xterm xterm1 x-terminal-emulator</p>
<p>nano /home/username/.icewm/keys</p>
<p>key "Ctrl+Alt+j" xterm -fg black -bg white</p>
<p>FIRST print out what colors are available...</p>
<div class="highlight"><pre><span></span>dircolors -p &gt; dircolors.txt
</pre></div>
<p>after reading through that and being thoroughly mystified...</p>
<div class="highlight"><pre><span></span>echo -e "\033[44;37;5m ME \033[0m COOL"
</pre></div>
<p>if you put the above into your bash shell you'll see that the ANSI 
control of colors is basically what controls BASH/TERMINALS...</p>
<div class="highlight"><pre><span></span>Attribute codes:
00=none 01=bold 04=underscore 05=blink 07=reverse 08=concealed

Text color codes:
30=black 31=red 32=green 33=yellow 34=blue 35=magenta 36=cyan 37=white

Background color codes:
40=black 41=red 42=green 43=yellow 44=blue 45=magenta 46=cyan 47=white

Black       0;30     Dark Gray     1;30
Blue        0;34     Light Blue    1;34
Green       0;32     Light Green   1;32
Cyan        0;36     Light Cyan    1;36
Red         0;31     Light Red     1;31
Purple      0;35     Light Purple  1;35
Brown       0;33     Yellow        1;33
Light Gray  0;37     White         1;37

echo -e "\e[1;34mThis is a blue text.\e[0m"

so \e[attribute code; text color code0m

framed by the [ --- 0m 
note that the \033 in the first example has been replaced by \e

echo -e "\e[30;470mtest"

FOREGROUND WHITE (in case you accidentally set it to black on black)
echo -e "\033[37m\]"

BACKGROUND WHITE
echo -e "\033[47m\]"

FOREGROUND BLACK
echo -e "\033[1;30m\]"



changing the foreground and background color of your bash shell
(and font?)

TEMPORARY SOLUTION

xterm -fg *color* -bg *color*

PERMENANT SOLUTION


.Xdefaults file in your home directory
</pre></div>
            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
 
                <li class="previous_article">« <a href="https://blog.john-pfeiffer.com/drupal-themes-customization-intro-365-programming-project-day-thirty-four/" title="Previous: Drupal Themes customization intro: 365 programming project day thirty four">Drupal Themes customization intro: 365 programming project day thirty four</a></li>
 
                <li class="next_article"><a href="https://blog.john-pfeiffer.com/c-programming-windows-clock-v3-365-programming-project-day-thirty-five/" title="Next: C programming windows clock v3: 365 programming project day thirty five">C programming windows clock v3: 365 programming project day thirty five</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
 
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2010-02-10T16:00:00-08:00">Feb 10, 2010</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#linux-ref">linux</a> 
            <h4>~1129 words</h4>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article"> 
                <li><a href="/tags.html#bash-ref">bash
                    <span>2</span>
</a></li>
                <li><a href="/tags.html#bash-alias-ref">bash alias
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#bash-history-ref">bash history
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#bashrc-ref">bashrc
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#linux-ref">linux
                    <span>8</span>
</a></li>
            </ul>

        </div>
        </section>
</div>
</article>
				</div>
				<div class="span1"></div>
			</div>
		</div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
    </ul>
</div>
</footer>            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    </body>
</html>