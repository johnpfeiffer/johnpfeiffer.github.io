<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="john pfeiffer" />
        <meta name="copyright" content="john pfeiffer" />

<meta name="keywords" content="linux, network, ifconfig, ifcfg, eth0, route, wifi, wpa, dhcp, linux, " />
        <title>Network ifconfig ifcfg static and dhcp eth0 route wifi wpa  Â· johnpfeiffer
</title>
        <!--link href="https://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css"-->
        <!--link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet"-->
        <link href="https://blog.john-pfeiffer.com/theme/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://blog.john-pfeiffer.com/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://blog.john-pfeiffer.com/theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="https://blog.john-pfeiffer.com/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
    </head>
    <body>
	<div id="content-sans-footer">
        <div class="dropdown-backdrop">

			<div class="navbar navbar-static-top">
				<div class="navbar-inner">
					<div class="container">
						<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</a>
						<a class="brand" href="https://blog.john-pfeiffer.com/"><span class=site-name>johnpfeiffer</span></a>
						<div class="nav-collapse collapse">
							<ul class="nav pull-right top-menu">
								<li ><a href="https://blog.john-pfeiffer.com">Home</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/john-likes/">John Likes</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/categories.html">Categories</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/tags.html">Tags</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/archives.html">Archives</a></li>
								<li><form class="navbar-search" action="https://blog.john-pfeiffer.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span1"></div>
				<div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="https://blog.john-pfeiffer.com/network-ifconfig-ifcfg-static-and-dhcp-eth0-route-wifi-wpa/"> Network ifconfig ifcfg static and dhcp eth0 route wifi wpa  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#quick-awesome-tips">Quick Awesome Tips</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#diagnostics">Diagnostics</a><ul>
<li><a href="#view-current-configuration-and-loopback">View current configuration and Loopback</a></li>
<li><a href="#current-network-connections-with-netstat">Current Network Connections with netstat</a></li>
</ul>
</li>
<li><a href="#configuring-the-network">Configuring the Network</a><ul>
<li><a href="#permanent-persistent-configuration">Permanent persistent configuration</a><ul>
<li><a href="#etcnetworkinterfaces">/etc/network/interfaces</a></li>
<li><a href="#ieee-8021x-wpa-supplicant">IEEE 802.1x WPA Supplicant</a></li>
</ul>
</li>
<li><a href="#configure-your-ip-address-manually">Configure your IP Address Manually</a><ul>
<li><a href="#alternatively-the-more-modern-commands-with-ip">ALTERNATIVELY the more "modern" commands with ip</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#wireless">Wireless</a></li>
<li><a href="#dns-name-resolution">DNS &amp; NAME RESOLUTION</a></li>
<li><a href="#red-hat-and-centos-5">RED HAT AND CENTOS 5</a></li>
<li><a href="#routing-and-default-gateway">ROUTING and DEFAULT GATEWAY</a><ul>
<li><a href="#removing-a-route">Removing a route</a></li>
</ul>
</li>
<li><a href="#example-complicated-static-route-system">EXAMPLE COMPLICATED STATIC ROUTE SYSTEM</a></li>
<li><a href="#pppoe-configuration">PPPoE CONFIGURATION</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
<p>Networking usually has 3 critical configuration components:</p>
<ol>
<li>IP address config</li>
<li>Default route (to the gateway)</li>
<li>DNS (Domain Name System)</li>
</ol>
<blockquote>
<p>I am skipping installing physical network cards and network drivers because we're "all in the cloud" now (or at the very least virtualized)</p>
</blockquote>
<h2 id="quick-awesome-tips">Quick Awesome Tips</h2>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">Bc</span>
</pre></div>
<blockquote>
<p>get the ip addresses of all cards</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ip</span> <span class="n">route</span> <span class="k">get</span> <span class="mi">8</span><span class="p">.</span><span class="mi">8</span><span class="p">.</span><span class="mi">8</span><span class="p">.</span><span class="mi">8</span> <span class="o">|</span> <span class="n">awk</span> <span class="s1">'NR==1 {print $NF}'</span>
</pre></div>
<blockquote>
<p>badass internet tip on how to get the ip address of the outbound network card</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">ifconfig</span> <span class="o">|</span> <span class="n">grep</span> <span class="s1">'inet'</span> <span class="o">|</span> <span class="n">tr</span> <span class="o">-</span><span class="n">s</span> <span class="s1">' '</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">' '</span> <span class="o">-</span><span class="n">f3</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">':'</span> <span class="o">-</span><span class="n">f2</span>
</pre></div>
<blockquote>
<p>one liner to get just the ip addresses</p>
</blockquote>
<h2 id="hardware">Hardware</h2>
<div class="highlight"><pre><span></span><span class="n">lspci</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">i</span> <span class="n">ethernet</span>
</pre></div>
<blockquote>
<p>displays ethernet hardware</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">dmesg</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">eth</span>
</pre></div>
<blockquote>
<p>displays ethernet devices registered during bootup</p>
</blockquote>
<h2 id="diagnostics">Diagnostics</h2>
<h3 id="view-current-configuration-and-loopback">View current configuration and Loopback</h3>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span>
</pre></div>
<blockquote>
<p>simples way to see the current interfaces and configurations</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span> <span class="n">lo</span>

<span class="n">lo</span> <span class="n">Link</span> <span class="n">encap</span><span class="p">:</span><span class="k">Local</span> <span class="n">Loopback</span>
<span class="n">inet</span> <span class="n">addr</span><span class="p">:</span><span class="mi">127</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="n">Mask</span><span class="p">:</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="n">UP</span> <span class="n">LOOPBACK</span> <span class="n">RUNNING</span> <span class="n">MTU</span><span class="p">:</span><span class="mi">16436</span> <span class="n">Metric</span><span class="p">:</span><span class="mi">1</span>
<span class="n">RX</span> <span class="n">packets</span><span class="p">:</span><span class="mi">787</span> <span class="n">errors</span><span class="p">:</span><span class="mi">0</span> <span class="n">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="n">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="n">frame</span><span class="p">:</span><span class="mi">0</span>
<span class="n">TX</span> <span class="n">packets</span><span class="p">:</span><span class="mi">787</span> <span class="n">errors</span><span class="p">:</span><span class="mi">0</span> <span class="n">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="n">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="n">carrier</span><span class="p">:</span><span class="mi">0</span>
<span class="n">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="n">txqueuelen</span><span class="p">:</span><span class="mi">0</span>
<span class="n">RX</span> <span class="n">bytes</span><span class="p">:</span> <span class="n">TX</span> <span class="n">bytes</span><span class="p">:</span>
</pre></div>
<blockquote>
<p>see a specific interface, the loopback interface is the simple test of your tcp/ip stack     </p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
<blockquote>
<p>you will most likely see eth0 for wired interfaces and wlan0 for wireless
and the will include the following line with the interrupt IRQ and memory access address</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">Interrupt</span><span class="o">:</span><span class="mi">11</span> <span class="n">Base</span> <span class="n">address</span><span class="o">:</span><span class="mh">0x1820</span>
</pre></div>
<blockquote>
<p>You may also see any network bridges</p>
</blockquote>
<h3 id="current-network-connections-with-netstat">Current Network Connections with netstat</h3>
<div class="highlight"><pre><span></span><span class="n">netstat</span> <span class="o">-</span><span class="n">i</span>
</pre></div>
<blockquote>
<p>displays active interfaces</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">netstat</span> <span class="o">-</span><span class="n">an</span> <span class="c1">--inet</span>
</pre></div>
<blockquote>
<p>numeric and internet protocols only</p>
</blockquote>
<h2 id="configuring-the-network">Configuring the Network</h2>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">networking</span> <span class="k">restart</span>
</pre></div>
<blockquote>
<p>after making config file changes you should restart the network service (this will reset any manual configuration)</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">dhcpcd</span> <span class="n">eth0</span>
</pre></div>
<blockquote>
<p>runs the DHCP client on eth0 to attain an IP address in the 192.168.1.x range</p>
</blockquote>
<h3 id="permanent-persistent-configuration">Permanent persistent configuration</h3>
<h4 id="etcnetworkinterfaces">/etc/network/interfaces</h4>
<p>the "old" tried and true way of configuring interfaces <a href="https://wiki.debian.org/NetworkConfiguration">https://wiki.debian.org/NetworkConfiguration</a></p>
<div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">lo</span>
<span class="n">iface</span> <span class="n">lo</span> <span class="n">inet</span> <span class="n">loopback</span>

<span class="n">auto</span> <span class="n">eth0</span>
<span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="n">dhcp</span>
</pre></div>
<blockquote>
<p>sets eth0 to be a dhcp client at boot or "ifup eth0"</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="nv">sudo</span> <span class="nv">vi</span> <span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">network</span><span class="o">/</span><span class="nv">interfaces</span>
    <span class="nv">auto</span> <span class="nv">eth0</span>
    <span class="nv">iface</span> <span class="nv">eth0</span> <span class="nv">inet</span> <span class="nv">static</span>
        <span class="nv">address</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">123</span>
        <span class="nv">netmask</span> <span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">254</span>.<span class="mi">0</span>
        <span class="nv">network</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">0</span>
        <span class="nv">broadcast</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">255</span>
        <span class="nv">gateway</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">1</span>

        # <span class="nv">dns</span><span class="o">-*</span> <span class="nv">options</span> <span class="nv">are</span> <span class="nv">implemented</span> <span class="nv">by</span> <span class="nv">the</span> <span class="nv">resolvconf</span> <span class="nv">package</span>, <span class="k">if</span> <span class="nv">installed</span>
        <span class="nv">dns</span><span class="o">-</span><span class="nv">nameservers</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">10</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">11</span>
        <span class="nv">dns</span><span class="o">-</span><span class="nv">search</span> <span class="nv">example</span>.<span class="nv">com</span>
</pre></div>
<blockquote>
<p>permanently configure to a static ip address which survives reboot or sudo /etc/init.d/networking restart</p>
<p>network and broadcast are often optional (e.g. for /24 networks)</p>
</blockquote>
<h4 id="ieee-8021x-wpa-supplicant">IEEE 802.1x WPA Supplicant</h4>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/WPA_supplicant">https://wiki.archlinux.org/index.php/WPA_supplicant</a></li>
<li>
<p><a href="https://help.ubuntu.com/community/Network802.1xAuthentication">https://help.ubuntu.com/community/Network802.1xAuthentication</a></p>
<p>sudo apt-get install wpasupplicant</p>
<blockquote>
<p>install the wpa supplicant binary</p>
</blockquote>
</li>
</ul>
<p>Example wpa_suplicant configuration file:</p>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">wpa_supplicant</span><span class="o">/</span><span class="n">wpa_wired</span><span class="p">.</span><span class="n">conf</span>
    <span class="n">network</span><span class="o">=</span><span class="err">{</span>
    <span class="n">key_mgmt</span><span class="o">=</span><span class="n">IEEE8021X</span>
    <span class="n">eap</span><span class="o">=</span><span class="n">PEAP</span>
    <span class="n">phase2</span><span class="o">=</span><span class="ss">"auth=MSCHAPV2"</span>
    <span class="k">identity</span><span class="o">=</span><span class="ss">"MYUSERNAME"</span>
    <span class="n">password</span><span class="o">=</span><span class="ss">"MYPASSWORD"</span>
  <span class="err">}</span>
</pre></div>
<p>To manually run wpa_supplicant for a wired connection: <code>wpa_supplicant -D wired -i enp0s25 -c /etc/wpa_supplicant/wpa_wired.conf</code></p>
<p>To incorporate this into your /etc/network/interfaces file...</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">interfaces</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="n">file</span> <span class="n">used</span> <span class="k">by</span> <span class="n">ifup</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">and</span> <span class="n">ifdown</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">auto</span> <span class="n">lo</span>
<span class="n">iface</span> <span class="n">lo</span> <span class="n">inet</span> <span class="n">loopback</span>

<span class="n">auto</span> <span class="n">enp0s25</span>
<span class="n">iface</span> <span class="n">enp0s25</span> <span class="n">inet</span> <span class="n">dhcp</span>
    <span class="n">wpa</span><span class="o">-</span><span class="n">driver</span> <span class="n">wired</span>
    <span class="n">wpa</span><span class="o">-</span><span class="n">conf</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">wpa_supplicant</span><span class="o">/</span><span class="n">wpa_wired</span><span class="p">.</span><span class="n">conf</span>
    <span class="n">dns</span><span class="o">-</span><span class="n">nameservers</span> <span class="mi">172</span><span class="p">.</span><span class="mi">28</span><span class="p">.</span><span class="mi">4</span><span class="p">.</span><span class="mi">120</span> <span class="mi">172</span><span class="p">.</span><span class="mi">24</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">180</span>
</pre></div>
<blockquote>
<p>as of 16.04 ubuntu uses a different method of determining the ethernet interface names (so not eth0, instead enp0s25)</p>
</blockquote>
<p>If you wish to obfuscate with a hash (instead of plaintext in the conf file)</p>
<div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">-</span><span class="n">n</span> <span class="n">MYPASSWORD</span> <span class="o">|</span> <span class="n">iconv</span> <span class="o">-</span><span class="n">t</span> <span class="n">utf16le</span> <span class="o">|</span> <span class="n">openssl</span> <span class="n">md4</span>
    <span class="p">(</span><span class="k">stdin</span><span class="p">)</span><span class="o">=</span> <span class="n">db3236251234123412341234</span>
</pre></div>
<p>In the wpa supplicant config update the password line to be:</p>
<div class="highlight"><pre><span></span><span class="n">password</span><span class="o">=</span><span class="n">hash</span><span class="p">:</span><span class="n">db3236251234123412341234</span>
</pre></div>
<h3 id="configure-your-ip-address-manually">Configure your IP Address Manually</h3>
<p>Manual, ad-hoc network configuration - not stored permanently (lost at reboot/power off/network service restart)</p>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">ifconfig</span> <span class="n">eth0</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">11</span>
</pre></div>
<blockquote>
<p>auto configures network to 192.168.1.0 and netmask 255.255.255.0, 10.0.0.1 is different!</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span> <span class="n">eth0</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span> 
<span class="n">ifconfig</span> <span class="n">eth0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span> 
<span class="n">ifconfig</span> <span class="n">eth0</span> <span class="n">broadcast</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">255</span>
</pre></div>
<blockquote>
<p>ALTERNATIVELY you can specify each parameter</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
<blockquote>
<p>shows the results, run inbetween will show the incremental changes</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifconfig</span> <span class="n">eth0</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span> <span class="n">broadcast</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">255</span> <span class="n">up</span>
</pre></div>
<blockquote>
<p>or configure all of the parameters at once</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">route</span> <span class="k">add</span> <span class="k">default</span> <span class="n">gw</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span>
</pre></div>
<blockquote>
<p>ensures communication with our gateway/router/modem</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">route</span> <span class="k">add</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">1</span> <span class="n">dev</span> <span class="n">eth0</span>
</pre></div>
<blockquote>
<p>add another route send 10.x.x.x traffic to a different network gateway (10.10.10.1 via device/interface eth0)</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">up</span> <span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">1</span>
</pre></div>
<blockquote>
<p>define a permanent, persistent static route</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifdown</span> <span class="n">eth0</span>
</pre></div>
<blockquote>
<p>manually disables the eth0 device</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">ifup</span> <span class="n">eth0</span>
</pre></div>
<blockquote>
<p>manually enables the eth0 device</p>
</blockquote>
<h4 id="alternatively-the-more-modern-commands-with-ip">ALTERNATIVELY the more "modern" commands with ip</h4>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">ip</span> <span class="nv">addr</span> <span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">11</span> <span class="nv">dev</span> <span class="nv">eth0</span>
<span class="nv">ip</span> <span class="nv">link</span> <span class="k">show</span>

<span class="mi">1</span>: <span class="nv">lo</span>: <span class="o">&lt;</span><span class="nv">LOOPBACK</span>,<span class="nv">UP</span><span class="o">&gt;</span> ...
<span class="mi">2</span>: <span class="nv">eth0</span>: <span class="o">&lt;</span><span class="nv">BROADCAST</span>,<span class="nv">MULTICAST</span><span class="o">&gt;</span> ...
        <span class="nv">link</span><span class="o">/</span><span class="nv">ether</span> <span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>


<span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</pre></div>
<h2 id="wireless">Wireless</h2>
<p>Can be configured manually substituting wlan0 instead of eth0</p>
<div class="highlight"><pre><span></span><span class="n">iwlist</span> <span class="n">scan</span>

<span class="n">iwconfig</span>
</pre></div>
<blockquote>
<p>sets up your wireless settings (e.g. wpa/wep and passwords/keys)</p>
</blockquote>
<ul>
<li><a href="http://linux.die.net/man/8/iwconfig">http://linux.die.net/man/8/iwconfig</a></li>
</ul>
<h2 id="dns-name-resolution">DNS &amp; NAME RESOLUTION</h2>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">resolv</span><span class="p">.</span><span class="n">conf</span>
</pre></div>
<blockquote>
<p>the linux file for name resolution, can be filled automatically if using DHCP</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="nv">search</span> <span class="nv">name</span><span class="o">-</span><span class="nv">of</span><span class="o">-</span><span class="nv">domain</span>.<span class="nv">com</span>  <span class="o">-</span> <span class="nv">Name</span> <span class="nv">of</span> <span class="nv">your</span> <span class="nv">domain</span> <span class="nv">or</span> <span class="nv">ISP</span><span class="s1">'</span><span class="s">s domain if using their name server</span>
<span class="nv">nameserver</span> <span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span> <span class="o">-</span> <span class="nv">IP</span> <span class="nv">address</span> <span class="nv">of</span> <span class="nv">primary</span> <span class="nv">name</span> <span class="nv">server</span>
<span class="nv">nameserver</span> <span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span> <span class="o">-</span> <span class="nv">IP</span> <span class="nv">address</span> <span class="nv">of</span> <span class="nv">secondary</span> <span class="nv">name</span> <span class="nv">server</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">hosts</span>
</pre></div>
<blockquote>
<p>old system for putting a name to an ip address on the local machine <a href="https://en.wikipedia.org/wiki/Hosts_(file)">https://en.wikipedia.org/wiki/Hosts_(file)</a></p>
<p>can fill in and supersede info on machines not covered by your DNS</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="mi">127</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span>         <span class="n">your</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">name</span><span class="p">.</span><span class="n">your</span><span class="o">-</span><span class="k">domain</span><span class="p">.</span><span class="n">com</span>  <span class="n">localhost</span><span class="p">.</span><span class="n">localdomain</span>  <span class="n">localhost</span> 
<span class="n">XXX</span><span class="p">.</span><span class="n">XXX</span><span class="p">.</span><span class="n">XXX</span><span class="p">.</span><span class="n">XXX</span>   <span class="n">node</span><span class="o">-</span><span class="n">name</span>
</pre></div>
<p>IF USING STATIC RESOLUTION (MANUAL UPDATING OF THE /etc/resolv.conf)</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">remove</span> <span class="n">resolvconf</span>   <span class="p">(</span><span class="n">this</span> <span class="n">utility</span> <span class="n">will</span> <span class="n">automatically</span> <span class="n">overwrite</span> <span class="n">your</span> <span class="n">changes</span> <span class="n">above</span><span class="o">!</span><span class="p">)</span>
</pre></div>
<p>HOSTNAME is how your computer is recognized on the (local) network</p>
<div class="highlight"><pre><span></span><span class="n">hostname</span> <span class="n">newhostname</span>
</pre></div>
<blockquote>
<p>manually changes the hostname (not permanent)</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">hostnamectl</span> <span class="k">set</span><span class="o">-</span><span class="n">hostname</span> <span class="n">NEWHOSTNAME</span>
</pre></div>
<blockquote>
<p>convenient way to set the hostname dynamically AND persistently</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">sysctl</span> <span class="o">-</span><span class="n">w</span> <span class="n">kernel</span><span class="p">.</span><span class="n">hostname</span><span class="o">=</span><span class="ss">"newhostname"</span>
</pre></div>
<blockquote>
<p>low level alternative  <a href="http://linux.die.net/man/8/sysctl">http://linux.die.net/man/8/sysctl</a></p>
</blockquote>
<h2 id="red-hat-and-centos-5">RED HAT AND CENTOS 5</h2>
<p>You must modify the config files (but the changes will survive reboot =)</p>
<div class="highlight"><pre><span></span><span class="nv">sudo</span> <span class="nv">vi</span> <span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">sysconfig</span><span class="o">/</span><span class="nv">network</span><span class="o">-</span><span class="nv">scripts</span><span class="o">/</span><span class="nv">ifcfg</span><span class="o">-</span><span class="nv">eth0</span>

<span class="nv">DEVICE</span><span class="o">=</span><span class="nv">eth0</span>
<span class="nv">BOOTPROTO</span><span class="o">=</span>                          <span class="o">//</span><span class="nv">could</span> <span class="nv">be</span> <span class="nv">dhcp</span>?
<span class="nv">IPADDR</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">59</span>
<span class="nv">NETMASK</span><span class="o">=</span><span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">0</span>
<span class="nv">BROADCAST</span><span class="o">=</span><span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>
<span class="nv">NETWORK</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">0</span>
<span class="nv">DNS1</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">30</span>
<span class="nv">DNS2</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">3</span>

<span class="nv">HWADDR</span><span class="o">=</span><span class="mi">08</span>:<span class="mi">00</span>:<span class="mi">27</span>:<span class="nv">B4</span>:<span class="mi">79</span>:<span class="mi">93</span>
<span class="nv">ONBOOT</span><span class="o">=</span><span class="nv">yes</span>
<span class="nv">DHCP_HOSTNAME</span><span class="o">=</span><span class="nv">madics</span><span class="o">-</span><span class="nv">vm</span>
<span class="nv">GATEWAY</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">3</span>
<span class="nv">TYPE</span><span class="o">=</span><span class="nv">Ethernet</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">init</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">network</span> <span class="nv">restart</span>
<span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
<span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
<span class="nv">AUTOMATIC</span> <span class="nv">CONFIGURATION</span> <span class="nv">OF</span> <span class="nv">YOUR</span> <span class="nv">IP</span> <span class="nv">ADDRESS</span>

<span class="o">//</span> <span class="nv">modify</span> <span class="nv">the</span> <span class="nv">file</span> <span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">network</span><span class="o">/</span><span class="nv">interfaces</span> <span class="nv">and</span> <span class="k">then</span> <span class="nv">you</span> <span class="nv">can</span> <span class="nv">run</span> <span class="nv">ifup</span><span class="o">/</span><span class="nv">ifdown</span>
<span class="o">//</span> <span class="nv">the</span> <span class="nv">default</span> <span class="nv">linux</span> <span class="nv">config</span> <span class="nv">file</span> <span class="k">for</span> <span class="nv">setting</span> <span class="nv">up</span> <span class="nv">networking</span> <span class="ss">(</span><span class="nv">at</span> <span class="nv">bootup</span><span class="ss">)</span>
<span class="o">//</span> <span class="nv">EXAMPLE</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">config</span> <span class="nv">file</span> <span class="nv">from</span> <span class="nv">ubuntu</span> <span class="nv">server</span> <span class="ss">(</span><span class="nv">could</span> <span class="nv">be</span> <span class="nv">debian</span> <span class="nv">too</span><span class="ss">)</span>

<span class="nv">auto</span> <span class="nv">lo</span>
<span class="nv">iface</span> <span class="nv">lo</span> <span class="nv">inet</span> <span class="nv">loopback</span>

#<span class="nv">sets</span> <span class="nv">eth0</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">a</span> <span class="nv">dhcp</span> <span class="nv">client</span> <span class="nv">at</span> <span class="nv">boot</span> <span class="nv">or</span> <span class="s2">"</span><span class="s">ifup eth0</span><span class="s2">"</span>
<span class="nv">auto</span> <span class="nv">eth0</span>
<span class="nv">iface</span> <span class="nv">eth0</span> <span class="nv">inet</span> <span class="nv">dhcp</span>

<span class="nv">auto</span> <span class="nv">ath0</span>           <span class="o">//</span><span class="nv">atheros</span> <span class="nv">chip</span> <span class="nv">based</span> <span class="nv">networking</span>
<span class="nv">auto</span> <span class="nv">wlan0</span>          <span class="o">//</span><span class="nv">wireless</span> <span class="nv">chip</span> <span class="nv">based</span> <span class="nv">networking</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">init</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">networking</span> <span class="nv">restart</span>  <span class="o">//</span><span class="nv">required</span> <span class="nv">to</span> <span class="nv">apply</span> <span class="nv">changes</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">above</span> <span class="nv">files</span>

<span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>

<span class="nv">net</span><span class="o">-</span><span class="nv">setup</span> <span class="nv">eth0</span>      <span class="o">//</span><span class="nv">system</span> <span class="nv">rescue</span> <span class="nv">cd</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">sysconfig</span><span class="o">/</span><span class="nv">network</span>      <span class="o">//</span><span class="nv">redhat</span><span class="o">/</span><span class="nv">fedora</span> <span class="nv">file</span> <span class="nv">to</span> <span class="nv">configure</span> <span class="nv">the</span> <span class="nv">network</span>
<span class="nv">NETWORKING</span><span class="o">=</span><span class="nv">yes</span>
<span class="nv">HOSTNAME</span><span class="o">=</span><span class="nv">my</span><span class="o">-</span><span class="nv">hostname</span>      <span class="o">-</span> <span class="nv">Hostname</span> <span class="nv">is</span> <span class="nv">defined</span> <span class="nv">here</span> <span class="nv">and</span> <span class="nv">by</span> <span class="nv">command</span> <span class="nv">hostname</span>
<span class="nv">FORWARD_IPV4</span><span class="o">=</span><span class="nv">true</span>         <span class="o">-</span> <span class="nv">True</span> <span class="k">for</span> <span class="nv">NAT</span> <span class="nv">firewall</span> <span class="nv">gateways</span> <span class="nv">and</span> <span class="nv">linux</span> <span class="nv">routers</span>. 
                            <span class="nv">False</span> <span class="k">for</span> <span class="nv">everyone</span> <span class="k">else</span> <span class="o">-</span> <span class="nv">desktops</span> <span class="nv">and</span> <span class="nv">servers</span>.
<span class="nv">GATEWAY</span><span class="o">=</span><span class="s2">"</span><span class="s">XXX.XXX.XXX.YYY</span><span class="s2">"</span> <span class="o">-</span> <span class="nv">Static</span> <span class="nv">IP</span> <span class="nv">configuration</span>. <span class="nv">Gateway</span> <span class="nv">not</span> <span class="nv">defined</span> <span class="nv">here</span> <span class="k">for</span> <span class="nv">DHCP</span> <span class="nv">client</span>.


<span class="nv">ifcfg</span><span class="o">-</span><span class="nv">eth0</span>      <span class="o">//</span><span class="nv">file</span> <span class="nv">on</span> <span class="nv">fedora</span> <span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">sysconfig</span><span class="o">/</span><span class="nv">network</span><span class="o">-</span><span class="nv">scripts</span> <span class="nv">autoconfigure</span> <span class="nv">on</span> <span class="nv">boot</span> <span class="nv">or</span> <span class="nv">ifup</span>
<span class="nv">DEVICE</span><span class="o">=</span><span class="nv">eth0</span>
<span class="nv">BOOTPROTO</span><span class="o">=</span><span class="nv">static</span>            <span class="o">//</span><span class="nv">could</span> <span class="nv">be</span> <span class="nv">set</span> <span class="nv">to</span> <span class="o">=</span><span class="nv">dhcp</span>
<span class="nv">IPADDR</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">100</span>            <span class="o">//</span><span class="nv">unnecessary</span> <span class="k">for</span> <span class="nv">dhcp</span> 
<span class="nv">NETMASK</span><span class="o">=</span><span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">0</span>           <span class="o">//</span><span class="nv">unnecessary</span> <span class="k">for</span> <span class="nv">dhcp</span>
<span class="nv">ONBOOT</span><span class="o">=</span><span class="nv">yes</span>
<span class="nv">BROADCAST</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">255</span>         <span class="o">//</span><span class="nv">optional</span> <span class="nv">setting</span>, <span class="nv">unnecessary</span> <span class="k">for</span> <span class="nv">dhcp</span>
<span class="nv">NETWORK</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">0</span>         <span class="o">//</span><span class="nv">optional</span> <span class="nv">setting</span>, <span class="nv">unnecessary</span> <span class="k">for</span> <span class="nv">dhcp</span>


    <span class="o">*</span> <span class="nv">TYPE</span><span class="o">=</span><span class="nv">Ethernet</span>         <span class="o">//</span><span class="nv">RHEL4</span><span class="o">/</span><span class="nv">FC3</span> <span class="nv">addition</span>
    <span class="o">*</span> <span class="nv">HWADDR</span><span class="o">=</span><span class="nv">XX</span>:<span class="nv">XX</span>:<span class="nv">XX</span>:<span class="nv">XX</span>:<span class="nv">XX</span>:<span class="nv">XX</span>      <span class="o">//</span><span class="nv">RHEL4</span><span class="o">/</span><span class="nv">FC3</span> <span class="nv">addition</span>
    <span class="o">*</span> <span class="nv">GATEWAY</span><span class="o">=</span><span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span>       <span class="o">//</span><span class="nv">RHEL4</span><span class="o">/</span><span class="nv">FC3</span> <span class="nv">addition</span>


<span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">netconfig</span>         <span class="o">//</span><span class="nv">redhat</span> <span class="nv">console</span> <span class="nv">tool</span> <span class="k">for</span> <span class="nv">configuring</span> <span class="nv">network</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">rc</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">rc</span>.<span class="nv">local</span>  <span class="o">//</span><span class="nv">redhat</span> <span class="nv">place</span> <span class="k">for</span> <span class="nv">custom</span> <span class="nv">boot</span> <span class="nv">up</span> <span class="nv">scripts</span> <span class="o">-</span> <span class="nv">network</span> <span class="nv">config</span> <span class="nv">can</span> <span class="nv">be</span> <span class="nv">done</span> <span class="nv">here</span> <span class="nv">as</span> <span class="nv">well</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">sysconfig</span><span class="o">/</span><span class="nv">network</span>
</pre></div>
<blockquote>
<div class="highlight"><pre><span></span><span class="o">//</span><span class="n">change</span> <span class="n">the</span> <span class="n">hostname</span> <span class="n">config</span> <span class="n">file</span> <span class="o">-</span> <span class="n">hostname</span> <span class="k">at</span> <span class="n">boot</span>
</pre></div>
</blockquote>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
<span class="nv">MULTIPLE</span> <span class="nv">IP</span> <span class="nv">ADDRESSES</span> <span class="nv">ON</span> <span class="nv">A</span> <span class="nv">SINGLE</span> <span class="nv">NIC</span> <span class="ss">(</span><span class="nv">VIRTUAL</span> <span class="nv">SUBINTERFACE</span> <span class="nv">or</span> <span class="nv">ALIAS</span><span class="ss">)</span>

<span class="nv">NOTE</span>: <span class="nv">it</span><span class="s1">'</span><span class="s">s not necessarily a good idea to have two network interfaces in the same network space</span>

<span class="nv">IP</span> <span class="nv">Alias</span> <span class="nv">is</span> <span class="nv">standard</span> <span class="nv">in</span> <span class="nv">kernels</span> <span class="mi">2</span>.<span class="mi">0</span>.<span class="nv">x</span> <span class="nv">and</span> <span class="mi">2</span>.<span class="mi">2</span>.<span class="nv">x</span>
<span class="ss">(</span><span class="k">if</span> <span class="nv">required</span> <span class="nv">to</span> <span class="nv">load</span> <span class="nv">into</span> <span class="nv">the</span> <span class="nv">kernel</span>...<span class="o">/</span><span class="nv">sbin</span><span class="o">/</span><span class="nv">insmod</span> <span class="o">/</span><span class="nv">lib</span><span class="o">/</span><span class="nv">modules</span><span class="o">/</span>`<span class="nv">uname</span> <span class="o">-</span><span class="nv">r</span>`<span class="o">/</span><span class="nv">ipv4</span><span class="o">/</span><span class="nv">ip_alias</span>.<span class="nv">o</span><span class="ss">)</span>

<span class="nv">ifconfig</span> <span class="nv">wlan0</span> <span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">11</span> <span class="nv">netmask</span> <span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">0</span> <span class="nv">up</span>
<span class="nv">ifconfig</span> <span class="nv">wlan0</span>:<span class="mi">0</span> <span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">111</span> <span class="nv">netmask</span> <span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">0</span> <span class="nv">up</span>
<span class="nv">ifconfig</span> <span class="nv">wlan0</span>:<span class="mi">1</span> <span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">211</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">sysconfig</span><span class="o">/</span><span class="nv">network</span><span class="o">-</span><span class="nv">scripts</span><span class="o">/</span><span class="nv">ifcfg</span><span class="o">-</span><span class="nv">wlan0</span>:<span class="mi">0</span>    <span class="o">//</span><span class="nv">file</span> <span class="nv">on</span> <span class="nv">fedora</span> <span class="nv">to</span> <span class="nv">manage</span> <span class="nv">virtual</span> <span class="nv">subint</span> <span class="nv">on</span> <span class="nv">boot</span>
<span class="nv">DEVICE</span><span class="o">=</span><span class="nv">wlan0</span>:<span class="mi">0</span>
<span class="nv">ONBOOT</span><span class="o">=</span><span class="nv">yes</span>
<span class="nv">BOOTPROTO</span><span class="o">=</span><span class="nv">static</span>
<span class="nv">IPADDR</span><span class="o">=</span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">99</span>
<span class="nv">NETMASK</span><span class="o">=</span><span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">0</span>

<span class="o">//</span><span class="nv">using</span> <span class="nv">the</span> <span class="nv">above</span> <span class="nv">file</span> <span class="nv">can</span> <span class="nv">allow</span> <span class="nv">the</span> <span class="nv">easy</span> <span class="nv">enable</span><span class="o">/</span><span class="nv">disable</span> <span class="nv">of</span> <span class="nv">device</span> <span class="nv">via</span>
<span class="nv">ifup</span> <span class="nv">wlan0</span>:<span class="mi">0</span>
<span class="nv">ifdown</span> <span class="nv">wlan0</span>:<span class="mi">0</span>

<span class="o">//</span><span class="nv">Note</span> <span class="nv">that</span> <span class="k">if</span> <span class="nv">the</span> <span class="nv">parent</span> <span class="nv">device</span> <span class="nv">is</span> <span class="nv">disabled</span> <span class="ss">(</span><span class="nv">ifdown</span> <span class="nv">wlan0</span><span class="ss">)</span> <span class="nv">all</span> <span class="s2">"</span><span class="s">aliases</span><span class="s2">"</span> <span class="nv">or</span> <span class="nv">subint</span><span class="s1">'</span><span class="s">s are disabled</span>
</pre></div>
<h2 id="routing-and-default-gateway">ROUTING and DEFAULT GATEWAY</h2>
<div class="highlight"><pre><span></span><span class="n">netstat</span> <span class="o">-</span><span class="n">rn</span>
</pre></div>
<blockquote>
<p>shows the current routing table (numeric only so not trying to resolve each ip address to a hostname)</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">route</span> <span class="k">add</span> <span class="k">default</span> <span class="n">gw</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="n">wlan0</span>
</pre></div>
<blockquote>
<p>all unknown traffic will go through wlan0</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="n">wlan0</span>
</pre></div>
<blockquote>
<p>traffic for 10.0.0.0 network will be sent to ip address 10.0.0.1</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">127</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="n">dev</span> <span class="n">eth0</span>
<span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="k">host</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">11</span> <span class="n">dev</span> <span class="n">eth0</span>
<span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="k">host</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">111</span> <span class="n">dev</span> <span class="n">eth0</span><span class="p">:</span><span class="mi">0</span>
<span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="k">host</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">211</span> <span class="n">dev</span> <span class="n">eth0</span><span class="p">:</span><span class="mi">1</span>
</pre></div>
<h3 id="removing-a-route">Removing a route</h3>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">route</span> <span class="n">del</span> <span class="o">-</span><span class="n">net</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span>
<span class="n">route</span> <span class="n">del</span> <span class="o">-</span><span class="n">net</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">254</span>
</pre></div>
<blockquote>
<p>remove a route</p>
</blockquote>
<p>for some reason other variations don't work</p>
<p>THEN
    /sbin/route del -net default gw 192.168.2.1</p>
<p>THEN 
    route add default gw 192.168.1.3</p>
<div class="highlight"><pre><span></span><span class="n">route</span> <span class="o">-</span><span class="n">n</span>
</pre></div>
<h2 id="example-complicated-static-route-system">EXAMPLE COMPLICATED STATIC ROUTE SYSTEM</h2>
<div class="highlight"><pre><span></span> <span class="n">auto</span> <span class="n">eth0</span> 
 <span class="n">iface</span> <span class="n">inet</span> <span class="k">static</span>
 <span class="n">address</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">64</span><span class="p">.</span><span class="mi">190</span>
 <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">254</span><span class="p">.</span><span class="mi">0</span>

 <span class="n">gateway</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">64</span><span class="p">.</span><span class="mi">1</span>

 <span class="n">auto</span> <span class="n">eth1</span>
 <span class="n">iface</span> <span class="n">inet</span> <span class="k">static</span>
 <span class="n">address</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">66</span><span class="p">.</span><span class="mi">190</span>
 <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">254</span><span class="p">.</span><span class="mi">0</span>

 <span class="n">up</span> <span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">64</span><span class="p">.</span><span class="mi">1</span> <span class="n">eth0</span>
 <span class="n">up</span> <span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">66</span><span class="p">.</span><span class="mi">1</span> <span class="n">eth1</span>
 <span class="n">up</span> <span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">172</span><span class="p">.</span><span class="mi">16</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">240</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">66</span><span class="p">.</span><span class="mi">1</span> <span class="n">eth1</span>
 <span class="n">up</span> <span class="n">route</span> <span class="k">add</span> <span class="o">-</span><span class="n">net</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">netmask</span> <span class="mi">255</span><span class="p">.</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="n">gw</span> <span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">66</span><span class="p">.</span><span class="mi">1</span> <span class="n">eth1</span>
</pre></div>
<h2 id="pppoe-configuration">PPPoE CONFIGURATION</h2>
<p>The PPPOE configuration will create a software-based virtual interface named ppp0 that will use the physical Internet interface eth0    </p>
<div class="highlight"><pre><span></span><span class="n">rp</span><span class="o">-</span><span class="n">pppoe</span><span class="o">-</span><span class="mi">3</span><span class="p">.</span><span class="mi">5</span><span class="o">-</span><span class="mi">8</span><span class="p">.</span><span class="n">i386</span><span class="p">.</span><span class="n">rpm</span>
</pre></div>
            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
 
                <li class="previous_article">Â« <a href="https://blog.john-pfeiffer.com/firewall-iptables-ufw-ssh-https-nat-forwarding-redirect/" title="Previous: firewall iptables ufw ssh https nat forwarding redirect">firewall iptables ufw ssh https nat forwarding redirect</a></li>
 
                <li class="next_article"><a href="https://blog.john-pfeiffer.com/wget-curl-get-ip-timeout-backup-download-site-including-images/" title="Next: wget curl get ip timeout backup download site including images">wget curl get ip timeout backup download site including images</a> Â»</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
 
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2009-08-06T19:22:07-07:00">Aug 6, 2009</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#linux-ref">linux</a> 
            <h4>~1402 words</h4>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article"> 
                <li><a href="/tags.html#dhcp-ref">dhcp
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#eth0-ref">eth0
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#ifcfg-ref">ifcfg
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#ifconfig-ref">ifconfig
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#linux-ref">linux
                    <span>11</span>
</a></li>
                <li><a href="/tags.html#network-ref">network
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#route-ref">route
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#wifi-ref">wifi
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#wpa-ref">wpa
                    <span>1</span>
</a></li>
            </ul>

        </div>
        </section>
</div>
</article>
				</div>
				<div class="span1"></div>
			</div>
		</div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
    </ul>
</div>
</footer>            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    </body>
</html>