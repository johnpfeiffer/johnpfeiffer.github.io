<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="john pfeiffer" />
        <meta name="copyright" content="john pfeiffer" />

<meta name="keywords" content="linux, network, ifconfig, ifcfg, eth0, route, wifi, wpa, dhcp, linux, " />
        <title>Network ifconfig ifcfg static and dhcp eth0 route wifi wpa  Â· johnpfeiffer
</title>
        <!--link href="https://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css"-->
        <!--link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet"-->
        <link href="https://blog.john-pfeiffer.com/theme/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://blog.john-pfeiffer.com/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://blog.john-pfeiffer.com/theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="https://blog.john-pfeiffer.com/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="https://blog.john-pfeiffer.com/theme/images/apple-touch-icon-144x144.png" />
    </head>
    <body>
	<div id="content-sans-footer">
        <div class="dropdown-backdrop">

			<div class="navbar navbar-static-top">
				<div class="navbar-inner">
					<div class="container">
						<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</a>
						<a class="brand" href="https://blog.john-pfeiffer.com/"><span class=site-name>johnpfeiffer</span></a>
						<div class="nav-collapse collapse">
							<ul class="nav pull-right top-menu">
								<li ><a href="https://blog.john-pfeiffer.com">Home</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/john-likes/">John Likes</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/categories.html">Categories</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/tags.html">Tags</a></li>
								<li ><a href="https://blog.john-pfeiffer.com/archives.html">Archives</a></li>
								<li><form class="navbar-search" action="https://blog.john-pfeiffer.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span1"></div>
				<div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="https://blog.john-pfeiffer.com/network-ifconfig-ifcfg-static-and-dhcp-eth0-route-wifi-wpa/"> Network ifconfig ifcfg static and dhcp eth0 route wifi wpa  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#quick-awesome-tips">Quick Awesome Tips</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#diagnostics">Diagnostics</a><ul>
<li><a href="#view-current-configuration-and-loopback">View current configuration and Loopback</a></li>
<li><a href="#current-network-connections-with-netstat">Current Network Connections with netstat</a></li>
</ul>
</li>
<li><a href="#configuring-the-network">Configuring the Network</a><ul>
<li><a href="#permanent-persistent-configuration">Permanent persistent configuration</a><ul>
<li><a href="#etcnetworkinterfaces">/etc/network/interfaces</a></li>
<li><a href="#ieee-8021x-wpa-supplicant">IEEE 802.1x WPA Supplicant</a></li>
</ul>
</li>
<li><a href="#configure-your-ip-address-manually">Configure your IP Address Manually</a><ul>
<li><a href="#alternatively-the-more-modern-commands-with-ip">ALTERNATIVELY the more "modern" commands with ip</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#wireless">Wireless</a></li>
<li><a href="#dns-name-resolution">DNS &amp; NAME RESOLUTION</a></li>
<li><a href="#red-hat-and-centos-5">RED HAT AND CENTOS 5</a></li>
<li><a href="#routing-and-default-gateway">ROUTING and DEFAULT GATEWAY</a><ul>
<li><a href="#removing-a-route">Removing a route</a></li>
</ul>
</li>
<li><a href="#example-complicated-static-route-system">EXAMPLE COMPLICATED STATIC ROUTE SYSTEM</a></li>
<li><a href="#pppoe-configuration">PPPoE CONFIGURATION</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
<p>Networking usually has 3 critical configuration components:</p>
<ol>
<li>IP address config</li>
<li>Default route (to the gateway)</li>
<li>DNS (Domain Name System)</li>
</ol>
<blockquote>
<p>I am skipping installing physical network cards and network drivers because we're "all in the cloud" now (or at the very least virtualized)</p>
</blockquote>
<h2 id="quick-awesome-tips">Quick Awesome Tips</h2>
<div class="highlight"><pre><span></span><code>ifconfig | grep Bc
</code></pre></div>
<blockquote>
<p>get the ip addresses of all cards</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ip route get 8.8.8.8 | awk 'NR==1 {print $NF}'
</code></pre></div>
<blockquote>
<p>badass internet tip on how to get the ip address of the outbound network card</p>
</blockquote>
<div class="highlight"><pre><span></span><code>/sbin/ifconfig | grep 'inet' | tr -s ' ' | cut -d ' ' -f3 | cut -d ':' -f2
</code></pre></div>
<blockquote>
<p>one liner to get just the ip addresses</p>
</blockquote>
<h2 id="hardware">Hardware</h2>
<div class="highlight"><pre><span></span><code>lspci | grep -i ethernet
</code></pre></div>
<blockquote>
<p>displays ethernet hardware</p>
</blockquote>
<div class="highlight"><pre><span></span><code>dmesg | grep eth
</code></pre></div>
<blockquote>
<p>displays ethernet devices registered during bootup</p>
</blockquote>
<h2 id="diagnostics">Diagnostics</h2>
<h3 id="view-current-configuration-and-loopback">View current configuration and Loopback</h3>
<div class="highlight"><pre><span></span><code>ifconfig
</code></pre></div>
<blockquote>
<p>simples way to see the current interfaces and configurations</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifconfig lo

lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
UP LOOPBACK RUNNING MTU:16436 Metric:1
RX packets:787 errors:0 dropped:0 overruns:0 frame:0
TX packets:787 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:0
RX bytes: TX bytes:
</code></pre></div>
<blockquote>
<p>see a specific interface, the loopback interface is the simple test of your tcp/ip stack     </p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifconfig -a
</code></pre></div>
<blockquote>
<p>you will most likely see eth0 for wired interfaces and wlan0 for wireless
and the will include the following line with the interrupt IRQ and memory access address</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">Interrupt</span><span class="o">:</span><span class="mi">11</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="n">address</span><span class="o">:</span><span class="mh">0x1820</span><span class="w"></span>
</code></pre></div>
<blockquote>
<p>You may also see any network bridges</p>
</blockquote>
<h3 id="current-network-connections-with-netstat">Current Network Connections with netstat</h3>
<div class="highlight"><pre><span></span><code>netstat -i
</code></pre></div>
<blockquote>
<p>displays active interfaces</p>
</blockquote>
<div class="highlight"><pre><span></span><code>netstat -an --inet
</code></pre></div>
<blockquote>
<p>numeric and internet protocols only</p>
</blockquote>
<h2 id="configuring-the-network">Configuring the Network</h2>
<div class="highlight"><pre><span></span><code>/etc/init.d/networking restart
</code></pre></div>
<blockquote>
<p>after making config file changes you should restart the network service (this will reset any manual configuration)</p>
</blockquote>
<div class="highlight"><pre><span></span><code>dhcpcd eth0
</code></pre></div>
<blockquote>
<p>runs the DHCP client on eth0 to attain an IP address in the 192.168.1.x range</p>
</blockquote>
<h3 id="permanent-persistent-configuration">Permanent persistent configuration</h3>
<h4 id="etcnetworkinterfaces">/etc/network/interfaces</h4>
<p>the "old" tried and true way of configuring interfaces <a href="https://wiki.debian.org/NetworkConfiguration">https://wiki.debian.org/NetworkConfiguration</a></p>
<div class="highlight"><pre><span></span><code>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp
</code></pre></div>
<blockquote>
<p>sets eth0 to be a dhcp client at boot or "ifup eth0"</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nv">sudo</span> <span class="nv">vi</span> <span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">network</span><span class="o">/</span><span class="nv">interfaces</span>
    <span class="nv">auto</span> <span class="nv">eth0</span>
    <span class="nv">iface</span> <span class="nv">eth0</span> <span class="nv">inet</span> <span class="nv">static</span>
        <span class="nv">address</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">123</span>
        <span class="nv">netmask</span> <span class="mi">255</span>.<span class="mi">255</span>.<span class="mi">254</span>.<span class="mi">0</span>
        <span class="nv">network</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">0</span>
        <span class="nv">broadcast</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">255</span>
        <span class="nv">gateway</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">1</span>

        # <span class="nv">dns</span><span class="o">-*</span> <span class="nv">options</span> <span class="nv">are</span> <span class="nv">implemented</span> <span class="nv">by</span> <span class="nv">the</span> <span class="nv">resolvconf</span> <span class="nv">package</span>, <span class="k">if</span> <span class="nv">installed</span>
        <span class="nv">dns</span><span class="o">-</span><span class="nv">nameservers</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">10</span> <span class="mi">172</span>.<span class="mi">24</span>.<span class="mi">32</span>.<span class="mi">11</span>
        <span class="nv">dns</span><span class="o">-</span><span class="nv">search</span> <span class="nv">example</span>.<span class="nv">com</span>
</code></pre></div>
<blockquote>
<p>permanently configure to a static ip address which survives reboot or sudo /etc/init.d/networking restart</p>
<p>network and broadcast are often optional (e.g. for /24 networks)</p>
</blockquote>
<h4 id="ieee-8021x-wpa-supplicant">IEEE 802.1x WPA Supplicant</h4>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/WPA_supplicant">https://wiki.archlinux.org/index.php/WPA_supplicant</a></li>
<li>
<p><a href="https://help.ubuntu.com/community/Network802.1xAuthentication">https://help.ubuntu.com/community/Network802.1xAuthentication</a></p>
<p>sudo apt-get install wpasupplicant</p>
<blockquote>
<p>install the wpa supplicant binary</p>
</blockquote>
</li>
</ul>
<p>Example wpa_suplicant configuration file:</p>
<div class="highlight"><pre><span></span><code><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">wpa_supplicant</span><span class="o">/</span><span class="n">wpa_wired</span><span class="p">.</span><span class="n">conf</span><span class="w"></span>
<span class="w">    </span><span class="n">network</span><span class="o">=</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">key_mgmt</span><span class="o">=</span><span class="n">IEEE8021X</span><span class="w"></span>
<span class="w">    </span><span class="n">eap</span><span class="o">=</span><span class="n">PEAP</span><span class="w"></span>
<span class="w">    </span><span class="n">phase2</span><span class="o">=</span><span class="s">"auth=MSCHAPV2"</span><span class="w"></span>
<span class="w">    </span><span class="n">identity</span><span class="o">=</span><span class="s">"MYUSERNAME"</span><span class="w"></span>
<span class="w">    </span><span class="n">password</span><span class="o">=</span><span class="s">"MYPASSWORD"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>To manually run wpa_supplicant for a wired connection: <code>wpa_supplicant -D wired -i enp0s25 -c /etc/wpa_supplicant/wpa_wired.conf</code></p>
<p>To incorporate this into your /etc/network/interfaces file...</p>
<div class="highlight"><pre><span></span><code><span class="p">#</span><span class="w"> </span><span class="n">interfaces</span><span class="p">(</span><span class="mh">5</span><span class="p">)</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">ifup</span><span class="p">(</span><span class="mh">8</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">ifdown</span><span class="p">(</span><span class="mh">8</span><span class="p">)</span><span class="w"></span>
<span class="n">auto</span><span class="w"> </span><span class="n">lo</span><span class="w"></span>
<span class="n">iface</span><span class="w"> </span><span class="n">lo</span><span class="w"> </span><span class="n">inet</span><span class="w"> </span><span class="n">loopback</span><span class="w"></span>

<span class="n">auto</span><span class="w"> </span><span class="n">enp0s25</span><span class="w"></span>
<span class="n">iface</span><span class="w"> </span><span class="n">enp0s25</span><span class="w"> </span><span class="n">inet</span><span class="w"> </span><span class="n">dhcp</span><span class="w"></span>
<span class="w">    </span><span class="n">wpa</span><span class="o">-</span><span class="n">driver</span><span class="w"> </span><span class="n">wired</span><span class="w"></span>
<span class="w">    </span><span class="n">wpa</span><span class="o">-</span><span class="n">conf</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">wpa_supplicant</span><span class="o">/</span><span class="n">wpa_wired</span><span class="p">.</span><span class="n">conf</span><span class="w"></span>
<span class="w">    </span><span class="n">dns</span><span class="o">-</span><span class="n">nameservers</span><span class="w"> </span><span class="mf">172.28.4.120</span><span class="w"> </span><span class="mf">172.24.0.180</span><span class="w"></span>
</code></pre></div>
<blockquote>
<p>as of 16.04 ubuntu uses a different method of determining the ethernet interface names (so not eth0, instead enp0s25)</p>
</blockquote>
<p>If you wish to obfuscate with a hash (instead of plaintext in the conf file)</p>
<div class="highlight"><pre><span></span><code>echo -n MYPASSWORD | iconv -t utf16le | openssl md4
    (stdin)= db3236251234123412341234
</code></pre></div>
<p>In the wpa supplicant config update the password line to be:</p>
<div class="highlight"><pre><span></span><code>password=hash:db3236251234123412341234
</code></pre></div>
<h3 id="configure-your-ip-address-manually">Configure your IP Address Manually</h3>
<p>Manual, ad-hoc network configuration - not stored permanently (lost at reboot/power off/network service restart)</p>
<div class="highlight"><pre><span></span><code>/sbin/ifconfig eth0 192.168.1.11
</code></pre></div>
<blockquote>
<p>auto configures network to 192.168.1.0 and netmask 255.255.255.0, 10.0.0.1 is different!</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifconfig eth0 10.0.0.1 
ifconfig eth0 netmask 255.255.255.0 
ifconfig eth0 broadcast 10.0.0.255
</code></pre></div>
<blockquote>
<p>ALTERNATIVELY you can specify each parameter</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifconfig -a
</code></pre></div>
<blockquote>
<p>shows the results, run inbetween will show the incremental changes</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifconfig eth0 10.0.0.1 netmask 255.255.255.0 broadcast 10.0.0.255 up
</code></pre></div>
<blockquote>
<p>or configure all of the parameters at once</p>
</blockquote>
<div class="highlight"><pre><span></span><code>route add default gw 192.168.1.1
</code></pre></div>
<blockquote>
<p>ensures communication with our gateway/router/modem</p>
</blockquote>
<div class="highlight"><pre><span></span><code>route add add -net 10.0.0.0 netmask 255.0.0.0 gw 10.10.10.1 dev eth0
</code></pre></div>
<blockquote>
<p>add another route send 10.x.x.x traffic to a different network gateway (10.10.10.1 via device/interface eth0)</p>
</blockquote>
<div class="highlight"><pre><span></span><code>up route add -net 192.168.0.0 netmask 255.255.0.0 gw 10.10.10.1
</code></pre></div>
<blockquote>
<p>define a permanent, persistent static route</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifdown eth0
</code></pre></div>
<blockquote>
<p>manually disables the eth0 device</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ifup eth0
</code></pre></div>
<blockquote>
<p>manually enables the eth0 device</p>
</blockquote>
<h4 id="alternatively-the-more-modern-commands-with-ip">ALTERNATIVELY the more "modern" commands with ip</h4>
<div class="highlight"><pre><span></span><code><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">ip</span> <span class="nv">addr</span> <span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">11</span> <span class="nv">dev</span> <span class="nv">eth0</span>
<span class="nv">ip</span> <span class="nv">link</span> <span class="k">show</span>

<span class="mi">1</span>: <span class="nv">lo</span>: <span class="o">&lt;</span><span class="nv">LOOPBACK</span>,<span class="nv">UP</span><span class="o">&gt;</span> ...
<span class="mi">2</span>: <span class="nv">eth0</span>: <span class="o">&lt;</span><span class="nv">BROADCAST</span>,<span class="nv">MULTICAST</span><span class="o">&gt;</span> ...
        <span class="nv">link</span><span class="o">/</span><span class="nv">ether</span> <span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>:<span class="mi">00</span>


<span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</code></pre></div>
<h2 id="wireless">Wireless</h2>
<p>Can be configured manually substituting wlan0 instead of eth0</p>
<div class="highlight"><pre><span></span><code>iwlist scan

iwconfig
</code></pre></div>
<blockquote>
<p>sets up your wireless settings (e.g. wpa/wep and passwords/keys)</p>
</blockquote>
<ul>
<li><a href="http://linux.die.net/man/8/iwconfig">http://linux.die.net/man/8/iwconfig</a></li>
</ul>
<h2 id="dns-name-resolution">DNS &amp; NAME RESOLUTION</h2>
<div class="highlight"><pre><span></span><code>/etc/resolv.conf
</code></pre></div>
<blockquote>
<p>the linux file for name resolution, can be filled automatically if using DHCP</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nv">search</span> <span class="nv">name</span><span class="o">-</span><span class="nv">of</span><span class="o">-</span><span class="nv">domain</span>.<span class="nv">com</span>  <span class="o">-</span> <span class="nv">Name</span> <span class="nv">of</span> <span class="nv">your</span> <span class="nv">domain</span> <span class="nv">or</span> <span class="nv">ISP</span><span class="s1">'</span><span class="s">s domain if using their name server</span>
<span class="nv">nameserver</span> <span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span> <span class="o">-</span> <span class="nv">IP</span> <span class="nv">address</span> <span class="nv">of</span> <span class="nv">primary</span> <span class="nv">name</span> <span class="nv">server</span>
<span class="nv">nameserver</span> <span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span>.<span class="nv">XXX</span> <span class="o">-</span> <span class="nv">IP</span> <span class="nv">address</span> <span class="nv">of</span> <span class="nv">secondary</span> <span class="nv">name</span> <span class="nv">server</span>

<span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">hosts</span>
</code></pre></div>
<blockquote>
<p>old system for putting a name to an ip address on the local machine <a href="https://en.wikipedia.org/wiki/Hosts_(file)">https://en.wikipedia.org/wiki/Hosts_(file)</a></p>
<p>can fill in and supersede info on machines not covered by your DNS</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="mf">127.0.0.1</span><span class="w">         </span><span class="n">your</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">name</span><span class="mf">.</span><span class="n">your</span><span class="o">-</span><span class="n">domain</span><span class="mf">.</span><span class="n">com</span><span class="w">  </span><span class="n">localhost</span><span class="mf">.</span><span class="n">localdomain</span><span class="w">  </span><span class="n">localhost</span><span class="w"> </span>
<span class="n">XXX</span><span class="mf">.</span><span class="n">XXX</span><span class="mf">.</span><span class="n">XXX</span><span class="mf">.</span><span class="n">XXX</span><span class="w">   </span><span class="n">node</span><span class="o">-</span><span class="n">name</span><span class="w"></span>
</code></pre></div>
<p>IF USING STATIC RESOLUTION (MANUAL UPDATING OF THE /etc/resolv.conf)</p>
<div class="highlight"><pre><span></span><code>sudo apt-get remove resolvconf   (this utility will automatically overwrite your changes above!)
</code></pre></div>
<p>HOSTNAME is how your computer is recognized on the (local) network</p>
<div class="highlight"><pre><span></span><code>hostname newhostname
</code></pre></div>
<blockquote>
<p>manually changes the hostname (not permanent)</p>
</blockquote>
<div class="highlight"><pre><span></span><code>hostnamectl set-hostname NEWHOSTNAME
</code></pre></div>
<blockquote>
<p>convenient way to set the hostname dynamically AND persistently</p>
</blockquote>
<div class="highlight"><pre><span></span><code>sysctl -w kernel.hostname="newhostname"
</code></pre></div>
<blockquote>
<p>low level alternative  <a href="http://linux.die.net/man/8/sysctl">http://linux.die.net/man/8/sysctl</a></p>
</blockquote>
<h2 id="red-hat-and-centos-5">RED HAT AND CENTOS 5</h2>
<p>You must modify the config files (but the changes will survive reboot =)</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="o">/</span><span class="n">ifcfg</span><span class="o">-</span><span class="n">eth0</span><span class="w"></span>

<span class="n">DEVICE</span><span class="o">=</span><span class="n">eth0</span><span class="w"></span>
<span class="n">BOOTPROTO</span><span class="o">=</span><span class="w">                          </span><span class="o">//</span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">dhcp</span><span class="err">?</span><span class="w"></span>
<span class="n">IPADDR</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.59</span><span class="w"></span>
<span class="n">NETMASK</span><span class="o">=</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span><span class="w"></span>
<span class="n">BROADCAST</span><span class="o">=</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.255</span><span class="w"></span>
<span class="n">NETWORK</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="w"></span>
<span class="n">DNS1</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.30</span><span class="w"></span>
<span class="n">DNS2</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.3</span><span class="w"></span>

<span class="n">HWADDR</span><span class="o">=</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">B4</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">93</span><span class="w"></span>
<span class="n">ONBOOT</span><span class="o">=</span><span class="n">yes</span><span class="w"></span>
<span class="n">DHCP_HOSTNAME</span><span class="o">=</span><span class="n">madics</span><span class="o">-</span><span class="n">vm</span><span class="w"></span>
<span class="n">GATEWAY</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.3</span><span class="w"></span>
<span class="n">TYPE</span><span class="o">=</span><span class="n">Ethernet</span><span class="w"></span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">network</span><span class="w"> </span><span class="n">restart</span><span class="w"></span>
<span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"></span>
<span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"></span>
<span class="n">AUTOMATIC</span><span class="w"> </span><span class="n">CONFIGURATION</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">YOUR</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">ADDRESS</span><span class="w"></span>

<span class="o">//</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">network</span><span class="o">/</span><span class="n">interfaces</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">ifup</span><span class="o">/</span><span class="n">ifdown</span><span class="w"></span>
<span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">linux</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">networking</span><span class="w"> </span><span class="p">(</span><span class="n">at</span><span class="w"> </span><span class="n">bootup</span><span class="p">)</span><span class="w"></span>
<span class="o">//</span><span class="w"> </span><span class="n">EXAMPLE</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">ubuntu</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p">(</span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">debian</span><span class="w"> </span><span class="n">too</span><span class="p">)</span><span class="w"></span>

<span class="n">auto</span><span class="w"> </span><span class="n">lo</span><span class="w"></span>
<span class="n">iface</span><span class="w"> </span><span class="n">lo</span><span class="w"> </span><span class="n">inet</span><span class="w"> </span><span class="n">loopback</span><span class="w"></span>

<span class="c1">#sets eth0 to be a dhcp client at boot or "ifup eth0"</span><span class="w"></span>
<span class="n">auto</span><span class="w"> </span><span class="n">eth0</span><span class="w"></span>
<span class="n">iface</span><span class="w"> </span><span class="n">eth0</span><span class="w"> </span><span class="n">inet</span><span class="w"> </span><span class="n">dhcp</span><span class="w"></span>

<span class="n">auto</span><span class="w"> </span><span class="n">ath0</span><span class="w">           </span><span class="o">//</span><span class="n">atheros</span><span class="w"> </span><span class="n">chip</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">networking</span><span class="w"></span>
<span class="n">auto</span><span class="w"> </span><span class="n">wlan0</span><span class="w">          </span><span class="o">//</span><span class="n">wireless</span><span class="w"> </span><span class="n">chip</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">networking</span><span class="w"></span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">networking</span><span class="w"> </span><span class="n">restart</span><span class="w">  </span><span class="o">//</span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">files</span><span class="w"></span>

<span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"></span>

<span class="n">net</span><span class="o">-</span><span class="n">setup</span><span class="w"> </span><span class="n">eth0</span><span class="w">      </span><span class="o">//</span><span class="n">system</span><span class="w"> </span><span class="n">rescue</span><span class="w"> </span><span class="n">cd</span><span class="w"></span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">network</span><span class="w">      </span><span class="o">//</span><span class="n">redhat</span><span class="o">/</span><span class="n">fedora</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"></span>
<span class="n">NETWORKING</span><span class="o">=</span><span class="n">yes</span><span class="w"></span>
<span class="n">HOSTNAME</span><span class="o">=</span><span class="n">my</span><span class="o">-</span><span class="n">hostname</span><span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">Hostname</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">hostname</span><span class="w"></span>
<span class="n">FORWARD_IPV4</span><span class="o">=</span><span class="bp">true</span><span class="w">         </span><span class="o">-</span><span class="w"> </span><span class="n">True</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">NAT</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">gateways</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">linux</span><span class="w"> </span><span class="n">routers</span><span class="o">.</span><span class="w"> </span>
<span class="w">                            </span><span class="n">False</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">everyone</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">desktops</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"></span>
<span class="n">GATEWAY</span><span class="o">=</span><span class="s2">"XXX.XXX.XXX.YYY"</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Static</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">configuration</span><span class="o">.</span><span class="w"> </span><span class="n">Gateway</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">DHCP</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"></span>


<span class="n">ifcfg</span><span class="o">-</span><span class="n">eth0</span><span class="w">      </span><span class="o">//</span><span class="n">file</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">fedora</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="w"> </span><span class="n">autoconfigure</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ifup</span><span class="w"></span>
<span class="n">DEVICE</span><span class="o">=</span><span class="n">eth0</span><span class="w"></span>
<span class="n">BOOTPROTO</span><span class="o">=</span><span class="k">static</span><span class="w">            </span><span class="o">//</span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="n">dhcp</span><span class="w"></span>
<span class="n">IPADDR</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.100</span><span class="w">            </span><span class="o">//</span><span class="n">unnecessary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dhcp</span><span class="w"> </span>
<span class="n">NETMASK</span><span class="o">=</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span><span class="w">           </span><span class="o">//</span><span class="n">unnecessary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dhcp</span><span class="w"></span>
<span class="n">ONBOOT</span><span class="o">=</span><span class="n">yes</span><span class="w"></span>
<span class="n">BROADCAST</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.255</span><span class="w">         </span><span class="o">//</span><span class="n">optional</span><span class="w"> </span><span class="n">setting</span><span class="p">,</span><span class="w"> </span><span class="n">unnecessary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dhcp</span><span class="w"></span>
<span class="n">NETWORK</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="w">         </span><span class="o">//</span><span class="n">optional</span><span class="w"> </span><span class="n">setting</span><span class="p">,</span><span class="w"> </span><span class="n">unnecessary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dhcp</span><span class="w"></span>


<span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="n">TYPE</span><span class="o">=</span><span class="n">Ethernet</span><span class="w">         </span><span class="o">//</span><span class="n">RHEL4</span><span class="o">/</span><span class="n">FC3</span><span class="w"> </span><span class="n">addition</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="n">HWADDR</span><span class="o">=</span><span class="n">XX</span><span class="p">:</span><span class="n">XX</span><span class="p">:</span><span class="n">XX</span><span class="p">:</span><span class="n">XX</span><span class="p">:</span><span class="n">XX</span><span class="p">:</span><span class="n">XX</span><span class="w">      </span><span class="o">//</span><span class="n">RHEL4</span><span class="o">/</span><span class="n">FC3</span><span class="w"> </span><span class="n">addition</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="n">GATEWAY</span><span class="o">=</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="w">       </span><span class="o">//</span><span class="n">RHEL4</span><span class="o">/</span><span class="n">FC3</span><span class="w"> </span><span class="n">addition</span><span class="w"></span>


<span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">netconfig</span><span class="w">         </span><span class="o">//</span><span class="n">redhat</span><span class="w"> </span><span class="n">console</span><span class="w"> </span><span class="k">tool</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">network</span><span class="w"></span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">local</span><span class="w">  </span><span class="o">//</span><span class="n">redhat</span><span class="w"> </span><span class="n">place</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">custom</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">scripts</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">done</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">well</span><span class="w"></span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">network</span><span class="w"></span>
</code></pre></div>
<blockquote>
<div class="highlight"><pre><span></span><code>//change the hostname config file - hostname at boot
</code></pre></div>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"></span>
<span class="n">MULTIPLE</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">ADDRESSES</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">SINGLE</span><span class="w"> </span><span class="n">NIC</span><span class="w"> </span><span class="p">(</span><span class="n">VIRTUAL</span><span class="w"> </span><span class="n">SUBINTERFACE</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ALIAS</span><span class="p">)</span><span class="w"></span>

<span class="n">NOTE</span><span class="p">:</span><span class="w"> </span><span class="n">it</span><span class="s1">'s not necessarily a good idea to have two network interfaces in the same network space</span>

<span class="n">IP</span><span class="w"> </span><span class="n">Alias</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">kernels</span><span class="w"> </span><span class="mf">2.0</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">2.2</span><span class="o">.</span><span class="n">x</span><span class="w"></span>
<span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="o">.../</span><span class="n">sbin</span><span class="o">/</span><span class="n">insmod</span><span class="w"> </span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="err">`</span><span class="n">uname</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="err">`</span><span class="o">/</span><span class="n">ipv4</span><span class="o">/</span><span class="n">ip_alias</span><span class="o">.</span><span class="n">o</span><span class="p">)</span><span class="w"></span>

<span class="n">ifconfig</span><span class="w"> </span><span class="n">wlan0</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.11</span><span class="w"> </span><span class="n">netmask</span><span class="w"> </span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span><span class="w"> </span><span class="n">up</span><span class="w"></span>
<span class="n">ifconfig</span><span class="w"> </span><span class="n">wlan0</span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.111</span><span class="w"> </span><span class="n">netmask</span><span class="w"> </span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span><span class="w"> </span><span class="n">up</span><span class="w"></span>
<span class="n">ifconfig</span><span class="w"> </span><span class="n">wlan0</span><span class="p">:</span><span class="mi">1</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.211</span><span class="w"></span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="o">/</span><span class="n">ifcfg</span><span class="o">-</span><span class="n">wlan0</span><span class="p">:</span><span class="mi">0</span><span class="w">    </span><span class="o">//</span><span class="n">file</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">fedora</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">manage</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="n">subint</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">boot</span><span class="w"></span>
<span class="n">DEVICE</span><span class="o">=</span><span class="n">wlan0</span><span class="p">:</span><span class="mi">0</span><span class="w"></span>
<span class="n">ONBOOT</span><span class="o">=</span><span class="n">yes</span><span class="w"></span>
<span class="n">BOOTPROTO</span><span class="o">=</span><span class="k">static</span><span class="w"></span>
<span class="n">IPADDR</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.99</span><span class="w"></span>
<span class="n">NETMASK</span><span class="o">=</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span><span class="w"></span>

<span class="o">//</span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">easy</span><span class="w"> </span><span class="n">enable</span><span class="o">/</span><span class="n">disable</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">via</span><span class="w"></span>
<span class="n">ifup</span><span class="w"> </span><span class="n">wlan0</span><span class="p">:</span><span class="mi">0</span><span class="w"></span>
<span class="n">ifdown</span><span class="w"> </span><span class="n">wlan0</span><span class="p">:</span><span class="mi">0</span><span class="w"></span>

<span class="o">//</span><span class="n">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="p">(</span><span class="n">ifdown</span><span class="w"> </span><span class="n">wlan0</span><span class="p">)</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="s2">"aliases"</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">subint</span><span class="s1">'s are disabled</span>
</code></pre></div>
<h2 id="routing-and-default-gateway">ROUTING and DEFAULT GATEWAY</h2>
<div class="highlight"><pre><span></span><code>netstat -rn
</code></pre></div>
<blockquote>
<p>shows the current routing table (numeric only so not trying to resolve each ip address to a hostname)</p>
</blockquote>
<div class="highlight"><pre><span></span><code>/sbin/route add default gw 192.168.1.1 wlan0
</code></pre></div>
<blockquote>
<p>all unknown traffic will go through wlan0</p>
</blockquote>
<div class="highlight"><pre><span></span><code>route add -net 10.0.0.0 netmask 255.255.255.0 gw 10.0.0.1 wlan0
</code></pre></div>
<blockquote>
<p>traffic for 10.0.0.0 network will be sent to ip address 10.0.0.1</p>
</blockquote>
<div class="highlight"><pre><span></span><code>route add -net 127.0.0.0
route add -net 192.168.1.0 dev eth0
route add -host 192.168.1.11 dev eth0
route add -host 192.168.1.111 dev eth0:0
route add -host 192.168.1.211 dev eth0:1
</code></pre></div>
<h3 id="removing-a-route">Removing a route</h3>
<div class="highlight"><pre><span></span><code>/sbin/route del -net 192.168.2.0 netmask 255.255.255.0
route del -net 10.0.0.0 netmask 255.255.255.0 gw 10.0.0.254
</code></pre></div>
<blockquote>
<p>remove a route</p>
</blockquote>
<p>for some reason other variations don't work</p>
<p>THEN
    /sbin/route del -net default gw 192.168.2.1</p>
<p>THEN 
    route add default gw 192.168.1.3</p>
<div class="highlight"><pre><span></span><code>route -n
</code></pre></div>
<h2 id="example-complicated-static-route-system">EXAMPLE COMPLICATED STATIC ROUTE SYSTEM</h2>
<div class="highlight"><pre><span></span><code> auto eth0 
 iface inet static
 address 10.10.64.190
 netmask 255.255.254.0

 gateway 10.10.64.1

 auto eth1
 iface inet static
 address 10.10.66.190
 netmask 255.255.254.0

 up route add -net 0.0.0.0 netmask 0.0.0.0 gw 10.10.64.1 eth0
 up route add -net 10.0.0.0 netmask 255.0.0.0 gw 10.10.66.1 eth1
 up route add -net 172.16.0.0 netmask 255.240.0.0 gw 10.10.66.1 eth1
 up route add -net 192.168.0.0 netmask 255.255.0.0 gw 10.10.66.1 eth1
</code></pre></div>
<h2 id="pppoe-configuration">PPPoE CONFIGURATION</h2>
<p>The PPPOE configuration will create a software-based virtual interface named ppp0 that will use the physical Internet interface eth0    </p>
<div class="highlight"><pre><span></span><code>rp-pppoe-3.5-8.i386.rpm
</code></pre></div>
            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
 
                <li class="previous_article">Â« <a href="https://blog.john-pfeiffer.com/firewall-iptables-ufw-ssh-https-nat-forwarding-redirect/" title="Previous: firewall iptables ufw ssh https nat forwarding redirect">firewall iptables ufw ssh https nat forwarding redirect</a></li>
 
                <li class="next_article"><a href="https://blog.john-pfeiffer.com/wget-curl-get-ip-timeout-backup-download-site-including-images/" title="Next: wget curl get ip timeout backup download site including images">wget curl get ip timeout backup download site including images</a> Â»</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
 
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2009-08-06T19:22:07-07:00">Aug 6, 2009</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#linux-ref">linux</a> 
            <h4>~1402 words</h4>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article"> 
                <li><a href="/tags.html#dhcp-ref">dhcp
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#eth0-ref">eth0
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#ifcfg-ref">ifcfg
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#ifconfig-ref">ifconfig
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#linux-ref">linux
                    <span>11</span>
</a></li>
                <li><a href="/tags.html#network-ref">network
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#route-ref">route
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#wifi-ref">wifi
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#wpa-ref">wpa
                    <span>1</span>
</a></li>
            </ul>

        </div>
        </section>
</div>
</article>
				</div>
				<div class="span1"></div>
			</div>
		</div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
    </ul>
</div>
</footer>            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    </body>
</html>