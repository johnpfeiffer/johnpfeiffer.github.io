{"pages":[{"text":"CV/Resume source code John Pfeiffer began with DOS on a 486, tweaking DOS to make games work and BBS's... Then there was Internet -> University -> Linux -> Football (aka soccer) Interesting places and cultures I've enjoyed: California -> Tennessee -> France -> Los Angeles -> Bulgaria -> England -> SF Bay Area Interesting things I've learned: Football (soccer) -> Piano -> Karate -> Guitar -> French -> Bulgarian Still working on: Be Good, Change the World","tags":"pages","loc":"/about-john-pfeiffer","title":"About John Pfeiffer"},{"text":"I discovered post upgrade that Ubuntu 14.04 has a glaring bug with the Intel graphics card (which was working fine in 12.04), the Fn key no longer controlled the brightness. sudo su ls /sys/class/backlight if it lists intel_backlight then this solution of adding the following should work for you too... vi /usr/share/X11/xorg.conf.d/20-intel.conf Section \"Device\" Identifier \"card0\" Driver \"intel\" Option \"Backlight\" \"intel_backlight\" BusID \"PCI:0:2:0\" EndSection Log out and log back in, function keys should now control the brightness again (no more glaring bug!)","tags":"linux","loc":"/fix-fn-screen-brightness-ubuntu-1404-intel-graphics","title":"Fix Fn screen brightness Ubuntu 14.04 intel graphics"},{"text":"Self contained javascript library to make lists of information awesome! http://listjs.com/docs listjs.html < ! DOCTYPE html > < html > < head > < script src= \"http://listjs.com/no-cdn/list.js\" ></script > < style type= \"text/css\" > . list { font - family : sans - serif ; margin : 0 ; padding : 20 px 0 0 ; } . list > li { display : block ; background - color : #eee ; padding : 10 px ; box - shadow : inset 0 1 px 0 #fff ; } . avatar { max - width : 150 px ; } img { max - width : 100 %; } h3 { font - size : 16 px ; margin : 0 0 0 . 3 rem ; font - weight : normal ; font - weight : bold ; } p { margin : 0 ; } input { border : solid 1 px #ccc ; border - radius : 5 px ; padding : 7 px 14 px ; margin - bottom : 10 px } input : focus { outline : none ; border - color : #aaa ; } . sort { padding : 8 px 30 px ; border - radius : 6 px ; border : none ; display : inline - block ; color : #fff ; text - decoration : none ; background - color : # 28 a8e0 ; height : 30 px ; } . sort : hover { text - decoration : none ; background - color : # 1 b8aba ; } . sort : focus { outline : none ; } . sort : after { width : 0 ; height : 0 ; border - left : 5 px solid transparent ; border - right : 5 px solid transparent ; border - bottom : 5 px solid transparent ; content : \"\" ; position : relative ; top : - 10 px ; right : - 5 px ; } . sort . asc : after { width : 0 ; height : 0 ; border - left : 5 px solid transparent ; border - right : 5 px solid transparent ; border - top : 5 px solid #fff ; content : \"\" ; position : relative ; top : 13 px ; right : - 5 px ; } . sort . desc : after { width : 0 ; height : 0 ; border - left : 5 px solid transparent ; border - right : 5 px solid transparent ; border - bottom : 5 px solid #fff ; </style > < meta charset = utf - 8 /> < title > Existing list</title > </head > < body > <div id= \"users\" > < input class= \"search\" placeholder= \"Search\" /> < button class= \"sort\" data - sort= \"name\" > Sort by name </button > < ul class= \"list\" > < li > < h3 class= \"name\" > Jonny Stromberg </h3 > < p class= \"born\" > 1986 </p > </li > < li > < h3 class= \"name\" > Jonas Arnklint </h3 > < p class= \"born\" > 1985 </p > </li > < li > < h3 class= \"name\" > Martina Elm </h3 > < p class= \"born\" > 1986 </p > </li > < li > < h3 class= \"name\" > Gustaf Lindqvist </h3 > < p class= \"born\" > 1983 </p > </li > </ul > </ div> < script type= \"text/javascript\" > var options = { valueNames: [ 'name' , 'born' ] }; var userList = new List ( 'users' , options ); </script > </body > </html > ListJS with Pelican and Jinja2 ListJS with the Pelican elegant theme to list all the articles sortable/searchable, default pagination for ListJS set to 1000 items {% extends \"base.html\" %} {% block title %} All Categories \u00b7 {{ super() }} {% endblock title %} {% block head_description %} All categories of the {{ SITENAME|striptags }} blog. {% endblock head_description %} {% block content %} <head> <script src= \"http://listjs.com/no-cdn/list.js\" ></script> <style type= \"text/css\" > h3 { font-size : 16px ; margin : 0 0 0 . 3 rem ; font-weight : normal ; font-weight : bold ; } p { margin : 0 ; } input { border : solid 1px #ccc ; border - radius : 5px ; padding : 7px 14px ; margin-bottom : 10px } input :focus { outline : none ; border-color : #aaa ; } .sort { padding : 8px 30px ; border - radius : 6px ; border : none ; display : inline - block ; color : #fff ; text-decoration : none ; background-color : #28a8e0 ; height : 30px ; } .sort :hover { text-decoration : none ; background-color : #1b8aba ; } .sort :focus { outline : none ; } .sort :after { width : 0 ; height : 0 ; border-left : 5px solid transparent ; border-right : 5px solid transparent ; border-bottom : 5px solid transparent ; content : \"\" ; position : relative ; top :- 10px ; right :- 5px ; } .sort.asc :after { width : 0 ; height : 0 ; border-left : 5px solid transparent ; border-right : 5px solid transparent ; border-top : 5px solid #fff ; content : \"\" ; position : relative ; top : 13px ; right :- 5px ; } .sort.desc :after { width : 0 ; height : 0 ; border-left : 5px solid transparent ; border-right : 5px solid transparent ; border-bottom : 5px solid #fff ; } </style> </head> <body> <div id= \"article-list\" > <button class= \"sort\" data-sort= \"date\" > Sort by date </button> <button class= \"sort\" data-sort= \"title\" > Sort by title </button> <input class= \"search\" placeholder= \"Search\" style= \"margin-top: 10px; height: 16px;\" /> <ul class= \"list\" > {% for category, articles in categories %} {% for article in articles %} <li> <span class= \"date\" style= \"padding-right: 10px;\" > <time pubdate= \"pubdate\" datetime= \"{{ article.date.isoformat() }}\" > {{ article.locale_date }} </time> </span> <a href= \"{{ SITEURL }}/{{ article.url }}\" ><span class= \"title\" > {{ article.title }} {%if article.subtitle %} <small> {{ article.subtitle }} </small> {% endif %} </span> </a> </li> {% endfor %} {% endfor %} </ul> </div> {% endblock content %} {% block script %} {{ super() }} <script language= \"javascript\" type= \"text/javascript\" > function uncollapse () { $ ( window . location . hash ). collapse ({ toggle : true }) } </script> <script type= \"text/javascript\" language= \"JavaScript\" > uncollapse (); </script> <script type= \"text/javascript\" > var options = { valueNames : [ 'date' , 'title' ], page : 1000 }; var hackerList = new List ( 'article-list' , options ); hackerList . sort ( 'date' ) </script> {% endblock script %}","tags":"programming","loc":"/listjs-sort-filters-search-and-more-for-html-lists-and-tables-in-javascript","title":"ListJS: Sort, Filters, Search and more for HTML lists and tables in Javascript"},{"text":"Webhooks are an incredibly useful way to tie together disparate network parts, WHEN something happens in one place, it sends a POST HTTP request to another place. Create the Bitbucket Webhook and Setup a Server to Receive the Webhook Log in to the Bitbucket WebUI Choose the repository Choose to administer the repository (gear symbol) -> Hooks (left menu) , or simply https://bitbucket.org/username/reponame/admin/hooks Select Hook Type (dropdown) , POST , Add Hook (Button) Enter your target URL, SAVE Setup a webserver (easiest might be Bamboo or Jenkins) somewhere Ensure there is a URL that accepts POST requests Ensure that when the POST is received it runs the pelican content generation commands to make the new output Ensure new output is visible You may notice any existing POST webhooks, i.e. a HipChat notification add-on, listed: https://hipchat-bitbucket.herokuapp.com/commit?client_id=f955ddb5 Flask and Bash source code to publish a pelican static web site This custom solution requires running that flask app manually, i.e. python mypublish.py It also requires having two repositories, one for the pelican source content, the other repo (i.e. a bitbucket static web site) will only contain the output (.html files) vi mypublish.py from flask import Flask import os from subprocess import Popen , PIPE app = Flask ( __name__ ) @app.route ( '/someuniquekeyhere' , methods = [ 'GET' , 'POST' ]) def mypublish (): try : output = Popen ([ \"./mypublish.sh\" ], stdout = PIPE ) . communicate ()[ 0 ] except Exception as error : return str ( error ) return output if __name__ == '__main__' : app . run ( '0.0.0.0' , 8443 , use_reloader = True ) vi mypublish.sh #!/bin/bash git pull GITMESSAGE = $( git log -n 1 ) OUTPUT = \"../outputreponame.bitbucket.org\" ./clean-output.sh \"../sourcereponame.bitbucket.org\" # removes all of the old content echo \"$GITMESSAGE\" pelican content cp -a ./output/* $OUTPUT rm -rf ./output rm -rf ./cache rm -f *.pyc cd \"$OUTPUT\" git add --all ./content git commit -m \"source $GITMESSAGE\" git push vi clean-output.sh #!/bin/bash rm -rf ./output rm -rf ./cache rm -f *.pyc for ITEM in $SOURCE /* do if [ -d \"$ITEM\" ] ; then rm -rf \"$ITEM\" else rm -f \"$ITEM\" fi done More info http://read-the-docs.readthedocs.org/en/latest/webhooks.html https://confluence.atlassian.com/display/BITBUCKET/POST+hook+management","tags":"programming","loc":"/publish-a-pelican-blog-using-a-bitbucket-post-webhook","title":"Publish a pelican blog using a Bitbucket POST Webhook"},{"text":"Vagrant is an infrastructure tool that simplifies deployment, such as virtual machines or in this case Amazon EC2 instances. Install Vagrant and the Vagrant AWS plugin Download and install vagrant: https://www.vagrantup.com/downloads wget https://dl.bintray.com/mitchellh/vagrant/vagrant_1.6.3_x86_64.deb ; dpkg -i vagrant_1.6.3_x86_64.deb vagrant box add dummy https://github.com/mitchellh/vagrant-aws/raw/master/dummy.box vagrant box list vi Vagrantfile Vagrant . configure ( \"2\" ) do | config | config . vm . box = \"dummy\" config . vm . provider : aws do | aws , override | aws . access_key_id = \"YOURACCESSKEY\" aws . secret_access_key = \"YOURSECRETKEY\" aws . keypair_name = \"YOURKEYPAIRNAME\" aws . ami = \"ami-7747d01e\" aws . instance_ready_timeout = 300 aws . instance_type = \"m3.large\" aws . tags = { \"Name\" => \"MyCloudInstance\" , } override . vm . box = \"dummy\" override . vm . box_url = \"https://github.com/mitchellh/vagrant-aws/raw/master/dummy.box\" override . ssh . username = \"ubuntu\" override . ssh . private_key_path = \"./YOURKEYPAIRNAME.pem\" end end ubuntu/images/ubuntu-precise-12.04-amd64-server-20130204 - ami-7747d01e , no ebs storage - just instance storage vagrant will by default upload all folders and files in your \"project\" folder where the Vagrantfile is located vagrant plugin install vagrant-aws vagrant up --provider=aws --debug Bringing machine ' default ' up with ' aws ' provider ... ==> default : HandleBoxUrl middleware is deprecated . Use HandleBox instead . ==> default : This is a bug with the provider . Please contact the creator ==> default : of the provider you use to fix this . ==> default : Warning ! The AWS provider doesn ' t support any of the Vagrant ==> default : high - level network configurations ( ` config . vm . network ` ). They ==> default : will be silently ignored . ==> default : Launching an instance with the following settings ... ==> default : -- Type : m3 . large ==> default : -- AMI : ami - 7747 d01e ==> default : -- Region : us - east - 1 ==> default : -- Keypair : YOURKEYPAIRHERE ==> default : -- Block Device Mapping : [] ==> default : -- Terminate On Shutdown : false ==> default : -- Monitoring : false ==> default : -- EBS optimized : false ==> default : -- Assigning a public IP address in a VPC : false ==> default : Waiting for instance to become \"ready\" ... ==> default : Waiting for SSH to become available ... ==> default : Machine is booted and ready for use ! ==> default : Rsyncing folder : / home / ubuntu / myproject / => / vagrant vagrant ssh alternative interactive ssh session: Use the AWS EC2 WebUI or http://aws.amazon.com/cli to discover the IP address ssh -i YOURKEYPAIRHERE.pem ubuntu@1.2.3.4 ls -ahl /vagrant exit vagrant ssh -c \"ls -ahl\" for a non interactive listing of the home directory vagrant ssh -c \"pidof ntpd | xargs sudo kill -9\" vagrant up , vagrant reload , and vagrant provision will have the AWS provider use rsync to push data to /vagrant https://docs.vagrantup.com/v2/synced-folders/rsync.html vagrant stop UnsupportedOperation => The instance 'i-1295bf39' does not have an 'ebs' root device type and cannot be stopped. (Fog::Compute::AWS::Error) vagrant destroy > default : Are you sure you want to destroy the ' default ' VM ? [ y / N ] Y > > ==> default : Terminating the instance ... vagrant destroy -f non interactively destroy the instance and avoid the misleading error message: Vagrant is attempting to interface with the UI in a way that requires a TTY Vagrant provisioning Allows for automated installation of software bundled into the vagrant up command vagrant up --provider=aws --no-provision to prevent any provisioning config . vm . provision \"shell\" , inline : \"echo Hello, World\" config . vm . provision \"shell\" , path : \"script.sh\" config . vm . provision \"shell\" , path : \"https://example.com/script.sh\" http://docs.vagrantup.com/v2/provisioning http://docs.vagrantup.com/v2/provisioning/shell.html Advanced Vagrantfile example # -*- mode: ruby -*- # vi: set ft=ruby : if ENV [ ' UPDATEFQDN ' ] updatedfqdn = ENV [ ' UPDATEFQDN ' ] end $ fqdnscript = << FQDNSCRIPT echo \"I am updating fqdn to #{updatedfqdn}...\" cat / etc / hosts | grep \"#{updatedfqdn}\" || sudo sed ' s / 127.0.0.1 / 127.0.0.1 # { updatedfqdn } / ' - i / etc / hosts hostname | grep \"#{updatedfqdn}\" || sudo hostname # { updatedfqdn } FQDNSCRIPT Vagrant . configure ( \"2\" ) do | config | config . vm . box = \"dummy\" config . vm . provider : aws do | aws , override | aws . access_key_id = \"YOURACCESSKEY\" aws . secret_access_key = \"YOURSECRETKEY\" aws . keypair_name = \"YOURKEYPAIRNAME\" aws . ami = \"ami-7747d01e\" aws . instance_ready_timeout = 300 aws . instance_type = \"m3.large\" aws . tags = { \"Name\" => \"MyCloudInstance\" , } override . vm . box = \"dummy\" override . vm . box_url = \"https://github.com/mitchellh/vagrant-aws/raw/master/dummy.box\" override . ssh . username = \"ubuntu\" override . ssh . private_key_path = \"./YOURKEYPAIRNAME.pem\" override . vm . synced_folder \"./chef-repo\" , \"/tmp/chef-repo\" , type : \"rsync\" , create : true , rsync__exclude : \".git/\" end config . vm . provision : shell , : inline => \"echo `hostname -f` >> /home/ubuntu/currenthostname.txt\" config . vm . provision : shell , : inline => $ fqdnscript end Bringing machine ' default ' up with ' aws ' provider ... ==> default : Running provisioner : shell ... ==> default : Running : inline script stdin: is not a ttty I am provisioning and updating hostname ... synced_folder is to sync other folders in your filesystem besides the folder with the Vagrantfile config.vm.hostname does not appear to work on AWS EC2 so the workaround above (|| statements to prevent extra reconfiguration) more info https://github.com/mitchellh/vagrant-aws Troubleshooting vagrant up --provider=aws --debug ERROR: The provider 'aws' could not be found, but was requested to back the machine 'default'. Please use a provider that exists. RESOLUTION: try re-installing the vagrant-aws plugin again and immediately running the vagrant up command afterwards ERROR: Timeout when waiting for SSH , SSH not up: ... The private key to connect to the machine via SSH must be owned RESOLUTION: chown root:root and chmod 400","tags":"virtualization","loc":"/using-vagrant-to-deploy-instances-on-aws","title":"Using Vagrant to deploy instances on AWS"},{"text":"Docker is a union file system based layer system leveraging linux lxc containers for ultra lightweight virtualization/compartmentalization Images are the initial templates, each image has a unique ID Containers are the running virtual machines, each container has a unique ID Install Docker Docker on Ubuntu 14.04 sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9 sudo sh -c \"echo deb https://get.docker.io/ubuntu docker main > /etc/apt/sources.list.d/docker.list\" sudo apt-get update sudo apt-get install lxc-docker Start a docker image sudo docker pull ubuntu:14.04 From now on it is assumed you use sudo before any docker command! docker run --help docker run --rm -i -t ubuntu:14.04 /bin/bash create a container -- rm : automatically remove the container when it exits - i : keep stdin open even if not attached - t : allocate a tty , attach stdin and stdout use the ubuntu 14.04 minimal image Runs an interactive bash shell This will continue to exist in a stopped state once exited (see \"docker ps -a\") root @ f5878ed6016e :/ # cat / etc / issue root @ f5878ed6016e :/ # uname - a root @ f5878ed6016e :/ # df - h Control-p then Control-q to detach the tty without exiting the shell docker ps docker run ubuntu:14.04 uname -a docker attach f5878ed6016e Control + C (now we have exited the container and it will clean itself up) docker ps -a spun up another container but only long enough to run the command CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e4b436320442 ubuntu : 14.04 - uname - a 3 minutes ago elegant_engelbart docker rm e4b436320442 Alternatively: docker rm elegant_engelbart Git on docker ubuntu:14.04 docker run -i -t ubuntu:14.04 /bin/bash Control + p then Control + q (to detach the tty without exiting the shell) docker ps -a (make a note of the ID or NAME) docker attach ID_OR_NAME apt-get update; apt-get install git -y cd /root git --version git clone https://johnpfeiffer@bitbucket.org/johnpfeiffer/myrepo.git exit exit now the Container will have git installed, a repo cloned, and will be stopped docker commit container_name_here johnpfeiffer_git_repo 4a74440186d976caeccc52f5ed2bd44269beb84d472391a7ce26ee3db8ffc1e9 docker images output REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE johnpfeiffer_git_repo latest 4a74440186d9 54 seconds ago 402 MB ubuntu 14.04 e54ca5efa2e9 3 weeks ago 276.5 MB Add a port to an image docker run -i -t -p 127.0.0.1:8000:8000 --name john johnpfeiffer_git_repo:latest /bin/bash control+p then control+q docker attach john cd /root/myrepo pelican content (assuming pelicanconf.py is here) cd output python -m SimpleHTTPServer control+p then control+q docker ps -a http://127.0.0.1:8000 Python and Pelican static site generator on docker ubuntu:14.04 apt-get update; apt-get install python python-setuptools openssl wget -y wget -qO- https://raw.github.com/pypa/pip/master/contrib/get-pip.py | sudo python pip install pelican Markdown beautifulsoup4 DockerFile to automate building a container vi mydockerfile FROM ubuntu : 14.04 MAINTAINER John Pfeiffer RUN apt - get update - y RUN apt - get upgrade - y RUN apt - get install - y openssh - server RUN mkdir / var / run / sshd CMD / usr / sbin / sshd - D > Each RUN command creates an intermediate container , so make sure you use the - rm option docker build -t=newimagetag -rm=true . docker run -v $HOSTDIR:$DOCKERDIR Useful Commands sudo docker info docker images docker images --help docker ps -a Download all ubuntu docker images sudo docker pull ubuntu Pulling repository ubuntu 58faa899733f: Download complete 195eb90b5349: Download complete hundreds of megabytes downloaded docker images Remove an image docker rmi 3db9c44f4520 docker search stackbrew/ubuntu FYI stackbrew/ubuntu is the same as ubuntu , stackbrew is the curated Docker registry docker start -i -a IDORNAME docker images --tree docker commit --help docker run -d -p 127.0.0.1:5000:5000 training/webapp python app.py docker port IDORNAME Advanced Docker pre built images https://registry.hub.docker.com docker run --name some-redis -d redis docker run --name some-app --link some-redis:redis -d application-that-uses-redis More Info https://github.com/wsargent/docker-cheat-sheet https://docs.docker.com/reference/commandline/cli/#run","tags":"virtualization","loc":"/docker-intro-install-run-and-port-forward","title":"Docker Intro install run and port forward"},{"text":"Markdown Syntax html is markdown *emphasis* or _italics_ = emphasis or italics html is markdown **strong* or __bold__ = strong or bold html strikethrough is not supported but can just be <del>strikethrough</del> = strikethrough html is markdown > at the start of each line unordered list - item or alternatives: + item , * item html is markdown - - - or alternatives: * * * , *** , ***** html <a href= for hyper links is: http://example.com is a link that is automatically turned clickable: http://johnpfeiffer.bitbucket.org becomes http://johnpfeiffer.bitbucket.org [an example](http://example.com/ \"ExampleTitle\") an example both absolute and relative links are supported, as well as reference links that are defined elsewhere: This is [an example][someid] [someid]: http://example.com/ \"Optional Title Here\" numbered list 1 at the beginning of each line any digit will do, the numbering is rendered in order ensure the numbered list is surrounded by empty lines Inline code is markdown `backtick around the text` = backtick around the text A code block is markdown indent 4 spaces or 1 tab a blank line in the code block still needs to be indented ensure the code block is surrounded by empty lines :::text or :::bash at the top of a code block will control the syntax highlighting http://pygments.org/docs/lexers # H1 # H1 ###### H6 ###### H6 more info http://daringfireball.net/projects/markdown/syntax","tags":"programming","loc":"/markdown-syntax-cheatsheet","title":"Markdown syntax cheatsheet"},{"text":"create a bitbucket account with username create a repo named username.bitbucket.org mkdir username.bitbucket.org cd username.bitbucket.org echo \"hi\" > index.html git init . git add git commit -m \"first site index\" git remote add origin git@bitbucket.org:username/username.bitbucket.org.git git push origin master git branch --set-upstream master origin/master git pull https://username.bitbucket.org https://confluence.atlassian.com/display/BITBUCKET/Publishing+a+Website+on+Bitbucket Scroll down to the comments: You can setup a CNAME for your account . You cannot set up a CNAME for a static website hosted on Bitbucket. The account you setup a CNAME for may have a repository that represents a static website.","tags":"programming","loc":"/creating-a-static-web-site-with-bitbucket","title":"Creating a static web site with Bitbucket"},{"text":"Pelican is an open source project that converts static text files into an html site. Why use a static site generator (pelican) instead of a hosted blog platform or a CMS (Content Management System)? Because less is more and you should use the right tool for the right job A static site made of html pages is very easy to maintain It is also more secure and performance is good too =) Can use version control (git) Developers prefer to be able to customize and add functionality (python and javascript) Using widely adopted open source software reduces risk (python, pelican, javascript, elagant theme and tipue search) Install Pelican sudo pip install pelican Markdown installing both the pelican and the Markdown packages optionally use virtualenv venv; source venv/bin/activate pelican-quickstart Welcome to pelican-quickstart v3.3.0. This script will help you create a new Pelican-based website. Please answer the following questions so this script can generate the files needed by Pelican. > Where do you want to create your new web site? [.] > What will be the title of this web site? johnpfeiffer.bitbucket.org > Who will be the author of this web site? john pfeiffer > What will be the default language of this web site? [en] > Do you want to specify a URL prefix? e.g., http://example.com (Y/n) > What is your URL prefix? (see above example; no trailing slash) https://johnpfeiffer.bitbucket.org > Do you want to enable article pagination? (Y/n) > Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) > Do you want an auto-reload & simpleHTTP script to assist with theme and site development? (Y/n) > Do you want to upload your website using FTP? (y/N) > Do you want to upload your website using SSH? (y/N) > Do you want to upload your website using Dropbox? (y/N) > Do you want to upload your website using S3? (y/N) > Do you want to upload your website using Rackspace Cloud Files? (y/N) Done. Your new project is available at /home/ubuntu/BLOG tree . \u251c\u2500\u2500 content \u251c\u2500\u2500 develop_server.sh \u251c\u2500\u2500 fabfile.py \u251c\u2500\u2500 Makefile \u251c\u2500\u2500 output \u251c\u2500\u2500 pelicanconf.py \u2514\u2500\u2500 publishconf.py 2 directories, 5 files Create Content vi content/hello_world.md Title: My first blog post Date: 2014-06-21 20:20 Tags: python Slug: my-first-blog-post Author: John Pfeiffer Summary: Short version for index and feeds This is the content of my first blog post. optional UI markdown editor: sudo apt-get install retext Run a dev server to see the results locally make devserver ...Starting up Pelican and pelican.server... ./develop_server.sh stop stop the dev server (required if reloading the .conf file) This only works with the basic first setup, after that it is better to manually use multiple screens: make clean make regenerate auto detects any content changes and reloads itself cd output; python -m SimpleHTTPServer Serving HTTP on 0.0.0.0 port 8000 ... (Control + C to quit) http://localhost:8000 mkdir -p content/pages Publish I just use the pelicanconf output rather than publishconf, and I use git with a bitbucket static html site. Example pelican configuration file Contains the elegant theme and tipue search plugin vi pelicanconf.py #!/usr/bin/env python # -*- coding: utf-8 -*- # from __future__ import unicode_literals AUTHOR = u'john pfeiffer' SITENAME = u'johnpfeiffer' SITEURL = '' OUTPUT_PATH = 'output/' DEFAULT_DATE_FORMAT = '%Y-%m-%d' # Feed generation is usually not desired when developing FEED_ALL_ATOM = None CATEGORY_FEED_ATOM = None TRANSLATION_FEED_ATOM = None # clean urls for pages PAGE_URL = '{slug}' PAGE_SAVE_AS = '{slug}/index.html' # clean urls for articles ARTICLE_SAVE_AS = '{slug}/index.html' ARTICLE_URL = '{slug}' DEFAULT_PAGINATION = 10 THEME = 'themes/pelican-elegant' PLUGIN_PATHS = ['plugins'] PLUGINS = ['sitemap', 'extract_toc', 'tipue_search'] MD_EXTENSIONS = ['codehilite(css_class=highlight)', 'extra', 'headerid', 'toc'] DIRECT_TEMPLATES = (('index', 'tags', 'categories','archives', 'search', '404')) STATIC_PATHS = ['theme/images', 'images'] SITEMAP = { 'format': 'xml', 'priorities': { 'articles': 0.5, 'indexes': 0.5, 'pages': 0.5 }, 'changefreqs': { 'articles': 'monthly', 'indexes': 'daily', 'pages': 'monthly' } } Importing from drupal Hack the Drupal files to allow a lot more than 10 items per feed grep -r 'items per feed' . learned from drupal-7.28/modules/system/system.module vi modules/system/system.admin.inc $form['feed_default_items'] Add to the dropdown choices of 10, 15, 30 etc. the option of 999 sudo apt-get install pandoc sudo pip install feedparser pelican-import -h pelican-import --feed http://blog.example.com/rss.xml -o output/ -m markdown Pelican Themes https://github.com/getpelican/pelican-themes git clone --recursive https://github.com/getpelican/pelican-themes ~/pelican-themes http://pelican.readthedocs.org/en/latest/pelican-themes.html mkdir themes `cp -a pelican-themes/elegant themes/ Pelican Plugins https://github.com/getpelican/pelican-plugins git clone https://github.com/getpelican/pelican-plugins mkdir plugins cp -a pelican-plugins/sitemap plugins/ more info http://pelican.readthedocs.org/en/latest/settings.html Tweaking default syntax highlighting: http://pygments.org/docs/lexers/","tags":"programming","loc":"/how-to-set-up-a-pelican-static-blog-site","title":"How to set up a Pelican static blog site"},{"text":"With the exceptionally fast, reliable and popular web server nginx\ufeff as a front end customers can use a browser to access their uploaded files via a simple URL, the same as the SaaS Amazon S3 implementation, without knowing about the Cumulus backend . Unfortunately there were edge cases around the encodings of spaces, pluses, slashes, etc. where nginx + Cumulus was returning \"Access Denied\" when trying to GET a file. Examining the relevant RFC's ([http://tools.ietf.org/html/rfc3986#section-2.1][])\ufeff, PHP\ufeff ( http://php.net/manual/en/function.rawurlencode.php ) and Python\ufeff( http://docs.python.org/2/library/urllib.html ) references, and examining the \ufeffIogs, I could see the files were PUT correctly, s3cmd\ufeff could retrieve the binary objects (files) from Cumulus fine... but the logs were showing a change in the URL's. Increasing the debugging in nginx\ufeff , digging into the Cumulus source code\ufeff and nginx AWS Authentication Module\ufeff\ufeff (and adding more logging statements in Python and C respectively), I realized there was a mismatch in the REST URL signature process. Since Cumulus was using the open source Python Boto library\ufeff which is actually supported\ufeff by Amazon\ufeff\ufeff (the de facto rulers of the S3 \"standard\"), I decided that their signing process\ufeff was authoritative. A lot of digging into nginx configs and source, along with learning a bit about nginx module development and hacking the source of the ngx_aws_auth module, I finally came up with a matching signature process, (success!) ** ngx \\ _aws \\ _auth / ngx \\ _http \\ _aws \\ _auth.c ** /\\* uses the source and length to copy the uri , does not escape characters ( the argument signature is compatible wit ngx \\ _escape \\ _uri ) \\*/ uintptr \\ _t ngx \\ _uri \\ _extractor ( u \\ _char \\* dst , u \\ _char \\* src , size \\ _t size , ngx \\ _uint \\ _t type ) { while ( size ) { \\* dst ++ = \\* src ++ ; size -- ; } return ( uintptr \\ _t ) dst ; } /\\* customized to calculate the signature using the non escaped URI , compatible with cumulus boto \\*/ static ngx \\ _int \\ _t ngx \\ _http \\ _aws \\ _auth \\ _variable \\ _s3 ( ngx \\ _http \\ _request \\ _t \\* r , ngx \\ _http \\ _variable \\ _value \\ _t \\* v , uintptr \\ _t data ) { ngx \\ _http \\ _aws \\ _auth \\ _conf \\ _t \\* aws \\ _conf ; unsigned int md \\ _len ; unsigned char md [ EVP \\ _MAX \\ _MD \\ _SIZE ] ; aws\\_conf = ngx\\_http\\_get\\_module\\_loc\\_conf(r, ngx\\_http\\_aws\\_auth\\_module); </code> </p> /\\* \\* This Block of code added to deal with paths that are not on the root - \\* that is, via proxy\\_pass that are being redirected and the base part of \\* the proxy url needs to be taken off the beginning of the URI in order \\* to sign it correctly. \\*/ u\\_char \\*uri = ngx\\_palloc(r-\\>pool, r-\\>uri.len + 200); // allow room for escaping /\\* u\\_char \\*uri\\_end = (u\\_char\\*) ngx\\_escape\\_uri(uri,r-\\>uri.data, r-\\>uri.len, NGX\\_ESCAPE\\_URI); \\*/ u\\_char \\*uri\\_end = (u\\_char\\*) ngx\\_uri\\_extractor(uri,r-\\>unparsed\\_uri.data, r-\\>unparsed\\_uri.len, NGX\\_ESCAPE\\_URI); \\*uri\\_end = '\\\\0'; // null terminate ...","tags":"programming","loc":"/content/cumulus-compatible-s3-nginx-and-hmac-signed-requests","title":"Cumulus compatible S3, nginx, and HMAC signed requests"},{"text":"Overview selenium: automation of browser actions (http://docs.seleniumhq.org/docs/02_selenium_ide.jsp#introduction)[http://docs.seleniumhq.org/docs/02_selenium_ide.jsp#introduction] phantomjs: headless browser ( http://phantomjs.org/ ) Install sudo pip install selenium wget (https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-1.9.7-linux-x86_64.tar.bz2)[https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-1.9.7-linux-x86_64.tar.bz2] tar -xjvf phantomjs-1.9.7-linux-x86_64.tar.bz2 Run phantomjs-1.9.7-linux-x86\\_64/bin/phantomjs --webdriver=9134 ghostdriver including and running on port 9134 Example python script mini script to just show usage from selenium import webdriver driver = webdriver.PhantomJS( executable_path='/opt/phantomjs-1.9.2-linux-x86_64/bin/phantomjs', port=9134 ) driver.get( \" http://127.0.0.1 \" ) print driver.current_url driver.quit print \"done\" phantomjs-1.9.2-linux-x86\\_64/bin/phantomjs --webdriver=9134 --ignore-ssl-errors=true Advanced Python example more complete example with python unittest framework (used the Firefox Selenium IDE plugin -> Export) logs in, asserts there is an Admin tab which when clicked shows Group Info from selenium import webdriver from selenium . webdriver . common . by import By from selenium . webdriver . common . keys import Keys from selenium . webdriver . support . ui import Select from selenium . common . exceptions import NoSuchElementException import unittest , time , re class SeleniumAdminLogin ( unittest . TestCase ) : def setUp ( self ) : self.driver = webdriver.PhantomJS( '/opt/phantomjs-1.9.2-linux-x86_64/bin/phantomjs', port=9134 ) self.driver.implicitly_wait(30) self.base_url = \" https://myexample.org \" self.verificationErrors = [] self.accept_next_alert = True def test_selenium_admin_login( self ): driver = self.driver driver.get( self.base_url + \"/\" ) driver.find_element_by_id( \"email\" ).clear() driver.find_element_by_id( \"email\" ).send_keys( \" admin@example.org \" ) driver.find_element_by_id( \"password\" ).clear() driver.find_element_by_id( \"password\" ).send_keys( \"mypassword\" ) driver.find_element_by_id( \"signin\" ).click() self.assertEqual(\" https://myexample.org/home \", driver.current_url) self.assertTrue(self.is_element_present(By.LINK_TEXT, \"Launch the web app\")) self.assertTrue(self.is_element_present(By.CSS_SELECTOR, \"a.admin > span\")) driver.find_element_by_css_selector(\"a.admin > span\").click() self.assertEqual(\"Group Info\", driver.find_element_by_css_selector(\"h1\").text) def is_element_present(self, how, what): try: self.driver.find_element(by=how, value=what) except NoSuchElementException, e: return False return True def is_alert_present(self): try: self.driver.switch_to_alert() except NoAlertPresentException, e: return False return True def close_alert_and_get_its_text(self): try: alert = self.driver.switch_to_alert() alert_text = alert.text if self.accept_next_alert: alert.accept() else: alert.dismiss() return alert_text finally: self.accept_next_alert = True def tearDown(self): self.driver.quit() self.assertEqual([], self.verificationErrors) if __name__ == \"__main__\": unittest.main() REFERENCES: http://phantomjs.org/release-1.8.html https://github.com/ariya/phantomjs/wiki/API-Reference http://www.realpython.com/blog/python/headless-selenium-testing-with-pyt... http: //docs.seleniumhq.org/docs/02_selenium_ide.jsp#introduction https: //code.google.com/p/phantomjs/downloads/detail?name=phantomjs-1.9.2-linux-x86_64.tar.bz2 http: //www.realpython.com/blog/python/headless-selenium-testing-with-python-and-phantomjs/","tags":"programming","loc":"/content/selenium-headless-browser-automated-testing-with-phantomjs-and-python","title":"Selenium headless browser automated testing with PhantomJS and Python"},{"text":"It is well known that search engines need to index what the contents of webpages are in order to return accurate results to Users. It may not be well known how much traffic that generates. In this sampling from my logs (not representative of anything), 57% of the traffic in the log is from bots (I'm not turning them away, skip to the end on how to do that). Drupal (CMS) is remarkably good at making content for bots to read so it's not surprising they're all slurping, and of course if you want to be popular you need all of those indexes to know about you... How many hits from each kind of bot cat john-pfeiffer.access | wc -l 1108 hits cat john - pfeiffer . access | grep - v \"Baiduspider\" | grep - v \"bingbot\" | grep - v \"YandexBot\" | grep - v \"Sogou\" | grep - v \"Mail.RU\\_Bot\" | grep - v \"Googlebot\" | grep - v \"SISTRIX Crawler\" | grep - v \"MJ12bot\" | wc - l 637 cat john-pfeiffer.access | grep \"Googlebot\" | wc -l 105 hits from https://en.wikipedia.org/wiki/Googlebot cat john-pfeiffer.access | grep \"bingbot\" | wc -l 96 hits from http://en.wikipedia.org/wiki/Bingbot cat john-pfeiffer.access | grep \"Baiduspider\" | wc -l 93 hits from http://baidu.com/search/spider_english.html cat john-pfeiffer.access | grep \"SISTRIX Crawler\" | wc -l 76 hits from http://crawler.sistrix.net cat john-pfeiffer.access | grep \"YandexBot\" | wc -l 64 hits from http://www.botopedia.org/user-agent-list/search-bots/yandex-bot cat john-pfeiffer.access | grep \"Mail.RU\\_Bot\" | wc -l 23 hits from http://www.webmasterworld.com/search_engine_spiders/4520951.htm , http://www.botopedia.org/user-agent-list/search-bots/mailru-bot cat john-pfeiffer.access | grep \"MJ12bot\" | wc -l 12 hits from http://www.majestic12.co.uk/projects/dsearch/mj12bot.php cat john-pfeiffer.access | grep \"Sogou\" | wc -l 7 hits from http://www.botopedia.org/user-agent-list/search-bots/sogou-spider More Info on Bots and Crawlers http://www.incapsula.com/the-incapsula-blog/item/393-know-your-top-10-bots http://searchenginewatch.com/article/2067357/Bye-bye-Crawler-Blocking-the-Parasites (Besides robots.txt you are pretty much left with ban by User-Agent or IP Address Range.)","tags":"linux","loc":"/content/attack-of-the-spiders-bots-and-crawlers","title":"Attack of the Spiders, Bots, and Crawlers"},{"text":"How to have two 1 hour uneven burning fuses burn for 45 mins? light only ONE end burn both ends = 30 mins when it finishes, light the other end Three light bulbs are all off in one room, three light switches in another... ...If you can't see the bulbs from the switch room, how can you tell which connects to which if you can only enter the bulb room once? Flip the first switch for one bulb for many minutes, then turn it off. Flip the second switch on. Enter the bulb room, the bulb on connects to the second switch, the warmer of the two bulbs off is the first switch. At night 4 people arrive at one side of a bridge... ...that can only support 2 people at a time and they have only one flashlight. If each were alone here's how fast they could cross: the first in 15 minutes, the second in 10 minutes, the third in 2 minutes and the fourth in 1 minute. If the flashlight only has 17 minutes how do they cross? The 1 minute and 2 minute cross together (takes 2 minutes). The 1 minute returns (total is now 3 minutes). The 10 and 5 minutes cross together (total is now 13 minutes). The 2 minute returns (the total is now 15 minutes). Finally the 1 minute and 2 minute cross again (17 minutes and complete). 3 bags contain all oranges, all apples, or a mix of oranges and apples... ...BUT the label on each definitely is incorrect. How do you find out which bag has what and how many bags to you need to open? Choose the one labeled \"mixed\" and if it contains apples, therefore the remaining bag which is labelled oranges must not contain all oranges and so must be the mixed one. There are 3 red hats and 2 blue hats in a bag.... Andrew, Bob, and Carol each reach into the box and place one of the hats on their own head. They cannot see what color hat they have chosen. Then they sit down all facing in the same direction: Andrew <-- Bob <--Carol Such that Carol can see what color Bob and Andrew are wearing. Bob can see what color Andrew is wearing. Andrew can't see anyone's hats. The first person to say what color hat they are wearing wins. The winner of the game gets a billion dollars... But if they guess wrong, they die... so nobody wants to try \"just guessing\"... SO... after they grab their hats and sit down, a long time passes... Eventually somebody says \"I have the answer\" and successfully states what color hat they have. Since Carol can see Andrew and Bob, if they both were wearing blue hats she would immediately know that she was wearing red, so unlikely that a long time would pass before she answered (and take the money)... Therefore Andrew and Bob have one red hat and one blue hat. (And Carol knows there's a 33% chance she's got a blue hat and a 66% chance she's got a red hat). Since Bob knows that Carol delayed in answering \"a long time passes\" AND he can see the color of hat that Andrew is wearing, then Either Andrew is wearing a blue hat, and therefore Bob must be wearing a red hat. Or Andrew is wearing a red hat, and therefore Bob must be wearing a blue hat. Bob successfully answers... (unless Carol is more interested in sadistic plots and even though she knows both Bob and Andrew have blue hats she just waits to watch Bob get it wrong...) NOTE: this variation from the NY Times is slightly incorrect as it is essentially asking why Andrew wins... The clue in order for \"Andrew\" to know (the delay) is the same as what Bob uses, but Bob will be able to deduce it much faster. (Again, Carol could be deliberately waiting to watch Andrew fail too...) http://tierneylab.blogs.nytimes.com/2009/03/16/the-puzzle-of-the-3-hats One ball of 8 weighs more than the other 7, how can you identify it with two measurings of a balance scale? Weigh 3 vs 3, if they match then weigh one of the \"good\" ones against one of the remaining ones, if they're unequal you have the heavier one, if they're equal then the last is the heavy one. If the 3 vs 3 do not match then take two of the heavy side and weigh them against each other: if they're unequal you have the heavier one, if they're equal then the last of the heavy side is the heavy one. One ball of 12 weighs more OR less than the other 11, how can you identify it and whether it's heavier or lighter with three measurings of a balance scale? Weigh 4 vs 4, label them ABCD and EFGH. If they balance then weigh \"good\" ABC against WXY. If the second weighing balances then weigh Z against A to see if Z is light or heavy. If the second weighing has WXY heavier or lighter (make a note of which as we have solved whether the imbalance is heavy or light), then weigh W with X. If they balance then Y is the imbalance from step 2 (heavier or lighter). If they do not balance then whichever matches the imbalance from step 2 is the off ball. IF at the first weighing ABCD was lighter than EFGH, in the second weighing rotate such that ABCZ is weighed against D with \"good\" XYZ. If ... Note that this problem can also be solved by carefully measuring the results as the left and right groups of 4 are rotated. 12 becomes 4 v 4 v (4) - if the balance the last 4 are easy if not balanced: 1,2,5 vs 3,6,12 5 pots of 10g coins BUT one contains 9g coins, which pot is off by measuring the weight once? 1 from pot 1, 2 from pot 2, 3 from pot 3, 4 from pot 4, and 5 from pot 5 Expected weight should be 150g: if it's 149 then pot 1 , if it's 148 then pot 2, etc. How can you use a weighted coin (i.e. head more than tails) and still create a fair system of flips? Aggregate the outcomes: treat two flips as a single result such that heads then tails = Heads, and tails followed by heads = Tails. 10 are heads of N coins, how to create 2 groups that have the same number of heads up? Take any 10 from N and flip them (inverted will mirror the number of heads in the N - 10 group) 3 colors of socks: how many to take out until you have a pair? 4 (1 of each and the last 1 must match 1 of the first 3) 100 closed lockers, open all of the lockers on the first pass... ...close every 2nd locker on the second pass, on the third pass and for every 3rd locker open it if it's closed, close it if it's open. After the hundreth pass, how many lockers are open? i.e. after the hundreth the locker 12 was opened on pass 1, closed pass 2, opened pass 3, closed pass 4, opened pass 6, closed pass 12. locker 13 (prime) was opened on pass 1 and closed on pass 13. locker 16: opened on 1, closed on 2, opened on 4, closed on 8, opened on 16! There are 9 perfect squares under one hundred: 1, 4, 9, 16, 25, 36, 49, 64, 81 Incomplete Puzzles Minutes Degrees from 12:00 = mins * 6 Hours Degrees From 12:00 = hours * 30 + mins * .5 Find 1 duplicate in 100 numbers of 1 to 100 = add them up and subtract sum of 1 to 100 ALTERNATIVES: hashmap O(1), sort and then scan looking for a double entry (nLog(n) if mergesort? + n ), n\\&#94;2 if using brute force Sorted List rotated: find min = naive if curr < prev is O(n) Binary Search compare first and mid, if ordered then reset is in partition > mid (RIGHT) find any elem: if > first and Ordered then LEFT BAD: binary search against the \"fixed\" list using the min location as an offset with mod list size ? nxn matrix of numbers in ascending order in both dimensions how would you go about finding if the number y is in the matrix. 5623 players in a tournament, how many matches must be played? 5622 (everybody loses at least once except the winner) Unsolved Puzzles N different flavored Cakes (each with a different Volume) for K people, each person should get an equal volume of Cake (but only a single flavor) V's 1, 2, 3, 4 for 5 people add all volumes together / people = \"theoretical best\" (i.e. 10/5 = 2) start with 2 cakes, 4 + 1, so V=1 for K, next 4 + 2 = doesn't work, 4+3 doesn't work 3 cakes: 4+3+2 = 9 BUT not divisible by 5 1 * 1, 2 * 1, 2 * 1 = waste 5 ( 10-5) discard Random Facts World Population (estimated 2012) = 7 Billion US Population (estimated 2012) = 316 Million Earth circumference (equator) = 24,901.55 miles (40,075.16 kilometers)","tags":"puzzles","loc":"/content/logic-puzzles","title":"Logic Puzzles"},{"text":"**Stanford \"Programming Methodology\"** by Mehran Sahami (very fun and Java is a good starting point) [http://see.stanford.edu/see/lecturelist.aspx?coll=824a47e1-135f-4508-a5a...][] (also at [https://itunes.apple.com/us/itunes-u/programming-methodology/id384232896][]) **Algorithms of course!** MIT [http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6...][] (also at [https://itunes.apple.com/us/itunes-u/introduction-to-algorithms/id341597...][]) [http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6...][1] Stanford [http://see.stanford.edu/see/lecturelist.aspx?coll=11f4f422-5670-4b4c-889...][] (also at [https://itunes.apple.com/us/itunes-u/programming-abstractions/id384232917][]) [https://www.coursera.org/course/algo][] [https://www.coursera.org/course/algo2][] Princeton [https://www.coursera.org/course/algs4partI][] [https://www.coursera.org/course/algs4partII][] **Information and Models** MIT [http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6...][2] (also at [https://itunes.apple.com/us/itunes-u/information-and-entropy/id424082281][]) University of Michigan [https://class.coursera.org/modelthinking-2012-002/class/index][] **Software Patterns** Vanderbilt [https://www.coursera.org/course/posa][] **PRACTICE, PRACTICE, PRACTICE** [http://codingbat.com/python][] (beginner) [http://projecteuler.net/][] [http://acm.timus.ru/][] [http://www.spoj.com/problems/classical/][] [http://leetcode.com/onlinejudge][] [http://codeforces.com/problemset][] [http://see.stanford.edu/see/lecturelist.aspx?coll=824a47e1-135f-4508-a5a...]: http://see.stanford.edu/see/lecturelist.aspx?coll=824a47e1-135f-4508-a5aa-866adcae1111 [https://itunes.apple.com/us/itunes-u/programming-methodology/id384232896]: https://itunes.apple.com/us/itunes-u/programming-methodology/id384232896 [http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6...]: http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/ [https://itunes.apple.com/us/itunes-u/introduction-to-algorithms/id341597...]: https://itunes.apple.com/us/itunes-u/introduction-to-algorithms/id341597754?mt=10 [1]: http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-introduction-to-algorithms-sma-5503-fall-2005/video-lectures/ [http://see.stanford.edu/see/lecturelist.aspx?coll=11f4f422-5670-4b4c-889...]: http://see.stanford.edu/see/lecturelist.aspx?coll=11f4f422-5670-4b4c-889c-008262e09e4e [https://itunes.apple.com/us/itunes-u/programming-abstractions/id384232917]: https://itunes.apple.com/us/itunes-u/programming-abstractions/id384232917 [https://www.coursera.org/course/algo]: https://www.coursera.org/course/algo [https://www.coursera.org/course/algo2]: https://www.coursera.org/course/algo2 [https://www.coursera.org/course/algs4partI]: https://www.coursera.org/course/algs4partI [https://www.coursera.org/course/algs4partII]: https://www.coursera.org/course/algs4partII [2]: http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-050j-information-and-entropy-spring-2008/ [https://itunes.apple.com/us/itunes-u/information-and-entropy/id424082281]: https://itunes.apple.com/us/itunes-u/information-and-entropy/id424082281 [https://class.coursera.org/modelthinking-2012-002/class/index]: https://class.coursera.org/modelthinking-2012-002/class/index [https://www.coursera.org/course/posa]: https://www.coursera.org/course/posa [http://codingbat.com/python]: http://codingbat.com/python [http://projecteuler.net/]: http://projecteuler.net/ [http://acm.timus.ru/]: http://acm.timus.ru/ [http://www.spoj.com/problems/classical/]: http://www.spoj.com/problems/classical/ [http://leetcode.com/onlinejudge]: http://leetcode.com/onlinejudge [http://codeforces.com/problemset]: http://codeforces.com/problemset [Programming]: http://john-pfeiffer.com/category/tags/programming","tags":"linux","loc":"/content/more-complete-education","title":"A More Complete Education"},{"text":"Web development used to be so hard (and static). (read &\\#60;bold&\\#62;) Now everyone realizes (along with version control and automated testing) that decoupling views and displays from dynamic code makes everyone's life easier! (Refresh your colors and layout without having to touch your backend logic! Re-engineer your persistence layer and business logic but leave your uber wow design intact! Allow front end and back end developers to work in parallel!) Jinja2 is an excellent framework for python developers (to go with your uwsgi + django or webapp2) to get html templates (do not repeat yourself!) that can show off all of your backend python data magic with some pizazz. It's fairly easy to do all sorts of powerful things (like accessing variables, loops, etc.) [http://jinja.pocoo.org/docs/][] When combined with css and jquery (i.e. tablesorter) you can quickly throw together a decent looking interactive experience. [http://jquery.com/download/][] [http://tablesorter.com/docs/\\#Download][] Here's my budding ode to sorting algorithms (yes, Google App Engine is free) [http://john-pfeiffer.appspot.com/algorithms][] \\#TODO: finish using jquery tablesorter A webapp2 project layout and source code example (please excuse the code formatting, you'll need to imagine the correct indents)... [http://john-jinja2.appspot.com/main][] assets/css/style.css assets/css/tablesorter.css assets/images/css/asc.gif (bg.gif, desc.gif, etc.) assets/js/jquery-1.9.1.min.js assets/js/jquery.tablesorter.min.js mainhandler.py templates/main.html app.yaml (only required if using AppEngine) main.py routes.py APP.YAML application: john-jinja2 version: 1 runtime: python27 api\\_version: 1 threadsafe: true handlers: - url: /favicon\\\\.ico static\\_files: favicon.ico upload: favicon\\\\.ico - url: /css static\\_dir: assets/css - url: /js static\\_dir: assets/js - url: /images static\\_dir: assets/images - url: /.\\* script: main.app libraries: - name: webapp2 version: \"2.5.2\" - name: jinja2 version: latest MAIN.PY \\# -\\*- coding: utf-8 -\\*- import webapp2 from routes import entry\\_points \\# must be named \"application\" for uwsgi webapp2, in AppEngine it should be \"app\" application = webapp2.WSGIApplication( entry\\_points , debug = False ) ROUTES.PY \\# -\\*- coding: utf-8 -\\*- import webapp2 from mainhandler import MainHandler \\# Map url's to handlers in the handlers module , optionally choosing specific target method and request type entry\\_points = [ webapp2.Route( '/main', handler=MainHandler, handler\\_method='get', methods=['GET'] ), ] MAINHANDLER.PY \\# -\\*- coding: utf-8 -\\*- import webapp2 import jinja2 import os \\# weird hack to ensure we go up a directory level to correctly find the templates directory jinja\\_environment = jinja2.Environment( loader = jinja2.FileSystemLoader( os.path.dirname(\\_\\_file\\_\\_) ) ) class MainHandler( webapp2.RequestHandler ): def get( self ): result\\_list = [ ('apples','green'), ('bananas','yellow'), ('cherries','red') ] \\# a list of tuples template = jinja\\_environment.get\\_template( 'templates/main.html' ) template\\_values = { 'title': 'fruits and colors', 'body\\_content': 'fruits and colors', 'result\\_list': result\\_list } self.response.content\\_type = 'text/html' self.response.out.write( template.render( template\\_values ) ) TEMPLATES/MAIN.HTML ][] ][] <head\\> <title\\>{{title}}","tags":"linux","loc":"/jinja2-a-web-html-template-layout-for-everyone","title":"Jinja2, a web html template layout for everyone"},{"text":"After installing Ubuntu Server 12.04 (Precise Pangolin) I was disappointed to see that one of my favorite utilities, byobu (an improvement on the classic screen = multi ssh screen with status and hotkeys), had an infinite scroll problem. (Quick, type exit before your screen disappears entirely!) Amazingly this bug shipped in the official Ubuntu Release even though byobu 5.17 lists it as a fixed. Easy workaround is: byobu - config Toggle status notifications Use the arrow keys to scroll down and space bar to disable the logo Tab and Enter to Apply -> then Exit Now you can safely use \"byobu\" on the command line in Ubuntu 12.04! p.s. Control + a (screen mode) and then Control + a , then c ... now you've got multiple screens! (Control + a + 0 to go to screen 0, control + a + a to jump to the last used screen) https://help.ubuntu.com/community/Byobu A fix for Windows Putty users ... Window -> Translation -> UTF8 (the ISO-8859 + byobu UTF8 logo = ugh) (An untested alternate workaround: .byobu/status::tmux_left : \"logo\" -> \"#logo\" ) UPDATE for 12.04.2! byobu in Ubuntu 12.04 uses tmux as the backend. You can change this by running byobu-select-backend and selecting screen Thanks for the tip Eric!","tags":"linux","loc":"/fix-byobu-infinite-scroll-bug-on-ubuntu-1204-precise-pangolin","title":"Fix Byobu infinite scroll bug on Ubuntu 12.04 Precise Pangolin"},{"text":"Sign up for Google App Engine (gmail + SMS verification) \"Google App Engine (often referred to as GAE or simply App Engine, and also used by the acronym GAE/J) is a platform as a service (PaaS) cloud computing platform for developing and hosting web applications in Google-managed data centers. \" Login and create an Application (e.g. named john-pfeiffer reachable at [http://john-pfeiffer.appspot.com][] ) Download and extract the SDK (e.g. gae-python.zip) cd google\\_appengine cp -a new\\_project\\_template helloworld nano helloworld/app.yaml application: john-pfeiffer version: 1 runtime: python27 api\\_version: 1 threadsafe: yes handlers: - url: /favicon\\\\.ico static\\_files: favicon.ico upload: favicon\\\\.ico - url: .\\* script: main.app libraries: - name: webapp2 version: \"2.5.2\" nano helloworld/main.py \\#!/usr/bin/env python import webapp2 class MainHandler( webapp2.RequestHandler ): def get( self ): self.response.write( 'Hi World!' ) app = webapp2.WSGIApplication( [ ( '/' , MainHandler ) ], debug=True ) \\# VIEW THE APP ON YOUR LOCAL MACHINE ./dev\\_appserver.py helloworld INFO 2012-12-27 04:20:20,399 dev\\_appserver\\_multiprocess.py:655] Running application dev\\~john-pfeiffer on port 8080: [http://localhost:8080][] INFO 2012-12-27 04:20:20,399 dev\\_appserver\\_multiprocess.py:657] Admin console is available at: [http://localhost:8080/\\_ah/admin][] \\# UPLOAD THE APP TO GOOGLE APP ENGINE ./appcfg.py update helloworld/ 07:44 PM Host: appengine.google.com 07:44 PM Application: john-pfeiffer; version: 1 07:44 PM Starting update of app: john-pfeiffer, version: 1 07:44 PM Getting current resource limits. 07:44 PM Scanning files on local disk. 07:44 PM Cloning 1 static file. 07:44 PM Cloning 3 application files. 07:44 PM Uploading 1 files and blobs. 07:44 PM Uploaded 1 files and blobs 07:44 PM Compilation starting. 07:44 PM Compilation completed. 07:44 PM Starting deployment. 07:45 PM Checking if deployment succeeded. 07:45 PM Will check again in 1 seconds. 07:45 PM Checking if deployment succeeded. 07:45 PM Will check again in 2 seconds. 07:45 PM Checking if deployment succeeded. 07:45 PM Deployment successful. [http://john-pfeiffer.appspot.com][] appcfg.py download\\_app -A -V - - - - - - - - - - - - - - - - - - - - - - - - app.yaml application: john-pfeiffer version: 6 runtime: python27 api\\_version: 1 threadsafe: yes handlers: - url: /favicon\\\\.ico static\\_files: favicon.ico upload: favicon\\\\.ico - url: .\\* script: main.app libraries: - name: webapp2 version: \"2.5.2\" main.py \\#!/usr/bin/env python import webapp2 class MainHandler( webapp2.RequestHandler ): def get( self ): self.response.write( 'hello John Pfeiffer!' ) class PageOne( webapp2.RequestHandler ): def get( self ): self.response.write( \"\"\" PageOne \"\"\"); class PageTwo( webapp2.RequestHandler ): def get( self ): self.response.write( 'PageTwo' ) def post( self ): get\\_values = self.request.GET post\\_values = self.request.POST self.response.write( str( get\\_values ) + \"\\\\n\") self.response.write( str( post\\_values ) ) app = webapp2.WSGIApplication([ ('/', MainHandler), ('/page-one', PageOne), ('/page-two', PageTwo) ], debug=True) def main(): run\\_wsgi\\_app( application ) if \\_\\_name\\_\\_ == \"\\_\\_main\\_\\_\": main() ./appcfg.py update john-pfeiffer \\# update does not publish the new version yet ./appcfg.py set\\_default\\_version john-pfeiffer \\# or you can use the WebUI dashboard to change the default or delete a Version for an Application Instance tags: Programming IT","tags":"linux","loc":"/google-app-engine-python","title":"Google App Engine Python"},{"text":"Here's my response to Jeff Atwood's calculations and incorrect conclusion about Building Your Own Server: I'm not sure I know when an organization's Production deployment doesn't need reduced complexity/costs (people!), flexibility for load, and redundancy... \"Anyway, I want to make it clear that building and colocating your own servers isn't (always) crazy, it isn't scary, heck, it isn't even particularly hard. In some situations it can make sense to build and rack your own servers, provided \u2026 -you want absolute top of the line server performance without paying thousands of dollars per month for the privilege -you are willing to invest the time in building, racking, and configuring your servers -you have the capital to invest up front -you desire total control over the hardware -you aren't worried about the flexibility of quickly provisioning new servers to handle unanticipated load -you don't need the redundancy, geographical backup, and flexibility that comes with cloud virtualization\" [http://www.codinghorror.com/blog/2012/10/building-servers-for-fun-and-pr...][] Hi Jeff, long time fan, first time commenter... I love building servers too and I've managed a small group of servers, I personally use Linode, and my currently company uses AWS and some internal servers... You would agree that in coding you pick the right tool for the job (scientific computing would use a different technology stack than standard ecommerce startup website)... \\1. AWS is elastic (you pay a premium for being to scale up or down - and there's value to the agility with which you can change or add new services) \\2. AWS RDS is a huge improvement over managing MySQL replication, and they have ELB and lots of other addons that take serious Ops chops to create and maintain \\3. Server operations cost is not the raw hardware: \\a. The biggest cost in Ops is people (same as coding), so leveraging Amazon saves on how many people you need to pay to manage your server farm (yes, SysAdmins take holidays and change jobs so cost = N+1 )... you can outsource half way by colocating but the setting up the redundancy, monitoring, auto scaling, etc. becomes a physical pain (you want West Coast and East Coast servers, right). \\b. The infrastructure of cooling, UPS, network (bandwidth!), backups, etc. is also a big factor in Operations (does your server room have building security? backup generator?) My point is that for a stealth mode startup or any internal lab testing buying servers is a no brainer - do it with ESXi or OpenStack and hack away! BUT for Production you'll need some Cloud strategy (AWS competitors: RedHat OpenShift, RackSpace Cloud, IBM, ATT Compute, Google AppEngine, etc. means lower prices and improved services) As you've already mentioned if you happen to have hanging around a pile of cash and tech expertise that's underutilized... tags: IT http: //www.codinghorror.com/blog/2012/10/building-servers-for-fun-and-prof-ok-maybe-just-for-fun.html","tags":"linux","loc":"/server-operations-cloud-versus-build-your-own","title":"Server Operations: Cloud versus Build Your Own"},{"text":"[TOC] openshift is the cloud PaaS offering from RedHat Prerequisites sudo apt - get update sudo apt - get install ruby1 .9.3 git - core //yay for ubuntu 12.04 sudo gem install rhc //red hat client rhc setup Created local config file : / home / ubuntu / . openshift / express . conf The express . conf file contains user configuration , and can be transferred to different computers . No SSH keys were found . We will generate a pair of keys for you . 2 : No such file or directory Created: / home / ubuntu / . ssh / id_rsa . pub Your public ssh key must be uploaded to the OpenShift server . Would you like us to upload it for you ? ( yes / no ) yes rhc commands rhc -h rhc domain show //prompts for password rhc app create -h Valid application types are (nodejs-0.6, ruby-1.9, jbossas-7, python-2.6, jenkins-1.4, ruby-1.8, jbosseap-6.0, diy-0.1, php-5.3, perl-5.10) rhc app create -a john -t diy-0.1 rhc app show -a john rhc app cartridge list ON YOUR LOCAL MACHINE BROWSE TO WHERE YOU WANT TO STORE YOUR GIT REPO git clone git clone ssh://a261d0fc2932413694456e3473fdc972@APPNAME-DOMAIN.rhcloud.com/\\~/git/... git status git pull REPO LAYOUT of \\~/john/repo .openshift/action_hooks/start - Script that gets run to start your application .openshift/action_hooks/stop - Script that gets run to stop your application .openshift/action_hooks/pre_build - Script that gets run every git push before the build .openshift/action_hooks/build - Script that gets run every git push as part of the build process (on the CI system if available) .openshift/action_hooks/deploy - Script that gets run every git push after build but before the app is restarted .openshift/action_hooks/post_deploy - Script that gets run every git push after the app is restarted diy misc README static/ If it exists externally exposed static content goes here CHANGES ARE ONE DIRECTIONAL FROM THE GIT CLONE TO THE OPENSHIFT BOX mv diy/testrubyserver.rb ../misc mv diy/index.html ../misc git add -A git commit -m \"moved initial test stuff to /misc\" git push //if the app is running then a git push automatically ... Counting objects: 6, done. Delta compression using up to 4 threads. Compressing objects: 100% (4/4), done. Writing objects: 100% (4/4), 607 bytes, done. Total 4 (delta 1), reused 1 (delta 0) remote: Stopping application... remote: Done remote: \\~/git/john.git \\~/git/john.git remote: \\~/git/john.git remote: Running .openshift/action_hooks/pre_build remote: Running .openshift/action_hooks/build remote: Running .openshift/action_hooks/deploy remote: Starting application... remote: Done remote: Running .openshift/action_hooks/post_deploy ssh 51233d90ea45fd91e42096651d937e@john-pfeiffer.rhcloud.com //note that HOME is /var/lib/stickshift/12315longidentifier cd app-root/data wget http://mirror.cc.columbia.edu/pub/software/apache/tomcat/tomcat-7/v7.0.2... tar -xzvf apache-tomcat-7.0.29.tar.gz //expands to 13MB, note that JAVA is already installed by default rm apache-tomcat-7.0.29.tar.gz Since OpenShift has a proxy setup that passes port 80 to your local server on port 8080, BUT OpenShift does not allow users to bind to any port below 15000 other than 8080, so... ssh 521233d90ea45fd91e42096651d937e@john-pfeiffer.rhcloud.com env //shows you all of the environment variables in the openShift multitenant config env | grep INTERNAL OPENSHIFT_INTERNAL_PORT=8080 OPENSHIFT_INTERNAL_IP=127.13.29.1 vi app-root/data/apache-tomcat-7.0.29/conf/server.xml escape key then :x (save and quit) cd app-root/data/apache-tomcat-7.0.29/bin sh startup.sh && tail -f ../logs/* (this is how you can start it manually from within ssh, you'll have to stop it manually too!) ADDING Tomcat to your default start and stop scripts (which are used during every git push) In your local git repo there is a hidden directory \".openshift\" cd APPNAME/.openshift/action_hooks vi .openshift/action_hooks/start #nohup $OPENSHIFT_REPO_DIR/diy/testrubyserver.rb $OPENSHIFT_INTERNAL_IP $OPENSHIFT_REPO_DIR/diy > $OPENSHIFT_LOG_DIR/server.log 2>&1 & cd $OPENSHIFT_DATA_DIR/apache-tomcat-7.0.29/bin nohup sh startup.sh echo \"completed tomcat7 startup\" vi .openshift/action_hooks/stop cd $OPENSHIFT_DATA_DIR/apache-tomcat-7.0.29/bin nohup sh shutdown.sh echo \"completed tomcat7 shutdown\" exit 0 git add -A git commit -m \"removed testrubyserver.rb and added tomcat to start/stop scripts\" git push http://APPNAME-DOMAINNAME.rhcloud.com MOVE YOUR WEBAPPS DIRECTORY TO THE GIT REPO SO THAT A GIT PUSH WILL AUTO DEPLOY THE NEWEST mv $OPENSHIFT_DATA_DIR/apache-tomcat-7.0.29/webapps \\~/john/repo/diy/webapps ln -s \\~/john/repo/diy/webapps webapps Strongly advised to remove the manager and example apps (just deploy your .war's) //rhc app stop -a APPNAME -p YOURPASSWORD //yes, it uses your RHCloud account username and password for app management ssh 521233d90ea45fd91e42096651d937e@john-pfeiffer.rhcloud.com mv \\~/app-root/data/apache-tomcat-7.0.29/webapps/* app-root/repo/misc mv app-root/repo/misc/ROOT \\~/app-root/data/apache-tomcat-7.0.29/webapps //rhc app start -a APPNAME -p YOURPASSWORD ONCE YOU'VE SSH'D IN... help ps|ls| ctl_app start [stop|restart|status] mysql | mongo | quota NOTE: sometimes it's easier to use a UI https://openshift.redhat.com/app/console/applications My Account -> Public Keys My Applications -> APPLICATION_NAME -> rhc app add-alias -a myapp --alias myapp.net FUTURE THOUGHTS Eclipse + m2e (maven plugin) + jetty plugin for fast and easy dependency management -> mvn install + added custom script can put your .war into your local openshift repo for continuous deployment. ssh: //a261d0fc2932413694456e3473fdc972@APPNAME-DOMAIN.rhcloud.com/~/git/APPNAME.git/ http: //mirror.cc.columbia.edu/pub/software/apache/tomcat/tomcat-7/v7.0.29/bin/apache-tomcat-7.0.29.tar.gz","tags":"linux","loc":"/tomcat-deployment-on-openshift-for-free","title":"Tomcat deployment on Openshift for free"},{"text":"Economies of Scale in Software Development is about planning to be successful. Software development is rather cheap when compared to physical manufacturing but that doesn't mean it doesn't cost money to create a product. The classic myth of the lone wolf hacker who creates a viral product runs counter to the reality of billions of dollars generated by the software industry. Consider the many elements required to create a software product: Developers (hiring, location, communication, etc.) Developer tools (IDE, compiler, debugger, etc.) QA (you do run tests of some sort, don't you?!?!) Distribution/Release (shrink wrapper or delivered by Internet continuously, it still costs something) Support (assuming you've actually got users) What can you do to make your software cheaper, faster, and most importantly, better? **1. Use Open Source**(like facebook, twitter, google). Leverage the crowd and reduce your costs (e.g. not buying software licenses, not paying someone to audit your software licenses, etc.) Spending money on licenses becomes cost prohibitive for large successful organizations. More importantly get the quality of years of development by lots of different perspectives. The homogeneous gets wiped out by a single cause, get diversified! Concerns about competitive advantage based on your supply chain (e.g. the myth \"using Open Source tools doesn't give you an edge\") are unfounded as: \\a. If your competitive advantage is a \"secret supplier\" then your business will go bust as soon as anyone else finds out your secret. \\b. If you're paranoid enough to worry your competitors are messing with your tools then you shouldn't trust a closed source vendor - keep it in the open where everyone's watching. Giving back to open source projects you depend on has a multiplier effect: a healthy community project is far cheaper than paying full time to support your critical requirements and has built in support and marketing. **2. Standardization** Consider the trend of large clusters of commodity hardware. Using the same internal development tools means it's easier to focus on the real problems and not get lost in translation. This doesn't mean sticking to old versions or being afraid to innovate, but make success a formula and not an accident. Larger efficiencies can be generated by getting a decent level of determinism in the workflow. This means use the same IDE, the same dependency libraries, communication channels, etc. If you have rock stars that can't learn the common tool or won't teach others why their method is better then you run the risk of a dysfunctional \"all-star\" time bomb. This also applies to fairness: office perks, salaries, etc. Make it an organization about transparent achievable results, not a labyrinth of back room exceptions. **3. Reduced specialization (and silos)** System Administrator's whose sole purpose is to watch machines is a dying breed. An army of QA who manually walk through the same test plan over and over is also legacy. Start with \"DRY - Do Not Repeat Yourself\". Develop automation early and make the process simple and obvious. (i.e. Amazon's internal conversion to API's). This also means avoiding purchasing hardware (and the associated inventory/maintenance/overhead). The more virtual servers you buy the larger volume discount you can negotiate. It's not entirely about cost: 1. you're renting somebody else's implementation of best practice 2. you need to make your product number one, distractions from that reduce velocity. Your feature set will continually grow. (Even with careful pruning). By looking at software as the solution to quality/delivery/maintenance/etc. you can reduce your running cost to a fraction of what it would be AND be able scale up quickly when you become wildly successful. Note: people are still irreplaceable but by having a lot more Developers (and less unique specialists) you can distribute the load more evenly. Getting more cross functional individuals means less silos and less communication gaps. The network mesh effect destroys productivity if everyone's a separate bottleneck. **4. Make it real** Code that lives solves problems and is valuable. Uncommitted, unused, and otherwise un-useful code costs money to debug and deconstruct; much worse it costs time. Continuous integration gets your stable unit tested code some real world bruises. Continuous deployment gets your code crunching data and making users happy. There will be bugs. Far more important are to ensure the product fits the market and have the ability to quickly fix what's broken - sometimes amputation due to business needs is critical (read how Flickr was born). Your team must be able to execute. You lead them by example (both the late nights and the high fives) and these real people will deliver exponential success. tags: IT Programming","tags":"linux","loc":"/creating-economies-of-scale-in-software-development","title":"Creating Economies of  Scale in Software Development"},{"text":"Socrates oral questions (and answers) were immortalized by Plato's writings. I love books, the distillation of the wisdom of the ages, and the libraries where they are enshrined and shared. Visiting a library is an exciting insight into the culture and values of a location. Encyclopedias, Dictionaries, and all manner of reference books were the compendium of answers; questions had to be researched (sometimes involving extensive legwork, detective work, and persistence). Digitization of books (e.g. encyclopedia on cd-rom) enabled huge improvement in the access and distribution of information. Physical bulletin boards and community centers are also places of information exchange; digital communication (modems!) transformed the reach and capacity. Television and Video, despite many attempts, has long remained a one way medium. (Though too there's something inherently relaxing about passive entertainment). The Internet (and especially Google search) means specialist websites and esoteric questions are a couple links away; it has also enabled crowd sourcing answers. I'm amazed at the speed and accuracy of answers aggregated by Wikipedia, StackExchange, Quora, etc. (which admittedly still require filtering and research for correctness and comprehension). It's gotten so that now I receive answers to questions which I didn't realize I had. tags: Thoughts","tags":"linux","loc":"/an-evolution-of-questions-and-answers","title":"An Evolution of Questions and Answers"},{"text":"The well known perceived future business model is constant (mobile) targeted (user profiling) advertising (everywhere) with instant purchase (online + mobile) and delivery (streaming) So Apple (Android) + Facebook + Google + Amazon + (Netflix?) I think there's more to think about: the infrastructure is the gold; Hardware Manufacturers (CPU + RAM + SSD), Servers, Routers, ISP's, Content Producers, Transaction Processing, Data & User Platforms. The new ecosystem is inherently more distributed (more users globally, more devices) and fragmented (more OS, Apps, Content Producers, etc.) than the \"Microsoft Era\". Complexity increases with more data to aggregate/index/filter and many smaller transactions: consider previously purchasing a single desktop, monitor, (Windows bundled with it) and MS Word + one or two apps (Quickbooks or Photoshop). Now it's a laptop + phone + tablet (Windows + Android + iOS), each with many apps (including online services like Facebook) and the challenge of maintaining a consistent view of security, data, and even application state. Business purchases used to be larger, even grouped for volume (i.e. a company orders 1,000 desktops + monitors at $1,500 a piece); now it's bring your own device ($500) and many small app and content purchases for 99 cents to $10. Companies that solve the multi platform and scalability problems (along with of course actually creating a product that fulfills a need or desire) will get bigger faster. The opportunities are growing exponentially (network effect) for the talented, hard working teams that can execute. tags: IT","tags":"linux","loc":"/mid-2012-technology-and-business-prediction-for-2013-and-beyond","title":"Mid 2012 technology and business prediction for 2013 and beyond"},{"text":"Goal: More efficient and less error prone method to update a regularly changed downloadable file. So upload the following download.html and watch how [http://john-pfeiffer.com/download.html][] can magically point somewhere else (less weblink updating and longer term link stability). Redirect http://john-pfeiffer.com/download-v2.zip Note, javascript may help you open the download and then return to the original page but have strange interactions for a .txt file... Redirect http://john-pfeiffer.com/redirected-location.html tags: IT","tags":"linux","loc":"/amazon-s3-bucket-html-redirect","title":"Amazon S3 Bucket HTML Redirect"},{"text":"Goal: Customers (Users = system admins) able to self verify configuration. \\1. Used the Java API to quickly prototype a solution and exported a runnable .jar file - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - import com.emc.esu.api.EsuApi; import com.emc.esu.api.rest.EsuRestApi; import com.emc.esu.api.EsuException; import com.emc.esu.api.ObjectId; import com.emc.esu.api.ObjectInfo; import org.apache.log4j.Level; import org.apache.log4j.Logger; import org.apache.log4j.ConsoleAppender; import org.apache.log4j.PatternLayout; public class AtmosConnect { static Logger rootLogger = Logger.getRootLogger(); public static void main( String[] args ) { if( !rootLogger.getAllAppenders().hasMoreElements() ) { rootLogger.setLevel( Level.INFO ); rootLogger.addAppender( new ConsoleAppender( new PatternLayout(PatternLayout.TTCC\\_CONVERSION\\_PATTERN ) ) ); rootLogger.info(\"Entering application\"); } if( args.length != 4 ) { System.out.println( args.length + \" does not equal the 4 required arguments.\"); System.out.println( \"version 0.1: java -jar AtmosConnect.jar HOST PORT SUBTENANTID/UID SECRETKEY\" ); System.exit( 1 ); } String HOST = args[0]; int PORT = Integer.parseInt( args[1] ); String FULLTOKENID = args[2]; String SECRETKEY = args[3]; displayConnectionCredentials( HOST , PORT , FULLTOKENID , SECRETKEY ); EsuApi myEsuAPI = null; try{ myEsuAPI = new EsuRestApi( HOST, PORT, FULLTOKENID, SECRETKEY ); }catch( EsuException e ) { System.out.println( \"EsuRestApi Constructor failed.\"); System.out.println( e.getMessage() ); e.printStackTrace(); } ObjectId myObjectId = null; myObjectId = createAtmosObject( myObjectId , myEsuAPI ); displayAtmosObject( myObjectId , myEsuAPI ); deleteAtmosObject( myObjectId , myEsuAPI ); rootLogger.info(\"Application Successful\"); } // end main() private static void displayConnectionCredentials( String HOST , int PORT , String FULLTOKENID , String SECRETKEY ) { System.out.println( \"Connecting to Host: \" + HOST ); System.out.println( \"Connecting on Port: \" + PORT ); System.out.println( \"Full Token ID: \" + FULLTOKENID ); System.out.println( \"Secret Key: \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\" ); //System.out.println( \"Secret Key: \" + SECRETKEY ); } private static ObjectId createAtmosObject( ObjectId myObjectId , EsuApi myEsuAPI ) { try { myObjectId = myEsuAPI.createObject( null, null, null,\"application/octet-stream\"); System.out.println( \"Created object: \" + myObjectId.toString() ); } catch( Exception e ) { System.out.println(\"Create Object failed.\"); System.out.println( e ); //e.printStackTrace(); // JUnit Tests: Invalid Host, Port, SubtenantID, UID, Shared Secret, etc. } return myObjectId; } private static void displayAtmosObject( ObjectId myObjectId , EsuApi myEsuAPI ) { ObjectInfo myObjectInfo = null; myObjectInfo = myEsuAPI.getObjectInfo( myObjectId ); //System.out.println( \"ObjectInfo: \" + myObjectInfo.toString() ); //System.out.println( \"ObjectInfo as XML: \" + myObjectInfo.getRawXml() ); } private static void deleteAtmosObject( ObjectId myObjectId , EsuApi myEsuAPI ) { try { System.out.println( \"Trying to delete Server Object: \" + myObjectId.toString() ); myEsuAPI.deleteObject( myObjectId ); System.out.println(\"Test Object deleted on Server: \" + myObjectId.toString() ); } catch(Exception e) { System.out.println(\"Delete Object \" + myObjectId.toString() + \" failed \" + e); //e.printStackTrace(); } } } // end class - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\2. Verify bash commands that will help extract the configuration: /bin/grep -i 'emcIpAddress=' /var/lib/tomcat6/webapps/storagegateway/WEB-INF/app.properties | cut -f 2 -d '=' - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\3. Modify the perl console menu script start on stopped rc RUNLEVEL=[2345] stop on runlevel [!2345] respawn exec /sbin/getty -n -l /etc/init.d/CONSOLEMENU.pl 38400 tty1 sudo vi /etc/init.d/CONSOLEMENU.pl sub testatmosconnect() { system(\"clear\"); my $sourcefilename = \"/var/lib/tomcat6/webapps/storagegateway/WEB-INF/app.properties\"; my $applicationfilename = \"/var/lib/tomcat6/oxygen-storagegateway/atmosconnect.jar\"; if( (-e $sourcefilename) and (-e $applicationfilename) ) { my $emcipaddress = qx( /bin/grep -i 'emcIpAddress=' $sourcefilename | cut -f 2 -d '=' ); chomp( $emcipaddress ); my $emcportnumber = qx( /bin/grep -i 'emcPortNumber=' $sourcefilename | cut -f 2 -d '=' ); chomp( $emcportnumber ); my $emcuid = qx( /bin/grep -i 'emcUid=' $sourcefilename | cut -f 2 -d '=' ); chomp( $emcuid ); my $emcsharedsecret = qx( /bin/grep -i 'emcSharedSecret=' $sourcefilename | cut -f 2 -d '=' ); chomp( $emcsharedsecret ); my @status = qx( /usr/bin/java -jar $applicationfilename $emcipaddress $emcportnumber $emcuid $emcsharedsecret ); print \"@status\\\\n\"; }else { print \"$sourcefilename or $applicationfilename does not exist.\\\\n\"; } } \\# end atmosconnect() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\4. User can self test if they've misconfigured the VM or there's missing conf files/app, etc. SUCCESS! \\5. further unit and system tests, debug, refactor tags: Programming","tags":"linux","loc":"/self-configuration-tests-for-scalability","title":"Self configuration tests for scalability"},{"text":"**A System Administrator is like a Firefighter** - always available to fix an emergency, but without the glamour; after putting out a fire a SysAdmin has to report (with vague implications of guilt): what happened, why it happened, and how it can be prevented in the future. (Who's fault is it?) Good System Administrators are well paid but usually work on the invisible and complex \"back end\" and are on \"on call\". (Yes, your dinner, sleep, and other private activities will be interrupted.) A stable, in demand, career since it's hard to fire a good System Administrator but there's often a belief that the position could/should be outsourced. (Ever hear the story of the SysAdmin who was so good at automating server tasks and desktop deployments that he put himself out of a job?) If you're not careful, methodical, detailed, and cool headed then this may not be the right path for you. (Cynical is optional but it helps a lot). **An IT Manager is like an Accountant** - always asked to do more with less. In fairness an IT Manager gets to be more creative (legally) as innovation and change drive technological efficiency. Good IT Managers spend as little time as possible in meetings but can organize and automate the heck out of everything. Diagrams, Business Cases, Reporting, Schedules. Not often a hands on role. Being in charge of IT resources is well paid and it's a stable career (you're in charge of the budget, right?) but when \"downsizing\" occurs you may be considered an acceptable loss (if you're business cases prove you've saved/earned enough then it's usually a non issue). If you're not good at understanding people or technology (yes you have to hire/fire people and purchase wisely) then this may not be the right path for you. **A Developer is like an Artist** - eccentric, misunderstood, and something rare for the Arts, well paid. Good Developers understand it's Art with a purpose and apply rigorous engineering principles to their work (since software runs things like airplanes and hospitals this is a good thing). It's well paid but sometimes unpredictable work (software project done = goodbye expensive labor), luckily there's an endless demand for the foreseeable future. (Interestingly it often takes awhile to discover a \"bad\" developer and even then employers are reluctant to let them go). If you're not creative and logical; unable to unriddle paradoxes (yes it's a required dependency but no we don't want it), or just don't want to spend most of your waking hours in front of a screen (human contact optional), then this might not be the right path for you. tags: IT","tags":"linux","loc":"/technology-careers-part-1","title":"Technology Careers (part 1)"},{"text":"Security is risk management The hundreds of articles about \"changing passwords doesn't improve security\" are just hype/noise without context. While \"changing the highly complex password every 90 days\" is considered inefficient and draconian... But what about at least changing the password once a year? While it's likely that an external attacker or disgruntled employee will use a compromised password immediately, it doesn't mean there isn't a good reason to choose a frequency of password change: If a sticky note attached to a laptop sold at a garage sale is still valid for the company's online bank account then you're in trouble. Reduce the risk, have a policy to manage that window of access to something you're comfortable with. Dependency Visibility and the opportunity to improve your infrastructure is well worth the cost of finding every hard coded place that a password is embedded in your organization The password was just changed You quickly find something is not working You either change the password back or refactor/reorganized and break the dependency Far better than: - a random event like a forgotten password reset by one individual in the organization - creates a mystery problem in mission critical systems for everyone else to track down","tags":"it","loc":"/yes-change-your-password-regularly","title":"Yes, Change your Password regularly"},{"text":"Computer (Unix / POSIX) time starts 1970-01-01 00:00:00 UTC An excellent article about time, especially for java programmers, [http://www.odi.ch/prog/design/datetime.php][] Inside the \"river of time\" measurement is absurd, but Physicists have spacetime, \"...cycles of radiation corresponding to the transition between the two electron spin energy levels of the ground state of the 133 Caesium atom\". 24 hours, UTC and NTP can synchronize the world (especially servers!), but days, calendars, time zones, weeks, etc. will drive you crazy, so think carefully and use the utility libraries! import java.util.Date; import java.util.Calendar; import java.util.TimeZone; import java.text.DateFormat; import java.text.SimpleDateFormat; public static SimpleDateFormat dfm = new SimpleDateFormat(\"yyyy-MM-dd\"); // not thread-safe DateFormat dfm = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\"); dfm.setTimeZone(TimeZone.getTimeZone(\"Europe/Zurich\")); Date a = dfm.parse(\"2007-02-26 20:15:00\"); ... tags: Programming","tags":"linux","loc":"/time-for-programmers","title":"Time for Programmers"},{"text":"Mission: hourly poll of a website to find out if the Kitteh is available for adoption and immediate email notification if Kitteh is found. Estimated time to complete: between 15 minutes and hours (depending on setting up your EC2 instance, SES service, etc.) Skills: Amazon EC2 setup, SSH, centos yum, bash, wget, cronjob - - - - - - 2011-02 Amazon Free tier\\* If you have an Amazon EC2 instance running (e.g. EC2 Linux Micro Instance in Free Tier = centos!) (And you're not running over the GET/POST upload/download free tier bandwidths) (If you don't know how to setup a quick Amazon Linux Micro Instance in the free tier [http://kittyandbear.net/john/virtualization/amazon-aws-free-tier-linux-w...][] ) Sign up for SES (then receive a verification email for your Amazon AWS Account) Account Security Credentials (for AWS access identifiers) Use nano or vi to create a file \"aws-credentials\" (Amazon's sample below) AWSAccessKeyId=022QF06E7MXBSH9DHM AWSSecretKey=kWcrlUX5JEDGM/LtmEENI/aVmYvHNif5zB+d9+ Download the example perl scripts via: [http://aws.amazon.com/code/Amazon-SES][] wget [http://aws-catalog-download-files.s3.amazonaws.com/AmazonSES-2011-02-02.zip][] unzip AmazonSES-2011-02-02.zip chmod +x /home/ec2-user/\\*.pl /home/ec2-user/bin/ses-verify-email-address.pl -k aws-credentials -v [youreemail@domain.com][] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \"Can't locate XML/LibXML.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/local/share/perl5 /usr/lib64/perl5 /usr/share/perl5 /usr/share/perl5 /usr/lib64/perl5 /usr/share/perl5 /usr/local/lib64/perl5/site\\_perl/5.10.0/x86\\_64-linux-thread-multi /usr/local/lib/perl5/site\\_perl/5.10.0 /usr/lib64/perl5/vendor\\_perl/5.10.0/x86\\_64-linux-thread-multi /usr/lib/perl5/vendor\\_perl /usr/lib/perl5/site\\_perl .) at ./ses-verify-email-address.pl line 26. BEGIN failed--compilation aborted at ./ses-verify-email-address.pl line 26.\" THANKS AMAZON! Using their preconfigured Instance means they don't have all of the Perl packages installed... sudo yum install perl-XML-LibXML perl-digest-SHA sudo yum provides \\*/SHA.pm (tells me what other packages I might have missed...) sudo yum search perl-Digest sudo yum install perl-Digest-SHA ( What a difference a D versus d makes!) ( sudo yum perl-libxml-perl libxml2-devel perl-IO-Socket-SSL libxslt-devel ?) (debian sudo apt-get install libio-socket-ssl-perl libxml-libxml-perl) tail /var/log/maillog for troubleshooting sendmail... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - /home/ec2-user/bin/ses-verify-email-address.pl -k aws-credentials -v [youreemail@domain.com][] use the email account you gave above for verification and click on the link... You have successfully verified an email address with Amazon Simple Email Service. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\~/amazonses/bin/ses-send-email.pl -k \\~/amazonses/bin/aws-credentials -s \"Test AWS\" -f [youremail@domain.com][] [youremail@domain.com][],[secondemail@domain.com][] < \\~/kittysearch/result.txt - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\#/bin/bash wget -O \\~/kittysearch/page1.htm '[http://adopt.hssv.org/search/searchResults.asp?task=search&searchid;=&adv...;][]' wget -O \\~/kittysearch/page2.htm '[http://adopt.hssv.org/search/searchResults.asp?tpage=2&task;=search&searc...;][]' wget -O \\~/kittysearch/page3.htm '[http://adopt.hssv.org/search/searchResults.asp?tpage=3&task;=search&searc...;][]' grep -i \"bandit\" \\~/kittysearch/page1.htm \\~/kittysearch/page2.htm \\~/kittysearch/page3.htm \\> \\~/kittysearch/result.txt if [ -s \\~/kittysearch/result.txt ] then \\# must move to the directory to use the SES.pm cd \\~/amazonses/bin ./ses-send-email.pl -k \\~/amazonses/bin/aws-credentials -s \"Test AWS\" -f [myemail@domain.com][] [myemail@domain.com][],[secondrecipient@domain.com][] < \\~/kittysearch/result.txt fi \\# [http://docs.amazonwebservices.com/ses/latest/DeveloperGuide/][] for full details about email.pl - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - crontab -e (i key to enter input in vi) 55 \\* \\* \\* \\* /home/ec2-user/kittysearch/kittysearch.sh (escape key gets : then x to save and quit) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Running the script from a different directory or CRON gets the error: \"Can't locate SES.pm in @INC\" cp /home/ec2-user/amazonses/bin/SES.pm /home/ec2-user/kittysearch FIXED! \\# must move to the directory in the script using cd first to have access to SES.pm - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\*You can send 2,000 messages for free each day when you call Amazon SES from an Amazon EC2 instance directly or through AWS Elastic Beanstalk. (Note bandwidth charges may still apply) tags: Linux Programming http: //kittyandbear.net/john/virtualization/amazon-aws-free-tier-linux-web-server.txt http: //aws-catalog-download-files.s3.amazonaws.com/AmazonSES-2011-02-02.zip http: //adopt.hssv.org/search/searchResults.asp?task=search&searchid=&advanced=&s=adoption&animalType=2%2C15&statusID=3&state=&regionID=&submitbtn=Find+Animals http: //adopt.hssv.org/search/searchResults.asp?tpage=2&task=search&searchid=&advanced=&s=&animalType=2,15&statusID=3&state=&regionID=&submitbtn=Find+Animals http: //adopt.hssv.org/search/searchResults.asp?tpage=3&task=search&searchid=&advanced=&s=&animalType=2,15&statusID=3&state=&regionID=&submitbtn=Find+Animals","tags":"linux","loc":"/amazon-ses-on-ec2-free-tier-to-search-for-a-kitteh","title":"Amazon SES on EC2 free tier to search for a kitteh!"},{"text":"Disk Operating System is still quite useful even in Windows XP/2003/Vista/7 if you know the commands (and parameters). systeminfo.exe //uptime, OS, originall install, ram, domain, logonserver, nic's systeminfo.exe /s computername /u domain\\\\username /p password ipconfig /all (note that window98 had a gui, winipcfg from the Run prompt) ipconfig /renew ipconfig /flushdns ping tracert pathping netstat net view \\\\\\\\10.0.0.13 net use x: \\\\\\\\10.0.0.13 net use /delete x: net use /delete \\\\\\\\10.0.0.13\\\\share net use \\* \\\\\\\\fileservername\\\\share net user username newpassword /domain net localgroup /add administrators \"domain users\" \\# promts for new password net user username \\* /domain \\# Note: If you type these commands on a member server or workstation and \\# you don't add the /domain switch, the command will be performed on the \\# local SAM and NOT on the DC SAM. \\# Note: Non-administrators receive a \"System error 5 has occurred. Access is denied\" \\# error message when they attempt to change the password. nbtstat -a 127.0.0.1 nbtstat [-a RemoteName] [-A IPAddress] [-c] [-n] [-r] [-R] [-RR] [-s] [-S] [Interval] -a RemoteName : Displays the NetBIOS name table of a remote computer, where RemoteName is the NetBIOS computer name of the remote computer. The NetBIOS name table is the list of NetBIOS names that corresponds to NetBIOS applications running on that computer. -A IPAddress : Displays the NetBIOS name table of a remote computer, specified by the IP address (in dotted decimal notation) of the remote computer. -c : Displays the contents of the NetBIOS name cache, the table of NetBIOS names and their resolved IP addresses. -n : Displays the NetBIOS name table of the local computer. The status of Registered indicates that the name is registered either by broadcast or with a WINS server. -r : Displays NetBIOS name resolution statistics. On a Windows XP computer that is configured to use WINS, this parameter returns the number of names that have been resolved and registered using broadcast and WINS. -R : Purges the contents of the NetBIOS name cache and then reloads the \\#PRE-tagged entries from the Lmhosts file. -RR : Releases and then refreshes NetBIOS names for the local computer that is registered with WINS servers. -s : Displays NetBIOS client and server sessions, attempting to convert the destination IP address to a name. -S : Displays NetBIOS client and server sessions, listing the remote computers by destination IP address only. Interval : Redisplays selected statistics, pausing the number of seconds specified in Interval between each display. Press CTRL+C to stop redisplaying statistics. If this parameter is omitted, nbtstat prints the current configuration information only once. Windows Logon Id's 2 interactive 3 network 4 batch 5 service 7 unlock 8 network cleartext 9 RunAs 10 RemoteInteractive 11 CachedInteractive Monitor Logon Script Create your logon script and place it in the %SystemRoot%\\\\System32 folder. Run Regedt32.exe and go to the following value: HKEY\\_LOCAL\\_MACHINE\\\\Software\\\\Microsoft\\\\WindowsNT\\\\CurrentVersion \\\\Winlogon\\\\Appsetup \\2. After the last entry in the Appsetup value, place a comma and a space and then enter the name and extension of the logon script you placed in the %SystemRoot%\\\\System32 folder. For example, if the value of Appsetup is: Usrlogon.cmd, Rmvlinks.exe After adding an entry for Termlogon.cmd, the value would look like: Usrlogon.cmd, Rmvlinks.exe, Termlogon.cmd echo %computername% %username% %date% %time% \\>\\> %homedrive%\\\\%homepath%\\\\log\\\\log.txt net use /help = The syntax of this command is: NET USE [devicename | \\*] [\\\\\\\\computername\\\\sharename[\\\\volume] [password | \\*]] [/USER:[domainname\\\\]username] [/USER:[dotted domain name\\\\]username] [/USER:[[username@dotted][] domain name] [/SMARTCARD] [/SAVECRED] [[/DELETE] | [/PERSISTENT:{YES | NO}]] NET USE {devicename | \\*} [password | \\*] /HOME NET USE [/PERSISTENT:{YES | NO}] NET USE connects a computer to a shared resource or disconnects a computer from a shared resource. When used without options, it lists the computer's connections. devicename Assigns a name to connect to the resource or specifies the device to be disconnected. There are two kinds of devicenames: disk drives (D: through Z:) and printers (LPT1: through LPT3:). Type an asterisk instead of a specific devicename to assign the next available devicename. \\\\\\\\computername Is the name of the computer controlling the shared resource. If the computername contains blank characters, enclose the double backslash (\\\\\\\\) and the computername in quotation marks (\" \"). The computername may be from 1 to 15 characters long. \\\\sharename Is the network name of the shared resource. \\\\volume Specifies a NetWare volume on the server. You must have Client Services for Netware (Windows Workstations) or Gateway Service for Netware (Windows Server) installed and running to connect to NetWare servers. password Is the password needed to access the shared resource. \\* Produces a prompt for the password. The password is not displayed when you type it at the password prompt. /USER Specifies a different username with which the connection is made. domainname Specifies another domain. If domain is omitted, the current logged on domain is used. username Specifies the username with which to logon. /SMARTCARD Specifies that the connection is to use credentials on a smart card. /SAVECRED Specifies that the username and password are to be saved. This switch is ignored unless the command prompts for username and password. /HOME Connects a user to their home directory. /DELETE Cancels a network connection and removes the connection from the list of persistent connections. /PERSISTENT Controls the use of persistent network connections. The default is the setting used last. YES Saves connections as they are made, and restores them at next logon. NO Does not save the connection being made or subsequent connections; existing connections will be restored at next logon. Use the /DELETE switch to remove persistent connections. NET HELP command | MORE displays Help one screen at a time. tags: Command Line","tags":"linux","loc":"/command-line-dos-networking","title":"Command Line DOS Networking"},{"text":"Unfortunately I was trying to install the 64 bit version of everything below but could not find a reliable method of getting mingw 64 bit to work with Eclipse... See the very end for the workaround. (Note: having a 64 bit compiler should theoretically compile faster but with gcc 32 bit you can compile / target both 32 and 64 applications.) \\1. install JRE (64 bit) \\2. install Eclipse CDT (64 bit) \\3. install Wascana (mingw for eclipse) \\4. configure the path variable A pre-requisite is to download the JRE (Java Runtime Environment, 5.0 or higher, newer is often better). FIRST, check if you have a 64 bit or older 32 bit system. If you have a 64 bit system, use a \"64 bit browser\" to go to the java page because otherwise it will keep giving you the 32 bit version to download... [http://www.java.com/en/download/faq/java\\_win64bit.xml][] The link and filename should be something like: \"jre-6u22-windows-x64.exe\" Otherwise in Eclipse you may get the Error exit code=13 or \"failed to load the JNI shared library\"... This will most likely install in C:\\\\Program Files\\\\Java (or some variant). (with the \\\\bin\\\\javaw.exe) (Note on Windows 7 the C:\\\\Program Files (x86)\\\\ directory contains 32 bit installations / applications.) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - The base Eclipse CDT supports integration with the GNU toolchain but may not come with a compiler... All Linux distributions include the GNU toolchain (but might not be installed by default...) MinGW provides the best integration support with the CDT due to it's direct support for the Windows environment. If you download the Eclipse IDE for C/C++ you'll get the \"CDT\" plugins along with the default Eclipse platform: [http://www.eclipse.org/cdt/downloads.php][] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - The eclipse.ini file allows you to configure your program (e.g. specify the JRE location) (Notedpad2 or notepad++ handle the linux versus windows line breaks transparently...) e.g. insert the line to specify where your java run time environment is, maybe you have two... -vm C:\\\\Java\\\\jre6\\\\bin\\\\javaw.exe - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Double clicking the eclipse.exe icon will start it with an empty Workbench (and use the default JRE) (The first time you will be given the opportunity to choose your \"Workspace\" (aka directory where all of your files will be stored, I prefer to have it in the Eclipse folder but obviously in a multi user setup the \"My Docs\" or Network Folder would also make sense... or Oxygen Cloud / Dropbox? DropBox -\\> Public might make Open Source Distribution even easier? ) File -\\> New -\\> C Project Fill in the basics (you can choose the pre-made hello world app) Then click on the \"Go To Workbench\" so you can see the Project File Explorer, Code Editor, Console (NOTE Window -\\> Preferences allows you to customize Eclipse e.g. disable usage statistics) Click on the hammer symbol (Build) to ensure that you create an object file (.o) before trying to test run an executable... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Of course when you try to build you get an error... Internal Builder: Cannot run program \"gcc\" (in directory \"C:\\\\My Dropbox\\\\workspace\\\\hello\\\\Debug\"): CreateProcess error=2, The system cannot find the file specified Build error occurred, build is stopped Help -\\> Install New Software (previously Software Installer) Work With gets pasted the URL of the Wascana C/C++ compiler for Eclipse, then click ADD [http://svn.codespot.com/a/eclipselabs.org/wascana/repo][] Click on the Checkbox for \"Wascana C/C++ Developer for Windows, then NEXT (review items to be installed, e.g. wascana.core) NEXT, then Agree to the License Terms... After it downloads, installs, and restarts Eclipse you'll find the new mingw and msys directories in your Eclipse folder. Now you have to update the Path, in Windows it's usually under System Properties \\> Advanced System Settings Environment Variables -\\> System Variables scroll area, highlight \"Path\" (click on the edit button) It should already have something like: %SystemRoot%\\\\system32;%SystemRoot%;%SystemRoot%\\\\System32\\\\Wbem; Append a semi colon to continue the long list and add: c:\\\\eclipse\\\\mingw\\\\bin (Apparently some people feel eclipse does not autodetect unless it's c:\\\\mingw) (Theoretically you could also try installing MingW directly from their website, which I've done, but it again is not 64 bit). - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Unfortunately fundamental flaw - even when using Eclipse 64 bit the Install New Software gets the Wascana 32 bit mingw gcc. The Workaround is to use the Wascana Desktop as a single download / install (which includes 32 bit versions of: JRE 1.6.0 , Mingw 3.4.5 , Eclipse IDE) [http://code.google.com/a/eclipselabs.org/p/wascana/][] tags: Programming","tags":"linux","loc":"/eclipse-ide-c-wascana-on-windows-7","title":"Eclipse IDE C Wascana on Windows 7"},{"text":"Drupal is a wonderful way of leveraging many open source advanced web features into one interface that conceivably can be handed off to a \"non developer\" to maintain. Along with all of the installation / implementation (often customized to fit the customers' needs) there are two further things that should be considered, Security and Useability. Here's some tips on security and maintenance: Drupal is a Content Management System that allows remote users to run scripts and access databases on your web server, this is a serious responsibility as Shared Hosting means your runaway/hacked scripts affects others, and Hackers/Spammers are always looking for new Zombies... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Restrict the PHP scripts access from ANONYMOUS USERS ON THE INTERNET \"index.php\" should be allowed (it's your home page) but... \\*Cron is the method in linux to run scheduled tasks. Drupal requires regular scheduled actions for maintenance (e.g. update content in search, cleaning up log files, checking for updates, etc.) [http://drupal.org/cron.php][] is not accessible but [http://yourdomain.com/cron.php][] may be accessible to ANYONE (as that's the default install). To secure the cron.php file in .htacess, you have to do that manually after installation: To block remote access to cron.php, in the server's .htaccess file or vhost configuration file: Order Deny,Allow Deny from all Allow from localhost Allow from 127.0.0.1 Allow from xx.xx.xx.xx <-- your remote IP address Or protect update.php too in the .htaccess file: order deny,allow deny from all allow from 127.0.0 \\# add allowed remote IP addresses allow from a.b.c.d allow from a.b.c.d NOW ANONYMOUS ACCESS TO CRON.PHP should return either \"access denied\" or \"page not found\"... You can still run cron manually from either of the options below: Administer -\\> Reports -\\> Status [http://domain.com/admin/reports/status/run-cron][] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Cpanel -\\> Advanced -\\> Cron Jobs \\* \\* \\* \\* \\* [http://domain.com/cron.php][] (e.g. for rochen or bluehost cpanelx command should be the 8 char directory) php -q /home/yoursite/public\\_html/cron.php OR if you have multiple subdomains running different drupal installs: php -q /home/8chars/public\\_html/subdomain/cron.php Check using your drupal admin to ensure that the cron job has run Administer -\\> Reports -\\> Status This will allow you to test if your cpanel really has the correct permissions as Administer -\\> Reports -\\> Status should now show the cron job status as updated frequently! =) Here is a diagram of the general crontab syntax, for illustration: \\# +---------------- minute (0 - 59) \\# | +------------- hour (0 - 23) \\# | | +---------- day of month (1 - 31) \\# | | | +------- month (1 - 12) \\# | | | | +---- day of week (0 - 7) (Sunday=0 or 7) \\# | | | | | \\* \\* \\* \\* \\* command to be executed e.g. 2 13 28 12 \\* /bin/execute/this/script.sh the five stars (with a space in between each!) represent wildcards: \\1. when minute = 2 \\2. when hour = 13 \\3. when day = 28 \\4. when month = 12 \\5. every day (could be = 5 for every friday) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - /sites/default/settings.php should definitely have: $update\\_free\\_access = FALSE; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Administer \\> Site configuration \\> File uploads \"Default permitted file extensions field\" for each role should be limited, because obviously you don't want ANONYMOUS users uploading .php files! (Or in INPUT FORMAT, .php code entered by an anonymous or hacked authenticated user!) tags: Drupal","tags":"linux","loc":"/dupal-security-tip-disabling-anonymous-access-to-cron","title":"Dupal Security Tip: disabling anonymous access to cron"},{"text":"Content manager made easy = WYSIWYG (what you see is what you get) (screenshots coming soon!) download and install (upload to /sites/all/modules) and enable module Administer -\\> Site building -\\> Modules Administer -\\> Site configuration -\\> Wysiwyg lists which editor modules you can use (and a helpful download link) e.g. TinyMCE (Download) Not installed. Extract the archive and copy its contents into a new folder in the following location: sites/all/libraries/tinymce Administer -\\> Site configuration -\\> Input formats Ensure that the \"Content Manager Role\" (or authenticated user?) has access to Full HTML Also you can set the default format to Full HTML (alternatively you can create a more limited input type role that matches your paranoia) Administer -\\> Site configuration -\\> Wysiwyg Input Format = Full HTML = TinyMCE 3.8.8 Edit the profile of your WYSIWYG editor to decide which buttons/functions are displayed. Up until now you only get bold and inserting images that are already uploaded... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - IMCE (image manager) (with the WYSIWYG bridge module) download and install (upload to /sites/all/modules) and enable module Administer -\\> Site building -\\> Modules Administer -\\> Site configuration -\\> IMCE -\\> User-1 Configure any specific settings, then give a role (e.g. Content Manager) permission Administer -\\> Site configuration -\\> IMCE \\* Enable the Image button (as IMCE is accessed from the Image plugin). \\* Enable the IMCE plugin in the plugins/buttons configuration of the wysiwyg profiles of your choice. (checkbox) Edit the profile of your WYSIWYG editor to decide which buttons/functions are displayed. You MUST include the checkbox IMCE... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Ensure the future \"content manager\" role has create content permissions Administer -\\> User management -\\> Roles = Add Role Administer -\\> User management -\\>Permissions Then assign that role to the user - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Finally a user with the appropriate role (e.g. \"content manager\" above) can insert bold/underline/etc. and insert images (and upload photos using IMCE). tags: Drupal","tags":"linux","loc":"/drupal-6-wysiwyg-module-so-users-can-insert-images","title":"Drupal 6 wysiwyg module so users can insert images"},{"text":"CSS is much better than HTML, but making a webpage look the way it ought to look can be very painful, frustrating, and time consuming. Not only do you have to create cross browser compatible code, but it has to look nice when you're done! This is just a basic example that you can experiment with and add to later, there are some comments but the code is mostly self explanatory: /* required to kill off any extra \"helpful\" browser padding */html, body { margin: 0; padding: 0; height: 99%;} #container{ min-height: 100%; height: 100%; margin:0; border: 1px solid green;}#column1 { float: left; width: 33%; height: 100%; /* full length column */ position: relative; border: 1px solid red;}#column2 { float: left; /* wraps the div around the left of the prev object */ width: 34%; height: 100%; position: relative; border: 1px solid yellow;}#column3 { float: right; width: 33%; margin-left: -1%; /* prevent the right column from being pushed down! */ height: 100%; position: relative; border: 1px solid blue; overflow: hidden;} left left left left left left left left left left left left center center center right right right right right right right right right tags: Programming","tags":"linux","loc":"/css-3-column-liquid-layout-example","title":"CSS 3 column liquid layout example"},{"text":"Tiny Core Linux is fast and works great... but it does take some effort to get setup... here's how I got my Linksys wpc54g (v3) pci wireless card working with WPA - and I didn't burn a tiny core cd! You can't repartition a hard drive while actually using it so you'll most likely need GParted (ie from SystemRescueCD bootable cd) so that you can repartition / resize to have a spare linux partition... AND use: mke2fs -t ext3 /dev/hda3 (or wherever it is...) PREREQUISITES: grub bootloader installed (preferrably to the MBR) tinycore.iso (cd image of tiny core installation/live cd) uniextract or isobuster (to open files from iso's) ext2fsd (winxp application that allows copying files in/out of an ext2/ext3 partition) tcz files from an FTP repository listed in the section \"Install on a Hard Drive Without Being Connected to the Internet\" from [http://wiki.tinycorelinux.com/tiki-index.php][] wireless-2.6.29.1-tinycore.tcz wireless\\_tools.tcz wpa\\_supplicant.tcz b43-fwcutter.tcz open-ssl-0.9.8m.tcz NOTE: hda3 = third partition on the first hard drive, you may need to use fdisk -l or Start -\\> Control Panel -\\> Administrative Tools -\\> Computer Managemt -\\> Disk Management - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Extract the files from the tinycore.iso (using IsoBuster or UniExtract)... OR if you have linux: mount -o loop /path-to-iso/image-filename.iso /mnt/custom we only need the bzImage and tinycore.gz files... (CAPITAL I ON THE bzImage!) USING Ext2 Volume Manager (ext2fsd) ... browse to your linux partition and create the following folder /boot/tinycore copy the \"bzimage\" and \"tinycore.gz\" files into the linux partition /boot/tinycore folder Also create the following text file: /tce/onboot.lst wireless-2.6.29.1-tinycore.tcz wireless\\_tools.tcz b43-fwcutter.tcz openssl-0.9.8m.tcz wpa\\_supplicant.tcz nano.tcz BE CAREFUL TO NOT HAVE ANY MISSPELLINGS OR EXTRA SPACES Create the directory /tce/optional and copy the above .tcz files into it. TinyCore uses /tce/mydata.tgz to store your files in the /home and /opt directories. (Therefore you could sneak something in if you wanted to...?) ALSO, it uses .ashrc (e.g. not BASH command prompt) so any aliases are in /tce/mydata.tgz -\\> home/tc/.ashrc - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - MODIFY YOUR GRUB (LEGACY) MENU menu.lst title tinycore root (hd0,2) kernel /boot/tinycore/bzimage initrd /boot/tinycore/tinycore.gz - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - BUT my wifi depends on this Linksys wpc54g (v3) pci wireless card AND wpa encryption... So I've got \"wl\\_apsta.o\" from my previous debian kernel 2.6.26 (with all of the linux-header and make and compiling commands to get that binary...) Without the correct fw5 (b43 firmware) dmesg will contain (ie kernel firmware unhappy with wrong linksys driver) b43-phy0 ERROR: firmware file \"b43/ucode5.fw\" - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - COPY wl\\_apsta.o into /mnt/hda3/tce (with EXT2FSD or usb stick or whatever) Rather than hack into my-data.tgz we'll wait until we've booted into Tiny Core... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - BOOTING INTO TINY CORE IS VERY FAST... (fingers crossed about the Right Click -\\> Control Panel OR funny icon in the middle with screwdriver = Control Panel First check that our \"onboot.lst\" hack worked: Apps Audit -\\> OnBoot -\\> Maintenance (could also use: nano /mnt/hda3/tce/onboot.lst ) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - WHEN YOU CHOOSE TO SAVE/BACKUP (or when prompted when closing to Save a Backup) mydata.tgz is created and it includes any modifications to /opt/bootlocal.sh since things put in the bootlocal.sh script are run as root... my wifi hack works... nano bootlocal.sh mkdir /lib/firmware b43-fwcutter -w /lib/firmware /mnt/hda3/tce/wl\\_apsta.o wpa\\_supplicant -B -iwlan0 -c/mnt/hda3/tce/wpa\\_supplicant.conf udhcpc -H hostname -b -i wlan0 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - the /lib/firmware directory is necessary for the kernel to get the new drivers the b43-fwcutter firmware cutter gets the drivers to the directory wpa\\_supplicant starts in the background using wlan0 and the config file wpa\\_supplicant.conf wpa\\_passphrase ssid-network-name \\> wpa\\_supplicant.conf //prompts for the wireless network password, after you type it in press enter udhcpc is busybox's dhcp client using \"hostname\", in the background on wlan0 An alternative configuration in bootlocal.sh for a static ip would be... ifconfig wlan0 10.0.0.99 netmask 255.255.255.0 up route add default gw 10.0.0.138 echo \"nameserver 10.0.0.138\" \\> /etc/resolv.conf - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - AFTER I REBOOTED ifconfig wlan0 //shows me my ip address ping 10.0.0.138 and ping [http://kittyandbear.net][] //ALL OK! - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Of course, now I have to install a browser... Since tinycore works from the core image and with then added modifications to be as lean and fast as possible you really need to explicitly choose what you want on your hard drive AND what you want started at boot time. Right Click -\\> AppsBrowser or funny icon on the bottom right (gears) File -\\> Install Local Extension (anything on your hard drive but not in onboot.lst) By default it lists your TCE/optional directory, double click on the one you want... (If it isn't onboot and it isn't \"installed\" by above then it's not on your tinycore yet!) OR File -\\> AppsBrowser ... when you choose to install something from the \"repository\" be prepared to wait for about 5 minutes for it to load the hundreds of packages... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - RANDOM TINYCORE NOTES: Right Click -\\> Shells -\\> Shell Dark or funny icon on the bottom left (terminal with prompt) Right Click -\\> Control Panel -\\> System Stats OR funny icon in the middle with screwdriver = Panel -\\> System Stats dmesg TAB shows you the b43 stuff cpu is cpu type mem is RAM free net is network devices installed... loadkmap < /usr/share/kmap/uk.kmap tags: Linux","tags":"linux","loc":"/tiny-core-linux-with-linksys-wireless-card-no-cd-required-installation","title":"Tiny Core Linux with Linksys Wireless Card - no CD required installation"},{"text":"I don't expect anybody to read this as Slashdot articles grow exponentially in comments each hour but... The price of petrol in London is about 116 pence per liter [http://www.whatprice.co.uk/petrol-prices/][] 1 US gallon = 3.78 liter 4.39 GBP (pounds) per gallon 1 pound = 1.5 dollars (exchange rates are always crazy) 6.59 dollars per gallon miles driven / mpg ... -\\> total cost of gasoline? 195k / 49.5 = 3939.40 \\* $6.59 = $25,960 (hybrid) 195k / 30 = 6500 \\* $6.59 = $42,835 (fuel efficient car) 195k / 15 = 13000 \\* $6.59 = $85,670 (normal/big car) So, while many will argue that \"Europeans\" are \"controlling their oil consumption\" through taxes, I would argue that the world has been susidizing the oil industry. Additionally, many American vehicles get 20 or even 15 mpg. PLEASE REMEMBER, money is fiction (pieces of paper), work is economic fiction, government is fiction, and the price of Gas/Fossil Fuels is fiction. We all agree to a system but the system can and should be changed towards improvement. IEA: To promote efficiency, cut fossil fuel subsidies [http://news.cnet.com/8301-11128\\_3-20007059-54.html][] [http://www.bts.gov/publications/national\\_transportation\\_statistics/html/...][] So perhaps instead of silly rebates we should reduce Fossil Fuel susbidies and increase the tax on gas (yes, there are both Federal and State taxes on gas already so I'm not proposing some radical communist ideology). http: //www.bts.gov/publications/national_transportation_statistics/html/table_04_23.html","tags":"linux","loc":"/electric-car-rebate-why-not-go-european","title":"Electric Car Rebate... Why not go European?"},{"text":"I couldn't delete a folder in FTP (which can be pretty frustrating) until I realized that Filezilla has an option to \"force showing hidden files\" In Filezilla 3 = Server -\\> Force showing hidden files I could then see the .htaccess file and delete it. (Right click on a folder/file and File Attributes shows me the permissions e.g. Read / Write / Execute)... tags: Drupal","tags":"linux","loc":"/cant-delete-ftp-folder-in-drupal-filezilla-hidden-files","title":"Can't delete FTP folder in Drupal - Filezilla hidden files"},{"text":"How to install a Drupal Cloud Tag Block First, in case you've stumbled on this by mistake (you were looking for Blocks of Drupal \"Cloud\" cheese with price tags?)... - Drupal is a \"content management system\" - a fancy way of saying software takes your text/photos and makes them pretty... automatically! - Tag is an associated \"label\" - kind of like you migh call a sandwich a \"cheese sandwich\", or \"lunch\", or a \"snack\". It's a neat free form way to categorize your thoughts without much effort (oh the wonders of Computers). The tagadelic module for Drupal creates a weighted \"cloud\" of the tags you have on your content nodes. If you create a \"block\" on your pages it is MUCH easier for you and any readers (if you have them?) to navigate... Download the module [http://drupal.org/project/tagadelic][] Extract the tar.gz (izarc2go and 7zip) into a folder Upload the folder to /drupal-root/sites/all/modules (using FTP or preferrably SFTP) **Administer -\\> Site building -\\> Modules -\\> List (It appears under Taxonomy ... Tagadelic**, fill in the checkbox to Enable the module. **Administer -\\> Site building -\\> Blocks -\\> List Blocks** Tagadelic has already created the following Block parts for you: Tags in Blog Tags Use the dropdown to put the tag in the \"Right sidebar\" Then drag and drop it to determine it's order (ie below the search box) Finally click on \"configure\" next to it to select: customize the \"title\" above the cloud tag (e.g. Tag Cloud) what pages the block will appear. Note: Tags for the current post is an easy way to show \"related content\" These tags also may help your SEO but be careful to not overdo it! I personally like adding the other Block, \"Tags for this post\" as well because As per my very smart's wife very smart suggestion - an image... [![example of a drupal tagadelic tag cloud][]][example of a drupal tagadelic tag cloud] tags: Drupal","tags":"linux","loc":"/how-to-install-a-drupal-tag-cloud","title":"How to install a Drupal tag cloud"},{"text":"Why do countries like Germany and Japan have such a high quality of life AND high productivity? Remember that their unemployed have free medical care, education, and unemployment benefits. Are they just smarter than Americans? \"The economists Emmanuel Saez and Thomas Piketty examined tax returns from 1913 to 2008. They discovered an interesting pattern. In the late 1970s, the richest 1 percent of American families took in about 9 percent of the nation's total income; by 2007, the top 1 percent took in 23.5 percent of total income.\" Lower income taxes encourages risk taking and short term me first now gains. Higher income taxes motivates creating methods of long term wealth accrual, e.g. business with continual steady profits. Corporations and Wealthy Individuals do not have geographic or political boundaries. It is the mainstream and poor of a society that cannot simply pack up and move some place sunnier with low taxes (Monaco). So don't worry about the \"wealth moving away because of high taxes\"... it's already done so (e.g. Microsoft Ireland and Offshore bank accounts etc.) What's left? Businesses and Organizations that bring people together and give them a common purpose. They receive money for their time and work which is then spent in the local economies; aka the Exponential Spending Effect of capitalism (as opposed to the failed Trickle Down Economic Policy). There's a lie that \"businesses are made for profit\" - If you own and work in a business (the quintessential small business) and you pay your employees, suppliers, contractors regularly and you receive a salary of $100,000 but your business doesn't show a profit... You can still have a wonderful life and everyone in that interconnected ecology is healthy and stable. In fact, you're even contributing to the mythical GDP. Yet if policemen, firemen, nurses, teachers, etc. aren't able to work and spend then the quality of life for everyone will degrade into misery. The wealth gap will drive a America's great experiment, a Democratic Capitalist Republic, into Depression and Oligarchy... Enrich your mind: Your vote makes a difference! tags: Thoughts","tags":"linux","loc":"/americas-great-recession-and-wealth-without-borders","title":"America's Great Recession and Wealth Without Borders"},{"text":"\"The proxy server you have specified is invalid. Correct it and try again.\" Oh, the wonderful error messages from Microsoft... So Outlook 2003 has HTTP and HTTPS hard coded to ports 80 and 443 (wonderfully modular thinking). Imagine you want to move your Outlook Web Access to a different port (security reasons? Or maybe just that another application is hard coded to port 443...) Now it's easy to tell people: [https://mailserver.domain.com:4430][] BUT you might have to update any Blackberry using OWA to connect to Exchange users with the new port... and RPC over HTTP (s) is quite useful for the non VPN inclined ... The following unsupported workaround works, use at your own risk, registry editing is required... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - In Control Panel -\\> Mail -\\> Email Accounts -\\> View or Change -\\> Change (button) -\\> More Settings (button) -\\> Connection (tab) Checkbox: Connect to my Exchange mailbox using HTTP Then the button: Exchange Proxy Settings [https://mailserver.domain.com-4430][] Connect using SSL only (for the paranoid) Mutually authenticate... Yes, we need the following: msstd:mail.anders.co.uk (note that you may have to download and install the certificate from your mail server for RPC over HTTP to work, the name we've entered doesn't have a port because it's the name that's on the SSL certificate) Authentication (NTLM = SSL, Basic means anything) Click ok a million times and we've finished the easy part... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Start -\\> Run -\\> regedit (and hit the OK button) (HKCU = hkey\\_current\\_user) HKCU\\\\Software\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\Windows Messaging Subsystem\\\\Profiles\\\\\\ Browse down to the subkey: \"13dbb0c8aa05101a9bb000aa002fc45a\" (don't ask me why these settings are exactly there) Locate in the name column: \"001f6622\" of type REG\\_BINARY and double click on it... The \"Value Data\" will be in hex code (with a preview of the ascii on the right) 0000 6D 00 61 00 69 00 6C 00 m.a.i.l. 0008 65 00 72 00 2E 00 65 00 ......d. 0010 78 00 61 00 6D 00 70 00 o.m.a.i. 0018 6C 00 65 00 2E 00 63 00 n......c. 0020 6F 00 6D 00 **2D** 00 34 00 o.m.-.4. 0028 34 00 33 00 30 00 30 00 4.3.0.0. 0030 00 00 You'll see the 2D in the middle - that's the hex code for '-', we're going to change it to 3A (or the hex code for ':') (yes, we click inside, use the delete key to remove those two and type in 3A) 0020 6F 00 6D 00 3A 00 34 00 o.m.:.4. Click OK... Whew, hard part's over... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Now check that your change has taken by going to: Control Panel -\\> Mail -\\> Email Accounts -\\> View or Change -\\> Change (button) -\\> More Settings (button) -\\> Connection (tab) You should now see: [https://mailserver.domain.com:4430][] Note that you won't be able to click OK (because Outlook detects that unpermitted colon) but hit Cancel a bunch of times and open up Outlook to try connecting to your Exchange Server! PLEASE NOTE: first ensure that you can get RPC over HTTP working with the default port 443 (e.g. no colons needed) BEFORE trying a non standard port as it is a little tricky to remember the certificate, the firewall port forwarding (if you need to), etc. ALSO, remember that to do this you've already changed your Exchange Mail Server IIS SSL port to the non standard 4430 AND you've fixed any firewall forwarding for your server so that 4430 goes to your mail server... tags: IT","tags":"linux","loc":"/outlook-rpc-over-http-with-a-non-standard-port","title":"Outlook RPC over HTTP with a non standard port"},{"text":"The Magical Million scratch card scam... Magazines and newspapers get money from advertisers, some of which run contests and promotions. I was not surprised to see that Rupert Murdoch's \"Times\" had scratch cards for the Magical Million from PurelyCreative.com Considering the fake news from Fox, it's no surprise there's a long standing fake contest advertised in Murdoch's paper. A scatch card says \"3 identical symbols - you can claim a GUARANTEED CASH PAYOUT\". So our three helicopters... by calling the \u00a31.50 per minute premium number (or premium text messages) you can find out how much you've won... which you then send by post (including a return stamp) and wait months. When you chase them up many times in many months you might receive your \u00a310 award (in vouchers?!?!), or then again you might not. Greed. Something for nothing. You're luckier than everyone else... If you are silly enough to insist on \"playing\" (because you already are a winner), then hopefully you'll recycle the scratch card and go buy a lottery ticket. Consider that \u00a39 buys a lot of fun for a homeless person in your neighborhood, or supports your local charity (RSPCA, Red Cross, etc.) These companies are the lowest level of legal scam possible (eventually they graduate into selling derivatives, junk bonds, or insurance); if you are using a computer and the internet to read about this scam then you should be too smart to fall for it. Oh, do you want some \"research\", try [http://blogs.mirror.co.uk/investigations/2010/01/watchdog-takes-scratchc...][] http: //blogs.mirror.co.uk/investigations/2010/01/watchdog-takes-scratchcard-fir.html","tags":"linux","loc":"/the-magical-million-3-helicopters-scratchcard-scam","title":"The Magical Million 3 helicopters scratchcard scam"},{"text":"CSS keeps improving but sometimes it takes some creativity to meet what might seem like obvious demands: a background image stretched in a column The following example gives two different methods of background image stretching, though I admit that the background image is just a color gradient and that this kind of stretching on a graphical image (in a liquid layout) could appear at best, \"funny\". I created a color gradient and then resized it to be 640x2 pixels, otherwise all of the code is below: < html xmlns = \"http://www.w3.org/1999/xhtml\" lang = \"en\" xml :lang = \"en\" > < head >< style type = \"text/css\" > /* required to kill off any extra \"helpful\" browser padding */ html , body { margin : 0 ; padding : 0 ; height : 99 % ; } #container { min-height : 100 % ; height : 100 % ; margin : 0 ; border : 1px solid green ; } #column1 { float : left ; width : 20 % ; height : 100 % ; /* full length column */ position : relative ; border : 1px solid red ; /* bg-body-left is a 640 wide by 2 pixel tall image color gradient */ background-image : url('bg-body-left.png') ; background-repeat : repeat-y ;} #column2 { float : left ; /* wraps the div around the left of the prev object */ width : 60 % ; height : 100 % ; position : relative ; border : 1px solid yellow ;} #column3 { float : right ; width : 20 % ; margin-left : -1 % ; /* prevent the right column from being pushed down! */ height : 100 % ; position : relative ; border : 1px solid blue ; overflow : hidden ;} /* a class is defined below called stretch to force an image to stretch */ .stretch { width : 100 % ; height : 100 % ;} </ style ></ head >< body > < div id = \"container\" > < div id = \"column1\" > left left left left left left left left left left left left </ div > < div id = \"column2\" > center center center </ div > < div id = \"column3\" > right right right right right right right right right < img src = \"bg-body-left.png\" class = \"stretch\" alt = \"\" /> </ div > </ div ><! -- end div container -- > </ body ></ html > Please leave a comment if you've appreciated this or any other posts on my site! Thanks! -John","tags":"linux","loc":"/css-3-column-liquid-layout-with-background-image-stretch","title":"CSS 3 column liquid layout with background image stretch"},{"text":"First put oil in a pan and heat it (we use \\#3 of 6 on our electric stove). Then beat/whip two or three eggs in a bowl, then take slices of bread and dip them in the whipped eggs (or you can soak them if you want them more egg full) and put them on the frying pan to fry. The medium heat should cook the egg slowly (too hot and the egg turns white/yellow like fried eggs on bread), after about 5-10 minutes? (peek underneath and check if they're golden brown) you flip them and cook the other side. I sometimes add my secret ingredient, a slice of butter on top to melt, after flipping them over. When done you can have them with one of the following yummy toppings: soft cream cheese (Philadelphia cream cheese) kashkaval or mozarella and honey jam (raspberry/blueberry/strawberry you name it!) helva To quote Bobby \"Filiki are divine!\" or \"Helva na filiki e strahotno\". tags: Cooking","tags":"linux","loc":"/french-toast-recipe-aka-purjeni-filiki","title":"French Toast recipe aka Purjeni Filiki"},{"text":"Blackberry Express Server install: Windows 2003 with Exchange Server 2003 with BES 5 already installed Why Blackberry Express? Well it's the core Blackberry experience (email + contacts + calendar) but only requires a data plan, not a special (expensive) Blackberry plan. The big item missing: Wireless activation is only available with BES dataplan. [http://crackberry.com/blackberry-101-lecture-2-bes-and-bis-whats-difference][] The dilemma, if you already have a BES installation, can you setup a BESX too? - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \"the two BES servers cannot be in the same BES Domain, but can be in the same AD tree and access the same exchange server. \" \"provided BlackBerry Enterprise Server Express is introduced as a new deployment with its own BlackBerry domain, as defined by the BlackBerry configuration database... the BlackBerry Enterprise Server and BlackBerry Enterprise Server Express can run independently in the same Microsoft Exchange environment in a Microsoft Windows Domain and would be managed from separate BlackBerry Administration Service consoles.\" Apparently there is a difference between a BES Domain and a windows domain... Basically a BES Domain SHOULD only be the BES installation & Database, therefore you should be able to have multiple BES installations in the same Windows Domain (e.g. a large corporation with many exchange servers all in the same Windows Domain?). I will try it with my own twist - Not only a separate BESX installation on a windows 2003 server BUT also creating a separate BESADMIN for the new BESX installation. [http://supportforums.blackberry.com/t5/BlackBerry-Professional-Software/...][] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\1. Setup a Windows 2003 Server SP2 in the Domain (exchange sys mgmr must match version to exch server!) NEEDS at least 1GB RAM - but give it more if you suffer performance issues! A. Install Exchange 2003 SP2 System Manager (Requires Exchange Install CD -\\> Deployment Tools) exch2k3\\\\setup\\\\i386\\\\setup.exe =\\> Action = Custom Action = Install (next to MS Exch System Management Tools) ... NEXT ... 112MB required, NEXT B. Download & Install Exchange Service Pack 2 (E3SP2ENG.exe for an old Exchange 2k3 cd) [http://www.microsoft.com/downloads/details.aspx?FamilyID=535bef85-3096-4...][] E3SP2ENG\\\\setup\\\\i386\\\\update.exe (goes from version 6.5 to ? requiring 2 & 13 MB space) C. Ensure TCP port 3101 (outgoing) is open on your firewall D. Ensure your anti-spam is not blocking \"blackberry.net\" - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [http://www.blackberry.com/btsc/viewContent.do?externalId=KB02276][] \\1. CREATE a user BESADMIN for the Domain (in Active Directory Users and Computers) On the exchange server with the Mailbox enabled user creation dsa.msc -\\> right click = new user \\2. PERMISSION SEND AS: On the domain, dsa.msc From the Active Directory \"View\" option choose Advanced Features A. Right click on the root of the domain for Properties -\\> Security -\\> Advanced Add BESADMIN and Apply Onto = User Objects (dropdown) , Allow = Send As (checkbox) B. Maybe? more secure: only right click on each OU or user that will be using Blackberry and give the BESADMIN \"Send As\" permission \\3. PERMISSIONS Exch 2k3 System Manager -\\> Administrative Groups right click the Group for your BES (e.g. First Administrative Group) -\\> Delegate Control -\\> Add Browse -\\> Role = Exchange View Only Administrator \\4. PERMISSIONS Exchange Server: Start \\> Programs \\> Microsoft Exchange \\> System Manager Administrative Groups \\> First Administrative Group \\> Servers \\> right click SERVERNAME (properties) Security -\\> find the BESADMIN and enable checkboxes: \\* Administer Information Store \\* Send As \\* Receive As (Click on Advanced and ensure that \"Allow inheritable permissions\" is checked) \\5. PERMISSIONS Local Admin: each server that will have Blackberry Enterprise Server Express components My Computer right click -\\> Manage -\\> Local Users & Groups -\\> Groups -\\> Administrators Add = BESADMIN \\6. My Computer right click -\\> Properties -\\> Remote -\\> Enable Remote Desktop -\\> Select RemoteDesktop Users =\\> Add = BESADMIN \\7. PERMISSIONS Log on Locally & Log on as a Service Start -\\> Administrative Tools -\\> Local Security Settings =\\> Local Policies -\\> User Rights Assignment double click Log on Locally & Log on as a Service and add BESADMIN \\8. BLACKBERRY warn that you need the Microsoft hotfixes 823343 and 894470 [http://support.microsoft.com/kb/823343][] and [http://support.microsoft.com/kb/894470][] Verify by c:\\\\exchsvr\\\\bin\\\\cdo.dll 708KB right click Version 6.5.7232 or later \\9. REBOOT the server (ok, just an old habit) Log in as the BESADMIN user C:\\\\Research In Motion\\\\BlackBerry Enterprise Server 5.0.1\\\\setup.exe A. Create a Blackberry Configuration Database (aka BES Domain?) B. Blackberry Enterprise Server with all components C. preinstallation checklist will show you everything is ready (or will be auto installed) D. Install MS SQL Server 2005 Express SP3 E. note that the extracted setup folder is very similar to the target install folder C:\\\\Research In Motion\\\\BlackBerry Enterprise Server 5.0.1 C:\\\\Program Files\\\\Research In Motion\\\\BlackBerry Enterprise Server\\\\ enter BESADMIN password and the NAME of the Server where the SQL Express will be installed (e.g. the name of the server you are installed Blackberry Express!) F. read the summary, click INSTALL ... watch & wait. G. You are prompted to restart the computer - do so and then log in again with the BESADMIN user. H. Installation continues with the Database Information ... just click Next The database BESMgmt doesn't exist, would you like to create it ... YES I. Enter Blackberry CAL Key e.g. besexp-123456-123456-123456-123456 SRP Host name: gb.srp.blackberry.com and port number: 3101 were already provided SRP identifier = (Serial Number from Blackberry download) S12345678 SRP authentication key = (Licence Key from Blackberry download) 1234-1234-1234-1234-1234-1234-1234-1234-1234-1234 CLICK VERIFY BUTTON 1 AND BUTTON 2 (should be successful and valid! NEEDS dashes - inbetween!) J. Microsoft Exchange Server popup - type in the Exchange Server Name K. Administration Settings (already filled in by default) CLICK NEXT (no, I don't want to use SSL between the Blackberry Admin and my LAN browser) L. Type in the BESADMIN password and click NEXT M. Advanced Administration = leave as windows default click NEXT N. click Start Services button BlackBerry Router has successfully started. BlackBerry Attachment Service has successfully started. BlackBerry Dispatcher has successfully started. BlackBerry MDS Connection Service has successfully started. BlackBerry Alert has successfully started. BlackBerry Administration Service - NCC has successfully started. BlackBerry Administration Service - AS has successfully started. BlackBerry Controller has successfully started. O. Make a note of the Web Admin address(es) [https://SERVERNAME.DOMAIN.CO.LOCAL:3443/webconsole/login][] [https://SERVERNAME.DOMAIN.CO.LOCAL:3443/webdesktop/login][] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Test your Blackberry Express Installation A. Locally on the Server you can check services.msc (all BB services started) and eventvwr.msc (no Blackberry errors) B. Use a browser (IE8?) [https://SERVERNAME.DOMAIN.CO.LOCAL:3443/webconsole/login][] (don't worry about the Browser \"Security Alert\" as it will be a self signed SSL certificate, you can install the certificate and add it to Trusted Sites too...) Install the RimWebComponents.cab C. Create a user (you just need their email address - user should only be on one BES Domain so not on BES 5 and BES X at the same time!) Create User with an Activation Password (e.g. something simple that times out in 4 hours) Wait until it gives you the OK message that the user was created (and activation email sent) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ASSIGN A DEVICE TO A USER ([http://docs.blackberry.com/en/admin/deliverables/14334/][] ) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - A. Using the Blackberry Administration Service (web) [https://SERVERNAME.DOMAIN.CO.LOCAL:3443/webconsole/login][] On the left there's a DEVICES area -\\> Attached Devices (if it doesn't expand?) Connect the BlackBerry device to the computer. Click Manage current device -\\> Click Assign current device -\\> Search for a user account B. Users can activate their BlackBerry devices by connecting them to computers using a USB cable or Bluetooth connection and logging in (with a browser) to the BlackBerry Web Desktop Manager. [https://SERVERNAME.DOMAIN.CO.LOCAL:3443/webdesktop/login][] When users complete the activation process, the BESX synchronizes through the BlackBerry Router. If a connection to the BlackBerry Router is interrupted, the data transfer continues over the wireless network. C. Blackberry Desktop Manager installed on a computer (and connected to their Outlook Profile) Attach/Connect to a Device Z. Not likely to be enabled but theoretically after sending the Activation Password the BlackBerry Enterprise Server sends an email message with an etp.dat On the Device choose Options -\\> Advanced Options -\\> Enterprise Activation \"Activation request failed. A service connection is unvailable\" - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - TIPS - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\1. Setup a default Password requirement Policy -\\> Manage IT Policies -\\> Edit IT Policy (default) -\\> Device Only Tab \\2. Increase the default synchronization of messages when activating Servers and components -\\> BlackBerry Solution topology \\> BlackBerry Domain \\> Component view \\> Email Click on the \"instance\" (e.g. computername\\_EMAIL) -\\> click on Messaging tab Scroll down and click on \"Edit Instance\" Change Message prepopulation settings to 14 days and 750 messages scroll down and click SAVE ALL - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - USELESS STEPS FROM BLACKBERRY - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - A. Install SQL Express Service Pack 3 (already included in the Blackberry Express Install!) [http://www.microsoft.com/downloads/details.aspx?FamilyID=3181842a-4090-4...][] OTHERWISE theoretically you could re-use an existing SQL database (maybe with old Blackberry data?) Install CDO support (for Exch 2010) [http://support.microsoft.com/kb/917481][] Microsoft Exchange Server MAPI Client and Collaboration Data Objects 1.2.1 [http://www.microsoft.com/downloads/details.aspx?FamilyID=4825F157-5816-4...][] TEST your BESADMIN account access to User Accounts (double click on the self extracting BESX\\_express\\_5.0.1.exe but DO NOT run setup.exe) C:\\\\Research In Motion\\\\BlackBerry Enterprise Server 5.0.1\\\\tools\\\\IEMSTest.exe The setup application configures the startup type for the BlackBerry Mail Store Service, BlackBerry Policy Service, and BlackBerry Synchronization Service to manual. You cannot activate a BlackBerry device that is associated with the BlackBerry Internet Service over the wireless network or over wifi. http: //crackberry.com/blackberry-101-lecture-2-bes-and-bis-whats-difference http: //supportforums.blackberry.com/t5/BlackBerry-Professional-Software/Installing-BESX-when-BES-5-exists/m-p/488112 http: //www.microsoft.com/downloads/details.aspx?FamilyID=535bef85-3096-45f8-aa43-60f1f58b3c40&displaylang=en http: //www.microsoft.com/downloads/details.aspx?FamilyID=3181842a-4090-4431-acdd-9a1c832e65a6&displaylang=en http: //www.microsoft.com/downloads/details.aspx?FamilyID=4825F157-5816-4802-850D-67A0C5423770&displayLang=en","tags":"linux","loc":"/blackberry-enterprise-server-express-on-same-domain-as-bes-windows-and-exchange-2003","title":"Blackberry Enterprise Server Express on same domain as BES (windows and exchange 2003)"},{"text":"The following is an example of a simple programming \"challenge\": *Write a program that prints the numbers from 1 to 100. But for multiples of three print \"Fizz\" instead of the number and for the multiples of five print \"Buzz\". For numbers which are multiples of both three and five print \"FizzBuzz\".* Below I've thrown together a solution in less than 5 minutes, BUT, I thought to myself, experimentally, what would the code look like if I needed something more \"Best Practice\"... /* 2010-03-29:1800 john pfeiffer \"simple programming\" examples */#include int main( int argc, char* argv[] ){ int i=0; for( i = 1; i <= 100; i++ ) { if( i % 3 == 0) { printf(\"Fizz\"); } if( i % 5 == 0) { printf(\"Buzz\"); } if( (i % 3 != 0) && (i % 5 != 0) ) { printf( \"%d\" , i ); } printf(\"\\n\"); } return 0;}/* end main */ Imagine instead of a challenge it's a professional assignment, requiring scalability, portability, modular parts, future maintenance (by someone totally different who may not be very good at coding and/or not have a lot of time to understand the code)... Suddenly a simple answer transforms into the following: /* 2010-03-29 john pfeiffer \"simple programming\" examples */#include #include #include #define BUFFERMAX 128/* prototyping of functions */void output( char text[ BUFFERMAX ] );void writeToBuffer( char buffer[ BUFFERMAX ], char text[ BUFFERMAX ] , int datasize );int isMultipleofThree( int i );int isMultipleofFive( int i );/* ------------ MAIN ------------------------------------ */int main( int argc, char* argv[] ){ int counter = 0; char buffer[ BUFFERMAX ]; char temp[8]; for( counter = 1; counter < 101; counter++ ) { /* clear the output buffer each time */ memset( buffer, 0, sizeof(buffer) ); if( isMultipleofThree( counter ) || isMultipleofFive(counter) ) { if( isMultipleofThree(counter) ) { writeToBuffer( buffer , \"Fizz\" , strlen(\"Fizz\") ); } if( isMultipleofFive(counter) ) { writeToBuffer( buffer , \"Buzz\" , strlen(\"Buzz\") ); } } else { sprintf( temp , \"%d\" ,counter); writeToBuffer( buffer , temp , strlen( temp ) ); } output( buffer ); printf(\"\\n\"); }/* end for i=1 to 100 loop */ return 0;}/* end main *//* ------------- FUNCTION DEFINITIONS ----------------------perhaps better to put all function definitions in an include file? The modular abstraction of creating more functions allows us to swap out an existing implementation, e.g. if there's a faster way of determining \"multiple of three\"It also improves portability because most of the code would remain the same except the output function writing to a win32 Device Context ... aka windowOr we could quickly add functionality by calling a new \"write to log\" function...*//* display a string to the stdout */void output( char text[ BUFFERMAX ] ){ printf(\"%s\",text); }/* write data to the buffer */void writeToBuffer( char buffer[ BUFFERMAX ], char text[ BUFFERMAX ] , int datasize ){ int i=0; for( i=0;counter< datasize; i++) { buffer[i] = text[i]; } }/* determine if the parameter is a multiple of three using \"modulo\",if true return 1, if false return 0 */int isMultipleofThree( intcounter){ if(counter% 3 == 0 ) { return 1; } else { return 0; }}/* determine if the parameter is a multiple of five using \"modulo\",if true return 1, if false return 0 */int isMultipleofFive( intcounter){ if(counter% 5 == 0 ) { return 1; } else { return 0; }} And that long convoluted giant isn't even modular enough! I guess at a certain point it will start looking like Java or C\\# ... where if you want to do anything you have to look it up in the manual and change the parameters and hope the designer of the function didn't do anything buggy... tags: Programming","tags":"linux","loc":"/365-programming-is-simple","title":"365 Programming is Simple?"},{"text":"Building a program properly requires a lot of discipline: 1. define goals (what functionality will be achieved?) 2. write up a high level flow/state chart 3. create modular parts from the flow chart (e.g. functions) 4. create tests - e.g. know what input goes in and what should come out 5. fill in the functions with dummy information (e.g. always return constants) 6. integrate and ensure that your \"demo\" version achieves your goal Note that all of this ignores the tools to be used, estimating time and cost, scheduling, etc. BUT you could just as easily use the above for your \"Life Plan for Success\"... e.g. 1. Goal = I want to play professional soccer sub goals: find the position I am best at, go to at least 3 tryouts 2. & 3. physical fitness + skills + networking & agent -\\> tryout special training camps + video of playing -\\> feedback from experts on my best position 4. Tests: Must run 5km in under 18 minutes. Must sprint 40 yards in 5 seconds. Must be able to shoot the ball from 30 yards out into top quarter of the goal 10 out of 10 times Agent must have history of signing players to contracts Tryouts must show a history of players being brought into the team 5. run 5km in 16 minutes, sprint in 4.7 seconds, 10 for 10 on shooting, signed a contract with an agency who manages 100's of professional players, and scheduled 3 tryouts where players have been signed onto the first team every year 6. If I attend a special training camp and give some professional coaches tapes of me playing in different positions I will receive suggestions on what is my best position (and possibly tips on how to improve at that position). Based on total \"dummy\" information + extra edge from sub goal (networking + expert advice), YES, very high probability of success. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Whew, let's get back to some programming! 1. Goal: to put text on the screen 2. WinMain -\\> get the text -\\> draw the screen -\\> draw the text 3. Modular: drawtext function & chartowchar function 4. Tested: a. program ran with just quitbutton b. drawing text to the screen direct from Main using a wchar L\"string\" constant string c. drawing text to the screen from Main using a wchar[] array populated by a wsprintf d. moving the above to a function and calling it from main e. passing a char string to the conversion function and printing the resulting wchar string 5. the \"dummy\" info was the use of constant wchar L\"string\" but I also printed the sizeof and strlen and wcstrlen numbers I defined some sub functions so that I could use the char string functions instead of constantly referring to the Windows functions... I'd hoped it would be more portable but that's something I discuss at the end... Anyways, /\\* 2010-01 john pfeiffer writing text to the display \\*/ \\#define WIN32\\_LEAN\\_AND\\_MEAN \\#include <windows.h\\> \\#include <windowsx.h\\> \\#include <commctrl.h\\> \\#include <aygshell.h\\> \\#define IDC\\_ExitButton 40099 /\\* wchar[] must be cleared empty first! \\*/ void stringToWchar( char string[128], wchar\\_t longstring[128]) { int i=0; for( i=0; i < strlen( string ); i++) { longstring[i] = (WCHAR)string[i]; } } /\\* convert a char string to wchar and Display it on the screen \\*/ /\\* here we take the handle to device context (aka logical buffer about the screen and begin painting it - we then draw a single line of text (windows wide character format but first converting the character string to wchar string) ... The end paint matches the begin paint and without them the text will flicker constantly. \\*/ VOID APIENTRY drawText( HWND hwnd, char text[128], int x, int y ) { HDC hdc; PAINTSTRUCT ps; wchar\\_t outputtext [128]; hdc = BeginPaint(hwnd, &ps;); hdc = GetDC(hwnd); /\\* good practice to zero things before using them \\*/ memset( outputtext , 0, sizeof( outputtext )); stringToWchar( text, outputtext ); ExtTextOut( hdc, x, y, NULL, NULL, outputtext , \\_tcslen( outputtext ), NULL); ReleaseDC(hwnd, hdc); EndPaint(hwnd, &ps;); } VOID APIENTRY initializeBackground( HWND hwnd ) { HDC hdc; PAINTSTRUCT ps; hdc = BeginPaint(hwnd, &ps;); EndPaint(hwnd, &ps;); } /\\* our big message loop with all sorts of interrupt options \\*/ LRESULT CALLBACK MenuWndProc( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam) { switch (message) { case WM\\_LBUTTONDOWN: break; case WM\\_CHAR: break; case WM\\_KEYDOWN: break; case WM\\_COMMAND: switch(LOWORD( wParam )) { case IDC\\_ExitButton: PostQuitMessage(0); break; default: break; } break; case WM\\_DESTROY: PostQuitMessage(0); break; case WM\\_PAINT: drawText( hwnd, \"press quit button to quit\", 40, 40 ); break; case WM\\_CREATE: initializeBackground( hwnd ); break; default: return DefWindowProc(hwnd, message, wParam, lParam); break; } return 0; } /\\* end function MenuWndProc \\*/ int APIENTRY WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance, LPTSTR lpCmdLine, int ncmdshow ) { HWND hwnd = NULL; HWND ExitButton= NULL; MSG msg; WNDCLASS wc; wc.style = CS\\_HREDRAW | CS\\_VREDRAW; wc.lpfnWndProc = (WNDPROC)MenuWndProc; wc.cbClsExtra = 0; wc.cbWndExtra = 0; wc.hInstance = hInstance; wc.hIcon = 0; wc.hCursor = 0; wc.hbrBackground = (HBRUSH) GetStockObject(WHITE\\_BRUSH); wc.lpszMenuName = NULL; wc.lpszClassName = (LPTSTR) L\"App\"; if(! RegisterClass (&wc;)) { MessageBox(NULL, TEXT(\"errors \"), L\"IMPORTANT\", MB\\_OK); return 0; } /\\* Make sure the window uses the Menu App Class name defined above! \\*/ hwnd = CreateWindow (L\"App\", L\"menu demo\", WS\\_VISIBLE, CW\\_USEDEFAULT, CW\\_USEDEFAULT, CW\\_USEDEFAULT, CW\\_USEDEFAULT, (HWND)NULL, NULL, hInstance, (LPSTR)NULL); /\\* -------- -------- -------- -------- \\*/ ExitButton = CreateWindow( L\"BUTTON\", L\"quit\", WS\\_CHILD | WS\\_VISIBLE | BS\\_PUSHBUTTON, 0, 0,30,30, hwnd, (HMENU)IDC\\_ExitButton, hInstance, NULL); ShowWindow(hwnd, ncmdshow); UpdateWindow(hwnd); while(GetMessage(&msg;, NULL, 0, 0)) { TranslateMessage(&msg;); DispatchMessage(&msg;); } return msg.wParam; } /\\* end WinMain \\*/ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - As always I try to give as much info as possible, therefore to convert this to a Windows Desktop application you must change the following: Line 32: \\_tcslen( outputtext ), NULL); changed to: wcslen( outputtext ), NULL); All of the explicit conversions to \"Long\" that are necessary for Win CE (16 bit) have to be removed... which just means getting rid of those pesky 'L' s wc.lpszClassName = (LPTSTR) L\"App\"; For this to really work in Windows Desktop you'd have to replace my custom char to wchar string conversion with Microsoft's MultiByteToWideChar OR you would probably prefer using wsprintf() to write any text to a wchar\\_t string and then ExtTextOut is very happy...","tags":"linux","loc":"/365-win-ce-programming-writing-text-to-the-display","title":"365-? Win CE Programming - writing text to the display"},{"text":"![cyber-kitty][]I've finally got a Drupal WYSIWYG editor (FCK Editor) working with Image Assist? Or just plain Upload? Anyways, here's a kitty for my Kitty!","tags":"linux","loc":"/drupal-in-2d-pictures-of-pixels","title":"Drupal in 2D - pictures of pixels"},{"text":"Win CE uses a subset of the win32 API which is neat because technically anything written for it can be compiled for a \"full\" windows as well. Even though the Win32 API is very outdated I prefer the concept of building blocks and getting your hands dirty with implementation - that's how you really learn how things work. C\\# and .Net, especially with a super GUI IDE, make it easy to quickly build something but also obscure why performance might be slow, why different parts aren't integrating together, and really require you to build based on the vision of the platform designers - for better or for worse. This is probably why many programs written in C that are speed critical have important parts hand written in assembly. So here's a Windows API button for Win CE... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Don't forget the batch file: \\\\pgcc\\\\cc1plus \\\\pgcc\\\\source-code.txt -o \\\\pgcc\\\\cwms.s -I \\\\pgcc\\\\include -include \\\\pgcc\\\\fixincl.h -fms-extensions \\\\pgcc\\\\as \\\\pgcc\\\\cwms.s -o \\\\pgcc\\\\cwmo.o \\\\pgcc\\\\ld \\\\pgcc\\\\cwmo.o -o \\\\pgcc\\\\cwme.exe -L \\\\pgcc\\\\lib -l cpplib -l corelibc -l coredll -l aygshell -l runtime -l portlib [Download the pocketgcc binaries][] /\\* 2010-03-06 john pfeiffer wince quit button \\*/ \\#define WIN32\\_LEAN\\_AND\\_MEAN \\#include /\\* these three are included for pocketgcc compatibility \\*/ \\#include \\#include \\#include /\\* not only do we have those complex included Windows headers but we have to define a special numeric ID for our buttons \\*/ \\#define IDC\\_ExitButton 40099 \\#define IDC\\_clearScreen 40098 /\\* HDC = handle to device context - a logical buffer of the screen. You \"write\" things to it and then it can write to the display in a chunk. A paint structure contains the info about the area being painted. Direct from MSDN... typedef struct tagPAINTSTRUCT { HDC hdc; BOOL fErase; RECT rcPaint; BOOL fRestore; BOOL fIncUpdate; BYTE rgbReserved[32]; } PAINTSTRUCT, \\*PPAINTSTRUCT; \\*/ VOID APIENTRY initializeBackground( HWND hwnd ) { HDC hdc; PAINTSTRUCT ps; hdc = BeginPaint(hwnd, &ps;); /\\* prepares the window for painting \\*/ EndPaint(hwnd, &ps;); /\\* done painting \\*/ } /\\* This is the prototype to the \"do everything\" window message processing switch function \\*/ LRESULT CALLBACK MenuWndProc( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam); int APIENTRY WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance, LPTSTR lpCmdLine, int ncmdshow ) { HWND hwnd = NULL; HWND ExitButton = NULL; /\\* each button gets a window handle \\*/ HWND clearScreenButton = NULL; MSG msg; WNDCLASS wc; RECT rc; wc.style = CS\\_HREDRAW | CS\\_VREDRAW; wc.lpfnWndProc = (WNDPROC)MenuWndProc; wc.cbClsExtra = 0; wc.cbWndExtra = 0; wc.hInstance = hInstance; wc.hIcon = 0; wc.hCursor = 0; wc.hbrBackground = (HBRUSH) GetStockObject(WHITE\\_BRUSH); wc.lpszMenuName = NULL; wc.lpszClassName = (LPTSTR) L\"Menu App\"; if(! RegisterClass (&wc;)) { MessageBox(NULL, TEXT(\"errors \"), L\"IMPORTANT\", MB\\_OK); return 0; } /\\* create our main window letting windows decide the placement & size \\*/ hwnd = CreateWindow (L\"Menu App\", L\"quit button app\", WS\\_VISIBLE, CW\\_USEDEFAULT, CW\\_USEDEFAULT, CW\\_USEDEFAULT, CW\\_USEDEFAULT, (HWND)NULL, NULL, hInstance, (LPSTR)NULL); /\\* ----------- ----------- ----------- ----------- \\*/ /\\* here we get the coordinate dimensions of the main window \\*/ GetWindowRect(hwnd, &rc;); /\\* this makes a quit button at the bottom of the screen \\*/ ExitButton = CreateWindow( L\"BUTTON\", L\"Quit\", WS\\_CHILD | WS\\_VISIBLE | BS\\_PUSHBUTTON, 0, (rc.bottom - (rc.top + (rc.right/6) )), /\\* button top left corner x,y \\*/ rc.right/6 , rc.right/6 , /\\* width & height \\*/ hwnd, (HMENU)IDC\\_ExitButton, hInstance, NULL); clearScreenButton = CreateWindow( L\"BUTTON\", L\"Clear\", WS\\_CHILD | WS\\_VISIBLE | BS\\_PUSHBUTTON, /\\* button top left corner x,y \\*/ 50, (rc.bottom - (rc.top + (rc.right/6) )), /\\* width & height \\*/ rc.right/6 , rc.right/6 , hwnd, (HMENU) IDC\\_clearScreen, hInstance, NULL); ShowWindow(hwnd, ncmdshow); UpdateWindow(hwnd); while(GetMessage(&msg;, NULL, 0, 0)) { TranslateMessage(&msg;); DispatchMessage(&msg;); } return msg.wParam; } /\\* end WinMain \\*/ /\\* ----------- ----------- ----------- ----------- \\*/ LRESULT CALLBACK MenuWndProc( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam ) { /\\* here we test for what events happened/the user might have done \\*/ switch (message) { case WM\\_CREATE: initializeBackground( hwnd ); /\\* draw the main window \\*/ break; case WM\\_DESTROY: PostQuitMessage(0); break; case WM\\_LBUTTONDOWN: /\\* left button pressed / tap on screen \\*/ break; case WM\\_MOUSEMOVE: /\\* mouse pointer is moving \\*/ /\\* if(wParam & MK\\_LBUTTON)\\*/ break; case WM\\_COMMAND: switch(LOWORD(wParam)) { case IDC\\_ExitButton: /\\* quit button pressed \\*/ PostQuitMessage(0); break; case IDC\\_clearScreen: /\\* clear button pressed \\*/ InvalidateRect( hwnd, NULL, TRUE); break; /\\* wipe the main window \\*/ default: break; }/\\* end case command \\*/ break; case WM\\_PAINT: initializeBackground( hwnd ); break; default: return DefWindowProc(hwnd, message, wParam, lParam); break; }/\\* end case message \\*/ return 0; } As you can see a button is just a predefined \"window\" object... but hopefully I'll figure out how to design my own button infrastructure so that I better understand the challenges, have increased portability, and maybe even enhanced functionality! ... Further research when compiling using GCC on Windows XP gave warnings about the \"long\" formatting of some text, e.g. the \"L\" MessageBox(NULL, TEXT(\"errors \"), L\"IMPORTANT\", MB\\_OK); If you don't remove the \"L\" designation then your buttons won't appear in your binary compiled for Windows XP... clearScreenButton = CreateWindow( L\"BUTTON\", L\"Clear\", WS\\_CHILD Should be: clearScreenButton = CreateWindow( \"BUTTON\", \"Clear\", WS\\_CHILD If you forget to remove the L from wc.lpszClassName = (LPTSTR) L\"AppClass\"; Then your program will have \"undefined behavior\" =) tags: Programming","tags":"linux","loc":"/win-ce-with-pocketgcc-a-simple-win32-button","title":"Win CE with PocketGCC a simple win32 button"},{"text":"Win CE uses a subset of the win32 API which is neat because technically anything written for it can be compiled for a \"full\" windows as well. Even though the Win32 API is very outdated I prefer the concept of building blocks and getting your hands dirty with implementation - that's how you really learn how things work. C\\# and .Net, especially with a super GUI IDE, make it easy to quickly build something but also obscure why performance might be slow, why different parts aren't integrating together, and really require you to build based on the vision of the platform designers - for better or for worse. This is probably why many programs written in C that are speed critical have important parts hand written in assembly. So here's a Windows API button for Win CE... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Don't forget the batch file: \\\\pgcc\\\\cc1plus \\\\pgcc\\\\source-code.txt -o \\\\pgcc\\\\cwms.s -I \\\\pgcc\\\\include -include \\\\pgcc\\\\fixincl.h -fms-extensions \\\\pgcc\\\\as \\\\pgcc\\\\cwms.s -o \\\\pgcc\\\\cwmo.o \\\\pgcc\\\\ld \\\\pgcc\\\\cwmo.o -o \\\\pgcc\\\\cwme.exe -L \\\\pgcc\\\\lib -l cpplib -l corelibc -l coredll -l aygshell -l runtime -l portlib [Download the pocketgcc binaries][] /* 2010-03-06 john pfeiffer wince quit button*/#define WIN32_LEAN_AND_MEAN#include /* these three are included for pocketgcc compatibility */#include #include #include /* not only do we have those complex included Windows headersbut we have to define a special numeric ID for our buttons */#define IDC_ExitButton 40099#define IDC_clearScreen 40098/* HDC = handle to device context - a logical buffer of the screen. You \"write\" things to it and then it can write to the display in a chunk.A paint structure contains the info about the area being painted.Direct from MSDN...typedef struct tagPAINTSTRUCT { HDC hdc; BOOL fErase; RECT rcPaint; BOOL fRestore; BOOL fIncUpdate; BYTE rgbReserved[32];} PAINTSTRUCT, *PPAINTSTRUCT;*/VOID APIENTRY initializeBackground( HWND hwnd ){ HDC hdc; PAINTSTRUCT ps; hdc = BeginPaint(hwnd, &ps;); /* prepares the window for painting */ EndPaint(hwnd, &ps;); /* done painting */}/* This is the prototype to the \"do everything\" window messageprocessing switch function */LRESULT CALLBACK MenuWndProc( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam); int APIENTRY WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance, LPTSTR lpCmdLine, int ncmdshow ){ HWND hwnd = NULL; HWND ExitButton = NULL; /* each button gets a window handle */ HWND clearScreenButton = NULL; MSG msg; WNDCLASS wc; RECT rc; wc.style = CS_HREDRAW | CS_VREDRAW; wc.lpfnWndProc = (WNDPROC)MenuWndProc; wc.cbClsExtra = 0; wc.cbWndExtra = 0; wc.hInstance = hInstance; wc.hIcon = 0; wc.hCursor = 0; wc.hbrBackground = (HBRUSH) GetStockObject(WHITE_BRUSH); wc.lpszMenuName = NULL; wc.lpszClassName = (LPTSTR) L\"Menu App\"; if(! RegisterClass (&wc;)){ MessageBox(NULL, TEXT(\"errors \"), L\"IMPORTANT\", MB_OK); return 0; }/* create our main window letting windows decide the placement & size */ hwnd = CreateWindow (L\"Menu App\", L\"quit button app\", WS_VISIBLE, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, (HWND)NULL, NULL, hInstance, (LPSTR)NULL);/* ----------- ----------- ----------- ----------- *//* here we get the coordinate dimensions of the main window */ GetWindowRect(hwnd, &rc;);/* this makes a quit button at the bottom of the screen */ ExitButton = CreateWindow( L\"BUTTON\", L\"Quit\", WS_CHILD | WS_VISIBLE | BS_PUSHBUTTON, 0, (rc.bottom - (rc.top + (rc.right/6) )), /* button top left corner x,y */ rc.right/6 , rc.right/6 , /* width & height */ hwnd, (HMENU)IDC_ExitButton, hInstance, NULL); clearScreenButton = CreateWindow( L\"BUTTON\", L\"Clear\", WS_CHILD | WS_VISIBLE | BS_PUSHBUTTON, /* button top left corner x,y */ 50, (rc.bottom - (rc.top + (rc.right/6) )), /* width & height */ rc.right/6 , rc.right/6 , hwnd, (HMENU) IDC_clearScreen, hInstance, NULL); ShowWindow(hwnd, ncmdshow); UpdateWindow(hwnd); while(GetMessage(&msg;, NULL, 0, 0)) { TranslateMessage(&msg;); DispatchMessage(&msg;); } return msg.wParam;} /* end WinMain *//* ----------- ----------- ----------- ----------- */LRESULT CALLBACK MenuWndProc( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam ) { /* here we test for what events happened/the user might have done */ switch (message) { case WM_CREATE: initializeBackground( hwnd ); /* draw the main window */ break; case WM_DESTROY: PostQuitMessage(0); break; case WM_LBUTTONDOWN: /* left button pressed / tap on screen */ break; case WM_MOUSEMOVE: /* mouse pointer is moving */ /* if(wParam & MK_LBUTTON)*/ break; case WM_COMMAND: switch(LOWORD(wParam)) { case IDC_ExitButton: /* quit button pressed */ PostQuitMessage(0); break; case IDC_clearScreen: /* clear button pressed */ InvalidateRect( hwnd, NULL, TRUE); break; /* wipe the main window */ default: break; }/* end case command */ break; case WM_PAINT: initializeBackground( hwnd ); break; default: return DefWindowProc(hwnd, message, wParam, lParam); break; }/* end case message */ return 0;} As you can see a button is just a predefined \"window\" object... but hopefully I'll figure out how to design my own button infrastructure so that I better understand the challenges, have increased portability, and maybe even enhanced functionality! ... Further research when compiling using GCC on Windows XP gave warnings about the \"long\" formatting of some text, e.g. the \"L\" **MessageBox(NULL, TEXT(\"errors \"), L\"IMPORTANT\", MB\\_OK);** If you don't remove the \"L\" designation then your buttons won't appear in your binary compiled for Windows XP... **clearScreenButton = CreateWindow( L\"BUTTON\", L\"Clear\", WS\\_CHILD** Should be: clearScreenButton = CreateWindow( \"BUTTON\", \"Clear\", WS\\_CHILD If you forget to remove the L from wc.lpszClassName = (LPTSTR) L\"AppClass\"; Then your program will have \"undefined behavior\" =)","tags":"linux","loc":"/365-windows-ce-programming-a-win32-api-button","title":"365-? Windows CE programming: A win32 api button"},{"text":"I'm squeezing my brain to get Drupal theme customization and CSS working as quickly as possible (while working a more than full time job and doing some things besides computers every once in a while)... \"Creating\" a Zen sub theme is relatively easy, mostly a lot of copying, replacing STARTERKIT, and uploading again to a different directory... [http://kittyandbear.net/john/web-tutorials/drupal-how-to-create-a-zen-su...][] But to make significant changes in the layout you have to modify layout.css Before that! FIRST MODIFY THE SETTINGS THAT ARE GIVEN VIA THE WEB ADMIN e.g. Theme configuration http:// test.com /admin/build/themes/settings/ Here you can choose whether to display the \"Theme\" Primary Links (appears just below the header section)... (I think it's best to uncheck it and use Blocks instead...) [http://test.com/admin/build/block][] Block layouts is where you can put the Primary links up at the top and Secondary links at the bottom. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - NEXT, IT'S BEST TO INSTALL THE FIREFOX \"FIREBUG\" PLUGIN which allows you to \"peek\" at the html & css source and figure out exactly what code controls what... [http://getfirebug.com/downloads][] Tools -\\> AddOns -\\> disable when you're not working on a website CSS - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - THEN YOU CAN BEGIN MODIFYING layout.css \\1. LOOK AT THE SOURCE CODE FROM YOUR UNMODIFIED SITE (with Firebug too...) e.g. line 37 of the home page WE FIND \"menu-primary\" in zen.css To \"override\" the default zen.css all we have to do is create our own version in layout.css \\#block-menu-primary-links /\\* \"Primary links\" block \\*/ { font-size: 16px; } To take advantage of the \"nested\" control principle, so any links in div \"block-menu-primary-links\" will now be red, we add the following to layout.css (with comments explaining it too, of course!) \\#block-menu-primary-links a:link { color: green; } \\#block-menu-primary-links a:visited { color: red; } TRY UPLOADING layout.css and forcing your browser to refresh... neat! SOME ADDITIONAL EXAMPLES (finally the horizontal menu!) \\#block-menu-primary-links /\\* \"Primary links\" block \\*/ { margin: 0; padding: 0; } /\\* this means by default ordered and unordered lists and anchors have no underlines \\*/ \\#block-menu-primary-links li ul, \\#block-menu-primary-links li, \\#block-menu-primary-links a { text-decoration: none; } /\\* specifically \"anchors\" or links will appear as blocks \\*/ \\#block-menu-primary-links a { display: block; } \\#block-menu-primary-links a:links { color: \\#008000; } \\#block-menu-primary-links a:visited { color: \\#CCBA22; } Unfortunately haven't figured out why the drupal menu width, when set, makes them appear to go down instead of widening to the right... material for a future post I suppose... Scratch that, 30 frantic minutes later, a solution has arrived... /* FORCING THEM TO BE HORIZONTAL? 2010-02-22 JOHNPFEIFFER */#block-menu-primary-links /* overriding the zen.css \"Primary links\" block */{ margin: 0; /* remove any previously defined margins or padding */ padding: 0;}/* this means by default ordered and unordered lists and anchors have no underlines */#block-menu-primary-links li ul,#block-menu-primary-links li,#block-menu-primary-links a { text-decoration: none; /* no underlining links */ list-style-type: none; /* no bullet points */ list-style-image: none; /* no custom bullet images */ text-align: center; /* I prefer my text to be neat and centered */} /* specifically \"anchors\" or links will horizontal */#block-menu-primary-links a { display: block; /*inline; /* blocks force a newline but inline just uses a little width */ width: 70px; /* wide enough for the longest element, unless you want words on two lines */} #block-menu-primary-links a:links { color: #008000; } /* light blue */#block-menu-primary-links a:visited { color: #CCBA22; } /* light brown */#block-menu-primary-links li { float: left; position: relative; } http: //kittyandbear.net/john/web-tutorials/drupal-how-to-create-a-zen-subtheme-part-one.txt","tags":"linux","loc":"/365-39-how-to-customize-a-drupal-zen-theme-primary-links-into-horizontal","title":"365-39 How to customize a Drupal Zen theme Primary Links into Horizontal"},{"text":"It's messy as some of the code could be removed but it gets you most of the way there - a footer at the bottom (even if the content doesn't fill the page)... a header at the top that's full width, and 3 columns... with a little weird bug on the right column... /* required to kill off any extra \"helpful\" browser padding */html, body { margin: 0; padding: 0; height: 99%; } #header { height: 60px; overflow: hidden; z-index: 0; border: 1px solid purple; text-align: center;}#container1{ min-height: 100%; height: auto; height: 100%; overflow: hidden; margin:0; position: relative; border: 1px solid green;}#container2{ border: 1px solid green; position: relative;}#container3{ position: relative;}#column1 { float: left; width: 20%; overflow: hidden; border: 1px solid red; position: relative;}#column2 { float: none; width: 60%; overflow: hidden; border: 1px solid blue; position: relative;}#column3 { float: right; width: 20%; overflow: hidden; border: 1px solid blue; position: relative; }#footer { height: 60px; overflow: hidden; z-index: 0; border: 1px solid purple; text-align: center; bottom: 0; width: 99%; position: absolute; } header left left left left left left left left left left left left standard 3 column layout with header and footer content and columns are ordered by SEO priority right right right right right right right right right footer","tags":"linux","loc":"/365-38-better-css-3-column-header-footer-layout","title":"365-38 Better css 3 column header footer layout"},{"text":"This is a tiny post, but it covers a very important part of how a CSS layout might look: how do you center something? The \"Centering CSS Blocks Trick\" forces the text (or image too, hopefully, depending on a post 2006 browser)... THE CSS \\#footer { text-align: center; bottom: 0px; margin-left: auto; margin-right: auto; width: 30%; z-index: 0; position: relative; } THE HTML footer text goes here Note that the text-align instruction is perhaps redundant but it's better to be safe (and more universally compatible). To VERTICALLY CENTER things takes a bit of creativity, basically you must pretend that an \"inner div\" is actually a table cell and use the \"new\" property of vertical-align (alot like html table cell valign)... \\#contentsContainer { /\\* height must be a fixed number \\*/ height: 200px; width: 100%; border: 1px solid green; text-align: center; display: table-cell; vertical-align: middle; position: relative; } \\#contents{ border: 1px solid blue; /\\* height must be a fixed number \\*/ height:40px; position:relative; } CONTENTS Lots of contents Vertically and horizontally centered CONTENTS test more content Whew, back to work!","tags":"linux","loc":"/365-37-how-to-center-with-css","title":"365-37 How to center with CSS"},{"text":"It seems I've bitten off more than I thought with regularly updating a Window every second... I need to go back and learn more about how WM\\_PAINT works in windows because my current version is very funky... though it does work! A couple of obvious other things: WM\\_TIMER and perhaps strcpy instead of get\\_current\\_time again... The reason I've chosen the awkward system of getting the system time over and over instead of the \"convenient\" windows timer is that I'm trying to learn and understand what I can do with programming, not how to copy and paste someone else's function. The \"modular\" aspect of get\\_current\\_time returning a string becomes very interesting as theoretically I could modify it to get time from an atomic clock or the internet and the application wouldn't know the difference. Anyways, here's some source code that does compile (but I think it has a very slow memory leak so don't leave it running all night... LOL) /* 2010-02-12 john pfeiffer, MS windows clock v4 (updating time)todo: wm_paint, wm_timer, strcpy instead of get_current?*/#include #include #include #include #include #define IDC_ExitButton 40001 LRESULT CALLBACK WindowProcedure( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam);void get_current_time( char current_time[128] );int WINAPI WinMain( HINSTANCE hThisInstance, HINSTANCE hPrevInstance, LPSTR lpszArgument, int ncmdshow) { char current_time[128]; char temp_time[128]; HWND hwnd; /* The handle for our window */ HWND ButtonPushed = NULL; MSG messages; /* Messages to the application */ WNDCLASS wc; /* Data structure for our defined windowclass */ wc.style = 0; wc.lpfnWndProc = WindowProcedure; /* This function is called by windows */ wc.cbClsExtra = 0; /* No extra bytes after the window class */ wc.cbWndExtra = 0; /* structure or the window instance */ wc.hInstance = hThisInstance; /* handle to the owner */ wc.hIcon = NULL; /* no special application icon */ wc.hCursor = LoadCursor(NULL, IDC_ARROW); /* default cursor */ wc.hbrBackground = (HBRUSH) GetStockObject(LTGRAY_BRUSH); wc.lpszMenuName = NULL; /* No menu */ wc.lpszClassName = \"WindowsApp\"; /* the name of the windows class */ /* Register the window class, if fail quit the program with an error value */ if( RegisterClass(&wc;) ==0 ){ return -1; } /* The class is registered, let's instantiate our window */ hwnd = CreateWindowEx( 1, \"WindowsApp\", \"Windows Title\", WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, hThisInstance, NULL ); /* create button and store the handle */ ButtonPushed = CreateWindow( \"button\", /* class name */ \"Push to Quit\", /* button caption */ WS_CHILD |WS_VISIBLE | BS_PUSHBUTTON, /* the styles */ 0,0, /* the left and top coordinates */ 150,50, /* width and height */ hwnd, /* parent window handle */ (HMENU)IDC_ExitButton, /* the ID of your button */ hThisInstance, /* the instance of your application */ NULL) ; /* unnecessary extra */ ShowWindow(hwnd, ncmdshow); /* Make the window visible on the screen */ UpdateWindow(hwnd); /* update with changes */ get_current_time( temp_time ); /* get the current time initially */ /* Run the message loop. It will run until GetMessage( ) returns 0 */ while( GetMessage(&messages;, NULL, 0, 0) ) { /* nasty polling business, should be done with WM_TIMER */ /* if strings aren't the same then update the window */ get_current_time( current_time ); if( strcmp(current_time, temp_time) ) { /* debugging - am I getting the time comparison? */ MessageBox(hwnd, current_time, temp_time, 0);/* theoretically the rest of this forces the window to refresh */ UpdateWindow(hwnd); ShowWindow(hwnd, ncmdshow);/* update the new \"old time\" */ get_current_time( temp_time ); } TranslateMessage(&messages;); DispatchMessage(&messages;); } /* The program return-value is 0 - The value that PostQuitMessage( ) gave */ return messages.wParam;}/* This function is called by the Windows function DispatchMessage( ) */LRESULT CALLBACK WindowProcedure( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam){ char current_time[128]; PAINTSTRUCT ps; /* a structure for a paint job (see below */ RECT rect; /* a struct to hold rectangle values (e.g. x,y coordinates) */ HDC hdc; /* handle to a DC (buffer) for the screen */ switch (message) /* handle the messages */ { case WM_COMMAND: switch(LOWORD(wParam)) /* find out what's been clicked */ { case IDC_ExitButton: PostQuitMessage(0); break; default: break; } break; case WM_PAINT: GetClientRect( hwnd, &rect; ); /* get the size of our window */ InvalidateRect ( hwnd, NULL, TRUE ); hdc = BeginPaint( hwnd, &ps; ); /* begin painting to the buffer */ get_current_time( current_time ); DrawText( hdc, TEXT(current_time), -1, &rect;, DT_CENTER | DT_VCENTER | DT_SINGLELINE); EndPaint( hwnd, &ps;); return 0; case WM_DESTROY: PostQuitMessage(0); break; default: /* for messages that we don't deal with */ return DefWindowProc(hwnd, message, wParam, lParam); } return 0;}/* end of WinMain *//* Get the current time from the system and update the time string */void get_current_time( char current_time[128] ){ time_t tempTime;/* initialize the variable, otherwise only returns 1970 date */ tempTime = time(NULL); strcpy(current_time, asctime(localtime(&tempTime;)));} Download the message box driven clock binary (if you dare!): [http://kittyandbear.net/john/blog-prog/winclock-v4.zip][]","tags":"linux","loc":"/365-36-winclock-v4-failure-is-only-feedback","title":"365-36 Winclock v4 (failure is only feedback)"},{"text":"A basic Drupal theme has \"regions\" where you can put things... headerleft side right side content footer Blocks are the \"extra parts\" that can appear in addition to your \"node\" (stuff in the Content only) While it is easy to get advanced functionality with a few clicks, it can be a chore to remember the order and location of those clicks. ENABLE SITE SEARCH Administer -\\> Site Building -\\> Modules -\\> List Click the checkbox next to SEARCH to enable it. Hit the SAVE button (way down at the bottom). Now you have to give Anonymous users (or just Authenticated Users, or maybe your custom category of LOLcatz?) permission to actually see/use the Search. Administer -\\> User Management -\\> Permissions Click the check boxes next to Search Module for the Anonymous and Authenticated User columns (note you can also give access to Advanced Search... cool.) Hit the SAVE button (way down at the bottom). NOTE that the \"administrator/root\" user isn't a column (and therefore you can't remove your own permission to administer the site... not that anyone'd ever be so silly...) For Garland, specifically, when you add the Search it will make a \"double\" so you have to disable the one that's built into the theme... Administer -\\> Site Building -\\> Themes -\\> Configure -\\> Global Settings Whew! Almost there... Administer -\\> Site Building -\\> Blocks -\\> List From here you can either drag and drop (or use the \"dropdown\" next to the Block name) to get the Search into the region of the page you want. Hit the SAVE button (way down at the bottom) before doing anything else. (Very frequently I forget to press save and all of my changes don't get saved... must be a bug.) THEN click on \"Configure\" next to the Search Block to specify some details. (e.g. Search only appears on the page, or the title above the Search Block will be FIND, or only show the Search Block to certain user roles...) OK, hit your SAVE button one last time... not only can you, super root administrator see Search but hopefully Anonymous users can now find your secret buried treasure... Are you ready for URL's and page titles?","tags":"linux","loc":"/drupal-basic-site-configuration-the-search-block","title":"Drupal Basic Site Configuration the Search Block"},{"text":"My windows clock is slowly progressing... Now I can create a window with a QUIT button and display the current system time (only once)... If you want to know more about the project from the beginning search the site for winclock (or click on the time.h tag). I've stripped out most of the project header stuff - perhaps in the future I'll just have it as an \"include\" so that it's in the project but since it doesn't change much I only have to look at it when I refer back to it (instead of at the top of the file ALL THE TIME!) Ok, enough planning and review, here's the code: gcwin.bat gcc.exe -o %1.exe %1 -Iinclude -Llib -Wall -ansi -mwindows winclock-v3.c /* 2010-02-08 john pfeiffer, MS windows clock v3 (the windows)*/#include #include #include #define IDC_MyExitButton 40001 /* case sensitive! random high number to keep windows happy */LRESULT CALLBACK WindowProcedure( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam);void get_current_time( char current_time[128] );int WINAPI WinMain( HINSTANCE hThisInstance, HINSTANCE hPrevInstance, LPSTR lpszArgument, int ncmdshow) { HWND hwnd; /* The handle for our window */ HWND ButtonPushed = NULL; MSG messages; /* Messages to the application */ WNDCLASS wc; /* Data structure for our defined windowclass */ wc.style = 0; wc.lpfnWndProc = WindowProcedure; /* This function is called by windows */ wc.cbClsExtra = 0; /* No extra bytes after the window class */ wc.cbWndExtra = 0; /* structure or the window instance */ wc.hInstance = hThisInstance; /* handle to the owner */ wc.hIcon = NULL; /* no special application icon */ wc.hCursor = LoadCursor(NULL, IDC_ARROW); /* default cursor */ wc.hbrBackground = (HBRUSH) GetStockObject(LTGRAY_BRUSH); wc.lpszMenuName = NULL; /* No menu */ wc.lpszClassName = \"WindowsApp\"; /* the name of the windows class */ /* Register the window class, if fail quit the program with an error value */ if( RegisterClass(&wc;) ==0 ){ return -1; } /* The class is registered, let's instantiate our window */ hwnd = CreateWindowEx( 1, \"WindowsApp\", \"Windows Title\", WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, hThisInstance, NULL ); /* create button and store the handle */ ButtonPushed = CreateWindow( \"button\", /* class name */ \"Push to Quit\", /* button caption */ WS_CHILD |WS_VISIBLE | BS_PUSHBUTTON, /* the styles */ 0,0, /* the left and top coordinates */ 150,50, /* width and height */ hwnd, /* parent window handle */ (HMENU)IDC_MyExitButton, /* the ID of your button */ hThisInstance, /* the instance of your application */ NULL) ; /* unnecessary extra */ ShowWindow(hwnd, ncmdshow); /* Make the window visible on the screen */ UpdateWindow(hwnd); /* update with changes */ /* Run the message loop. It will run until GetMessage( ) returns 0 */ while( GetMessage(&messages;, NULL, 0, 0) ) { TranslateMessage(&messages;); DispatchMessage(&messages;); } /* The program return-value is 0 - The value that PostQuitMessage( ) gave */ return messages.wParam;}/* This function is called by the Windows function DispatchMessage( ) */LRESULT CALLBACK WindowProcedure( HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam){ char current_time[128]; PAINTSTRUCT ps; /* a structure for a paint job (see below */ RECT rect; /* a struct to hold rectangle values (e.g. x,y coordinates) */ HDC hdc; /* handle to a DC (buffer) for the screen */ switch (message) /* handle the messages */ { case WM_COMMAND: switch(LOWORD(wParam)) /* find out what's been clicked */ { case IDC_MyExitButton: PostQuitMessage(0); break; default: break; } break; case WM_PAINT: GetClientRect( hwnd, &rect; ); /* get the size of our window */ hdc = BeginPaint( hwnd, &ps; ); /* begin painting to the buffer */ get_current_time( current_time ); DrawText( hdc, TEXT(current_time), -1, &rect;, DT_CENTER | DT_VCENTER | DT_SINGLELINE); EndPaint( hwnd, &ps;); return 0; case WM_DESTROY: PostQuitMessage(0); /* send a WM_QUIT */ break; default: /* for messages that we don't deal with */ return DefWindowProc(hwnd, message, wParam, lParam); } return 0;}/* Get the current time from the system and update the time string */void get_current_time( char current_time[128] ){ time_t tempTime;/* initialize the variable, otherwise only returns 1970 date */ tempTime = time(NULL); strcpy(current_time, asctime(localtime(&tempTime;)));} For the binary executable (and the source code as .c file) [http://kittyandbear.net/john/blog-prog/winclock-v3.zip][]","tags":"linux","loc":"/365-35-winclock-v3","title":"365-35 WinClock v3"},{"text":"The hidden file **.bashrc** in each user's home directory (\\~ or or /home/username or /root) controls the configuration of how the console (and certain commands) behave. NOTE CENTOS/REDHAT also uses .bash\\_profile Color is also enabled (to be added in a future edit of this post)... - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Here are my favorite aliases: alias rm='rm -i' alias cp='cp -i' alias mv='mv -i' alias ls='ls --color=auto' alias ll='ls -ahl --color=auto' alias free='free -m' alias df='df -h' alias nano='nano -S -c' //ls with all, hidden, long format //free ram in Megabytes //freespace on hard drive in human (Mega Giga) //nano text editor with smooth scroll and count of line numbers //you can \"unalias free\" or you can use \"\\\\free\" export PATH=$PATH:\\~/bin set bell-style none //no more annoying bash beeps! xset -b //same for x windows TO Enable it immediately go to the directory and type a period followed by the name: **. .bashrc** - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - whoami //should return what user is logged in echo $HOME //should return the current user's home directory, should match what's in /etc/passwd echo $PATH //will list what binary executable directories are accessible by default e.g. normal centos user /usr/local/bin:/bin:/usr/bin:/home/username/bin e.g. su - /usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin NOTE that if you simply use \"su\" you will only get the normal user path... .bash\\_profile allows you to customize your command history size... (sometimes it's a section in .bashrc) if it doesn't exist (e.g. ubuntu can't find .bash\\_profile doesn't exist) touch \\~/.bash\\_profile chmod 700 \\~/.bash\\_profile Create it and make it executable and then add the following lines... //defaults are 500 HISTFILESIZE=10000 HISTSIZE=10000","tags":"linux","loc":"/customize-your-linux-console-bashrc","title":"Customize your linux console: bashrc"},{"text":"Drupal is meant to be a dynamic website platform (that runs quite well out of the box) yet customizable. Despite the good advice to create a \"sub theme\" by copying and pasting the current files into a new folder i went ahead and hacked at the core php and css... While Garland itself (I'm using the \"configurable sub theme Minelli\" which must be modified through Garland) is very hard to work with (I will probably end up using Zen to get my final customized effect)... FTP into your website hosting and ... /drupal-root/themes/garland Modifying page.tpl.php with my trusty notepad2... Line 66 has the very interesting terms: From there you have to also modify \"style.css\" to the related terms (that's the way css works, to abstract the content & functionality in html/php and the design in css)... FUNNILY ENOUGH, THINGS WORK BACKWARDS... body.sidebars { /\\* min-width: 980px; \\*/ min-width: 680px; } So as you can see, I cleverly commented out the original and modified it to be smaller (right?)... but it actually made the sidebars bigger... so I'll try the reverse... but changes don't really appear... Admin -\\> Flush All Caches is supposed to help make the theme changes appear! After enough fiddling to understand it I've reset style.css to it's default in Garland... Apparently the \"Minnelli\" sub folder minnelli.css overrides the style.css so that's what I need to work on... /drupal-root/themes/garland/minnelli/minnelli.css body \\#wrapper \\#container { /\\* width: 560px; \\*/ width: 960px; } body.sidebars \\#wrapper \\#container { /\\* width: 980px; \\*/ width: 480px; } body.sidebar-left \\#wrapper \\#container, body.sidebar-right \\#wrapper \\#container { /\\* width: 770px; \\*/ width: 570px; } Except that once again, the settings above have SHRUNK the body... body.sidebar-left \\#wrapper \\#container, body.sidebar-right \\#wrapper \\#container { /\\* width: 770px; \\*/ width: 870px; } The above is the only bit of code needed to widen the body slightly, all of the rest is the garland/minnelli default. Ironically the changes only appear so far in the Admin User logged on screen (not for anonymous users)... But that's enough for today's post! An excellent resource: [http://www.themeswiki.org/Customizing\\_Drupal\\_6\\_Themes][]","tags":"linux","loc":"/365-34-drupal-themes","title":"365-34 Drupal Themes"},{"text":"I'm working too much which is why these posts are more infrequent (though I will keep numbering them sequentially and hopefully one day I'll have enough time to backfill all 365 before the 1 year deadline)... Javascript is meant to easily add functionality to a webpage. Unfortunately some people don't really test it enough, case in point, an email newsletter went out with a link to an online competition page BUT the submit button \"didn't work\"... Here comes John to save the day! From the HTML everything appeared fine: First Name:* More form stuff here... Notice that the radio button only has one choice... Wireless LAN: function checkSingupForm(){ var f = document.forms[\"f\"];//this array should contain every text field you require to be filled in var arr = [ [\"txFirstName\",\"First Name\"] ,[\"txLastName\",\"Last Name\"] ,[\"txCompany\",\"Company\"] ,[\"txTown\",\"Town\"] ,[\"txEmail\",\"E-mail\"] ];//for loop checks each value if it is blank \"\" ... then popup alert and changes focus for(i=0;i<arr.length;i++){ if(f.elements[arr[i][0]].value == \"\"){ alert(\"Please fill in \" + arr[i][1] + \".\") f.elements[arr[i][0]].focus(); return; } }//a regular expression check to ensure the email is in a valid email formatvar emailRE = /&#94;([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9_\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/ if( !emailRE.exec(f.elements[\"txEmail\"].value) ){ alert(\"Please fill in a valid e-mail address.\"); f.elements[\"txEmail\"].focus(); return; }//ensures that the display size have been filled out... rdDisplaySizeValid = -1; for( i=0; i< f.elements[\"rdDisplaySize\"].length; i++) { if( f.elements[\"rdDisplaySize\"][i].checked ){ rdDisplaySizeValid = 1; } } if( rdDisplaySizeValid == -1 ) { alert(\"Please choose a Display size.\"); f.elements[\"rdDisplaySize\"][0].focus(); return; }//ensures that the embeddedconfiguration field has been checked at least once...if(!f.elements[\"rdEmbeddedConfiguration\"][0].checked && !f.elements[\"rdEmbeddedConfiguration\"][1].checked) { alert(\"Please choose a Embedded Configuration.\"); f.elements[\"rdEmbeddedConfiguration\"][0].focus(); return; } f.submit();}//--> After downloading the ASP file and creating a backup copy... So what was the problem? The incorrect validation of radio button rdDisplaySize had to be commented out. I also added the nifty \"default CHECKED\" option as the form only gave one Radio Button option (but it was a Required field!) Whew, another crisis averted, customers now able to register for the competition and turn themselves into Leads for our company!","tags":"linux","loc":"/365-33-lots-of-work-javascript-form-validation","title":"365-33 Lots of work - Javascript Form Validation"},{"text":"Each XP service pack seems to make the process of replacing notepad.exe with notepad2.exe even more complex (somebody at Microsoft really likes the original notepad)... **Updated steps for SP3:** Download a replacement text editor: [http://www.flos-freeware.ch/notepad2.html][] (If you have the \\\\servicepackfiles\\\\i386 folder...) rename C:\\\\WINDOWS\\\\ServicePackFiles\\\\i386\\\\notepad.exe C:\\\\WINDOWS\\\\ServicePackFiles\\\\i386\\\\notepad.exe.bak Now rename notepad2.exe notepad.exe and copy it into: C:\\\\WINDOWS\\\\ServicePackFiles\\\\i386\\\\ C:\\\\WINDOWS\\\\system32\\\\dllcache C:\\\\WINDOWS\\\\system32\\\\notepad.exe C:\\\\WINDOWS Check that your new notepad is in place (the filesize change from 68k to 243k)... (In service pack 2 it would complain with 2 popups and you would just hit cancel both times... as \\\\system32 files were immediately replaced by the \"original\" from dllcache) ADDITIONALLY, the \"file type\" may get messed up so you might have to have notepad2.exe in the C:\\\\ and when you double click a .txt from windows explorer you'll have to choose Open With other -\\> Browse -\\> c:\\\\notepad2.exe","tags":"linux","loc":"/replace-windows-xp-sp3-notepad-with-notepad2","title":"Replace Windows XP SP3 notepad with notepad2"},{"text":"So for fun I tried to \"port\" my code (of winclockv2.c) into Linux and compile it with gcc. Remarkably easy since most Linux distributions come with GCC installed (in case you need to build a new application from source code... it sounds scary until you've done it once or twice and then it's easy). Just open up a text editor, paste it in, save it (getchar-loop.c). The only thing to change was my Windows \"batch\" file, touch gc.sh chmod +x gc.sh nano gc.sh \\#!/bin/bash gcc -o $1.exe $1 -Wall -ansi ./gc.sh getchar-loop.c So today's entry is an offshoot program I wrote to investigate why my previous version loop control wasn't working correctly. A little googling showed me that this particular \"getchar() buffer problem\" is a classic... /* 2010-02-01 john pfeiffer getchar() only takes one character from the buffer, but when a user presses \"enter\"... that's another character in the buffer...*/ #include int main(){ char c='n'; char buffer; printf(\"This program will take in one character you type\"); printf(\" and display it back to you.\\n\"); printf(\"GeekSpeak = Demo the extra \\\"\\n\\\" in the\"); printf(\" getchar() from user \\\"loop dilemma\\\"\\n\"); do { printf(\"Please enter one character and press enter...\"); printf(\"(y to quit)... Do not attempt to type in a word or else!\\n\"); c = getchar(); printf(\"%c\\n\",c); }while( c != 'y'); /* we must clear the stdin buffer of extra char's and the \\n for the y!*/ do { buffer = getchar(); } while (buffer != '\\n' ); printf(\"Ha ha, to quit press 'y' again\"); printf\"((this corrected version will only display the first char entered).\\n\"); do { printf(\"Press a key or enter a word, then press enter (use y to quit):\\n\"); c = getchar(); do { buffer = getchar(); } while (buffer != '\\n' ); printf(\"%c\\n\",c); }while( c != 'y'); return 0;}/* end of main */","tags":"linux","loc":"/365-32-debugging-and-accidental-difficulties-with-getchar-and-loops","title":"365-32 Debugging and \"Accidental Difficulties\" with getchar and loops"},{"text":"Slowly working towards the final product, indeed I do see that I have a working executable at every stage (even if the steps are small and the tests are numerous)... (The looping part does not quite work yet...) /* 2010-01-31 john pfeiffer, MS windows clockPROGRAM DESIGN MS window with X, quit button, and current system time displayed Hour:minute:second (hh:mm:ss)HIGH LEVEL FUNCTIONS update current time see if user clicked button quit if button clicked display current time on windowORGANIC ITERATIVE BUILDS 1. build a program to show current time (in c/dos) then exits immediately *TEST: should show correct system time each time user presses enter show new current time (ctrl+c to exit) TEST: should show correct system time on each click 2. build a windows \"quit button app\" (can reuse previous work) TEST: program should quit cleanly 3. windows with current time (once) and quit button TEST: program should show correct system time and when button clicked quit 4. windows with current time constantly updating and quit button (will the processor be overloaded while waiting? need semaphores?)*/#include #include #include /* stdio.h is for displaying output to command line time.h is for time() string.h is to help format any strings created*//* returns a string with the current time */void get_current_time( char current_time[] );void display_time( char current_time[] );void clear_current_time( char current_time[] );int main(int argc, char* argv[]){ char c = 'n'; char current_time[128];/* show that the string has garbage that is cleaned out */ printf(\"\\nDISPLAY current time variable (initial garbage)\\n\"); display_time( current_time ); /* Loop depending on the user to continue updating*/ do{ printf(\"\\nEMPTY current time variable.\\n\"); clear_current_time( current_time ); printf(\"\\nDISPLAY current time variable:\\n\"); display_time( current_time ); printf(\"\\nUPDATE current time variable.\\n\"); get_current_time( current_time ); /* DEBUGGING printf(\"%s\\n\", current_time); */ printf(\"\\nDISPLAY current time variable:\\n\"); display_time( current_time ); c = 'n'; /* ensure that the user must force a continuance */ printf(\"\\nPRESS y to update the current time variable again:\\n\"); c = getchar(); }while( c == 'y' ); return 0;}/* end main *//* begin function definitions *//* Get the current time from the system and update the time string */void get_current_time( char current_time[128] ){ time_t tempTime; /* initialize the variable, otherwise only returns 1970 date */ tempTime = time(NULL); /* DEBUGGING printf(\"%s\\n\", asctime(localtime(&tempTime;))); */ strcpy(current_time, asctime(localtime(&tempTime;))); /* DEBUGGING printf(\"%s\\n\", current_time); */}/* output the current time string ... to the command line */void display_time( char current_time[128] ){ printf(\"CURRENT TIME: %s\\n\",current_time);}void clear_current_time( char current_time[128] ){ memset( current_time, 0, sizeof(current_time));} To Be Continued...","tags":"linux","loc":"/365-31-command-line-clock-continued-winclockv2","title":"365-31 Command Line Clock continued (winclockv2)"},{"text":"I am trying to follow best practice as I've learned from the Mythical Man Month (Fred Brooks), the Cathedral and the Bazaar's (Eric Raymond)... C programming seems natural to me but I always want to stretch myself a little bit so here's a \"C Clock\" program that will eventually evolve into a \"Windows Clock\" program. So here is a modular design, released early with plenty of comments, debugging ability, and grown locally and organically: /* 2010-01-31 john pfeiffer, MS windows clockPROGRAM DESIGN MS window with X, quit button, and current system time displayed Hour:minute:second (hh:mm:ss)HIGH LEVEL FUNCTIONS get current time display current time on window update current time see if user clicked button quit if button clickedORGANIC ITERATIVE BUILDS 1. build a program to show current time (in c/dos) then exits immediately TEST: should show correct system time each time user presses enter show new current time (ctrl+c to exit) TEST: should show correct system time on each click 2. build a windows \"quit button app\" (can reuse previous work) TEST: program should quit cleanly 3. windows with current time (once) and quit button TEST: program should show correct system time and when button clicked quit 4. windows with current time constantly updating and quit button (will the processor be overloaded while waiting? need semaphores?)*/#include #include #include /* stdio.h is for displaying output to command line time.h is for time() string.h is to help format any strings created*//* returns a string with the current time */void get_current_time( char current_time[] );void display_time( char current_time[] );void clear_current_time( char current_time[] );int main(int argc, char* argv[]){ char current_time[128];/* show that the string has garbage that is cleaned out */ printf(\"Current Time variable garbage:\\n\"); display_time( current_time ); clear_current_time( current_time ); printf(\"\\nCurrent Time variable is EMPTY:\\n\"); display_time( current_time ); printf(\"\\nCurrent Time variable is FULL:\\n\"); get_current_time( current_time ); return 0;}/* end main *//* begin function definitions */void get_current_time( char current_time[128] ){ time_t tempTime; /* initialize the variable, otherwise only returns 1970 date */ tempTime = time(NULL); printf(\"%s\\n\", asctime(localtime(&tempTime;)));}void display_time( char current_time[128] ){ printf(\"CURRENT TIME: %s\\n\",current_time);}void clear_current_time( char current_time[128] ){ memset( current_time, 0, sizeof(current_time));} If you're unable or unwilling to copy and paste the above and compile it yourself I suppose you can try the binary: [http://kittyandbear.net/john/blog-prog/winclockv1.c.zip][] Of course this isn't a finished product - but its a solid foundation that outlines what the next few posts will be about...","tags":"linux","loc":"/365-30-c-programming-display-the-current-time","title":"365-30 C programming display the current time"},{"text":"You're hungry, you want something \"home cooked\", and you have the following: 1 egg 1.5 cups of flour .5 cup of sugar 1 pinch of baking soda 1 tsp of salt 3 tsp of melted butter At least 2 cups of Milk (or water) Stir and then pour in enough milk, while beating vigorously, until the mixture is smooth enough to pour. Try not to leave any flour unmixed into the batter. Hot frying pan (with oil in the bottom) for about 5 mins a side (hopefully you'll have a hotter frying pan/cooker and it will take less time). Usually you flip when the bottom is golden brown (you'll notice bubbles start appearing in the cooking batter. Shapes of hearts, letters, and animals are recommended. Possible spreads (separate or altogether): Jam, chocolate, honey, cheese with honey, philadelphia cream cheese, feta cheese, fruits, peanut butter, ? tags: Cooking","tags":"linux","loc":"/pancakes-from-scratch-recipe-v2","title":"Pancakes from Scratch Recipe v2"},{"text":"Our company has an outdated website which was a semi-custom \"product catalog\" from 2003 (or earlier) that uses SQL and ASP to create dynamic pages and a \"webadmin\" area to update the catalog (advertised as user friendly because no source code needed). Modern Content Management Systems (Drupal anyone?) have made this obsolete but like many corporations, \"If it's only broken a little and employees bend over backwards to make it work then don't fix or replace it until there's a disaster.\" I have had the masochistic pleasure of learning the system: everything in one folder of .asp files calling lots of other ASP files (and a couple of .js files) and calls to the SQL database with obscure 4 digit codes. Here's an example of me using my programming skills during the day for what might seem a simple request, \"Please add another PDF to a page on the Website\"... The first step was to upload the PDF into the database (so that it would be magically assigned a 4 digit number in the SQL). The webadmin was typically user unfriendly: Login -\\> Menu with a blank page -\\> click Catalog tab and finally see the left navigation bar: Catalog Main Catalog Structure Catalog Products Table Headers hmmm... I got lucky and on my second attempt found Catalog Structure -\\> Displays -\\> Intelligent Display Platform **Up Arrow, Down Arrow, Edit, Delete** Given the options I picked the obvious (no, not delete!) Stuffed in about twenty hot linked words and options I then found \"Product Family Files\" Counter-intuitively clicking on a \"...\" button to access a popup window to upload a new file... A byzantine system: scrolling through what appears to be every PDF file in the system to verify that my 5.7\" file isn't already there... then using a Browse button (on the bottom of the screen) to see the PDF on my desktop, then seperately clicking the Upload button. Finally clicking on a \"SELECT\" button (at the top of the screen) to finally add it to the database (without any friendly message, just a refresh, so I scrolled through all 300+ items to make sure it was listed). Bored yet? Oh, at this point you've got the PDF selected but you still have to click ADD to actually put it in a table for that Product Family. So... where's the Javascript? Well this particular page that needs to be updated is actually a custom job that appears instead of the default... and it may even be that I did the work! So each Product Family is reached by clicking on a link on the homepage, but those links are the inscrutable type: [http://protect-the-guilty/displays\\_products.asp?prodFamID=4148][] I \"hacked\" the scripts.js file (which contains all of the Javascript functions, so maybe they got one thing right)... /* MODIFIED FUNCTION TO GO TO SPECIFIC PAGE INSTEAD OF PULLING FROM DATABASE FOR CERTAIN PRODUCTS*/function GoToProductLine(prodLineID, partOfFilePath){ if( (prodLineID != 4136) && (prodLineID != 4536) ) { location.href = partOfFilePath + \"_families.asp?prodLineID=\" + prodLineID; }else{ location.href = \"umr.asp\"; }} So to locate the \"actual\" magic 4 digit ID of the PDF I had to go to the original (non redirected) webpage... [http://protect-the-guilty/displays\\_products.asp?prodFamID=4148][] View the Source Find the following bit of text: <td\\> Example\\_Datasheet\\_Rev\\_1.0 Whew, almost there! Next, download the \"customized.asp\" file and save a backup copy (ALWAYS SAVE A BACKUP!). Then update the \"customized.asp\" file by adding your special code to the right place... <td\\> Example\\_Datasheet\\_Rev\\_1.0 Once you've uploaded and tested it you can look at the clock and happily say, \"Uploading 1 pdf took me 2 frickin hours!\"","tags":"linux","loc":"/365-28-maintaining-old-asp-website-with-javascript-downloads","title":"365-28 Maintaining old ASP website with Javascript downloads"},{"text":"Once again my work demands creative programming solutions. I have a new ISP with a brand new modem and I want to know if a VPN will stay connected overnight... BUT it's not a good test without some traffic... Enter the DOS/Windows Batch file... like a linux script or VBS, a .bat file is a series of commands which allow a creative programmer to do quite a bit. Using a text editor create your first .bat file: ping-test-vpn.bat (Yes, I realize we skipped the steps using echo \"hello world\", that a % sign means a variable, defining that a mapped network drive to a folder on another computer... oh well, break this one into little pieces if it's too much to swallow at once.) REM batch program to test and log the stability/uptime of a remoteREM computer using ping and copying a fileREM is a \"remark\" or a comment that the computer will ignoreREM create a time stamp and append it to the end of the fileecho %date% %time% >> ping-log.txtREM see if we can reach the remote computer and append to the log fileping -n 1 192.168.1.30 >> ping-log.txtREM Map network drive where we will copy files back and forthnet use z: \\192.168.1.30\\groups\\sharedREM copy a 1.8 MB file to the remote computer (DOS overwrites by default)copy install_flash_player.exe z:\\REM list the files in the remote directory (including timestamp) and log itdir z:\\install* >> ping-log.txtREM remove our mapped network drivenet use z: /deleteecho \"-------------------------------------------------------------\" >> ping-log.txtREM ping 6 times takes about 5 seconds - like a (324/6) *5 = 4.5 mins \"pause\"REM redirect to NUL sends the output nowhere to not fill the screenping -n 324 127.0.0.1 >NUL Once you've saved your .bat file, rather than just double click it (which works), I prefer to use Start -\\> Run -\\> cmd.exe to open up a DOS command line prompt. From there I cd to c:\\\\directory\\\\ and find the .bat file... then I type in: ping-test-vpn.bat Watching the output can be fascinating - programming (and debugging) is certainly the most engaging when it's interactive. With the above file using the bandwidth of the VPN to copy a file and pause we then need to repeat this all night long. for-loop-counter.bat REM forloop counting variable IN (start,step,end) DO command FOR /L %%i IN (1,1,2) DO ping-test-vpn.bat High level network testing is fundamentally the same, though they obviously want to introduce variables like large packets, lost packets, random intervals, and contention issues. Wow, another day and another program (useful even!)","tags":"linux","loc":"/365-27-dos-batch-file-using-a-for-loop-to-test-a-vpn-with-ping","title":"365-27 DOS batch file using a for loop to test a vpn with ping"},{"text":"On the 26th I missed my 365 entry because I was being Mr. Corporate IT Hero at our annual Company Meeting but I actually have a number of things from the past that I can comment on and insert... Everybody who has an HTML form would like some software \"intelligence\" to guide the User to fill in the \"required\" fields, or help direct the User if they've not entered a valid email address, etc... I'm not a fan of Javascript if only because it runs on the client and can be a big security hole. If it's merely written poorly it can crash the browser or confuse the heck out of the user (rendering your HTML Form useless). But here's the source code on how to do the most basic user input validation: javascript form validation Starting X Point: Starting Y Point: Email Address: function validateMyForm() { if (document.getElementById('startx').value == '') { alert('Please enter a Starting X value (integer)'); document.getElementById('startx').focus(); return false; } if (document.getElementById('starty').value == '') { alert('Please enter a Starting Y value (integer)'); document.getElementById('starty').focus(); return false; } if (document.testform.email.value == '') { alert('Please enter your email'); document.myForm.email.focus(); return false; } //if we've passed all of the above checksreturn true;} There is a ton more that you can do with Javascript (including for loops on checkboxes minimum 2 out of 5, regular expressions on email addresses, etc.) so hopefully I'll get to it this year! Working Example: [http://kittyandbear.net/john/web-tutorials/javascript-form-validation.htm][] P.S. You must have Javascript enabled on your browser to see the example and some browsers will pop up \"ActiveX Warnings\" - if you're paranoid only run Javascript that you've coded yourself! http: //kittyandbear.net/john/web-tutorials/javascript-form-validation.htm","tags":"linux","loc":"/365-26-javascript-validation-of-an-html-form","title":"365-26 Javascript Validation of an HTML Form"},{"text":"HTML forms are quick way to get user data but PHP requires a PHP server. Luckily I have one and together it's quite easy to create a page that gets some info from a user and then does some calculations (in this case nothing fancy). I've done a little more User Input Sanitization than usual - basically the rule is: \"If you'll display it, clean up the HTML output, if you'll send it to a linux script, strip the slashes, and if you send it to a database, clean up any MySQL stuff\"... -------------------------------------------------- '; print \"\\n \"; print 'Starting X Point '; print \"\\n \"; print 'Starting Y Point '; print \"\\n \"; print 'End X Point '; print \"\\n \"; print 'End Y Point '; print \"\\n \"; print ' '; print \"\\n \"; }else{ $startx = (int) htmlentities( $_POST['startx'] ); $starty = (int) htmlentities( $_POST['starty'] ); $endx = (int) htmlentities( $_POST['endx'] ); $endy = (int) htmlentities( $_POST['endy'] ); print \"\\n \"; print $startx . \",\" . $starty . \" \" . $endx . \",\" . $endy; print \"\\n \"; print \"width: \" . ($endx - $startx); print \"\\n \"; print \"height: \" . ($endy - $starty); print \"\\n \"; print \"acos(startx): \" . acos($startx); print \"\\n \"; } //end of if-else user filled in textarea?> For a demo of above: [http://kittyandbear.net/john/web-tutorials/php-css-draw-line.php][] Further reference about how easy it is to manipulate user numbers: [http://php.net/manual/en/book.math.php][]","tags":"linux","loc":"/365-25-php-user-input-html-sanitization-and-math","title":"365-25 PHP User Input HTML Sanitization and Math"},{"text":"Programming isn't always fun and games. Here's an example from me putting in extra time on a weekend... At my work We use Microsoft Dynamics CRM 4.0 which is a customizable CRM web interface on top of MS SQL Server. While the built in functionality is pretty good a business always needs some more customization to get things \"just right\"... MS CRM has \"onload\" and \"onsave\" functionality for each entity that allows a developer to stick in some custom javascript. Below is the JS that controls the calculations on the Products section of a Quote for Customer Form. This improves the end user experience as user changes update the different fields instantly and automatically (though they still have to press SAVE to keep those changes). Note: Javascript isn't related to Java, it's a \"client side\" (runs on your computer, not the server) piece of code frequently used to modify how things look on your screen. -------------------------------------------------------------------------------- // if the Tax field is null (ie a new quote is being created) we fill in a default taxif (crmForm.all.new_taxpercentage.DataValue == null) { crmForm.all.new_taxpercentage.DataValue = 17.5;}//when Loading the Quote Form and on certain fields I have the following:crmForm.all.quantity.FireOnChange();//tells the system to pretend that the Quantity field has just changed //(and run it's jscripts)//this allows for one central place to control all of the calculations--------------------------------------------------------------------------------//this forces even \"disabled\" fields to update valuescrmForm.all.new_taxpercentage.ForceSubmit = true;//Calculate the BASE amount - MS CRM multicurrency required for moneycrmForm.all.baseamount_base.DataValue = crmForm.all.quantity.DataValue * crmForm.all.priceperunit_base.DataValue//Calculate the baseamount.crmForm.all.baseamount.DataValue = crmForm.all.quantity.DataValue * crmForm.all.priceperunit.DataValue;//Only calculate the discount if the user has actually filled in the discount fieldif( crmForm.all.new_manualdiscountpercentage.DataValue >= 0 ){ //Calculate the manual BASE discount amount. crmForm.all.manualdiscountamount_base.DataValue = crmForm.all.quantity.DataValue * crmForm.all.priceperunit_base.DataValue * (crmForm.all.new_manualdiscountpercentage.DataValue/100); //Calculate the manual discount amount. crmForm.all.manualdiscountamount.DataValue = crmForm.all.quantity.DataValue * crmForm.all.priceperunit.DataValue * (crmForm.all.new_manualdiscountpercentage.DataValue/100);}//Tricky piece of math with lots of ( and * and / ...//Calculate the new BASE Tax AmountcrmForm.all.tax_base.DataValue = ((crmForm.all.quantity.DataValue * crmForm.all.priceperunit_base.DataValue) - (crmForm.all.manualdiscountamount_base.DataValue)) * (crmForm.all.new_taxpercentage.DataValue/100);//Calculate the new Tax AmountcrmForm.all.tax.DataValue = ((crmForm.all.quantity.DataValue * crmForm.all.priceperunit.DataValue) - (crmForm.all.manualdiscountamount.DataValue)) * (crmForm.all.new_taxpercentage.DataValue/100);//Calculate the new Extended BASE AmountcrmForm.all.extendedamount_base.DataValue = (crmForm.all.baseamount_base.DataValue - crmForm.all.manualdiscountamount_base.DataValue) + (crmForm.all.tax_base.DataValue);//Calculate the new Extended AmountcrmForm.all.extendedamount.DataValue = (crmForm.all.baseamount.DataValue - crmForm.all.manualdiscountamount.DataValue) + (crmForm.all.tax.DataValue);","tags":"linux","loc":"/365-24-javascript-on-ms-crm-forms","title":"365-24 Javascript on MS CRM Forms"},{"text":"Programming obviously requires logic and discipline. Less well known but just as important, it also requires creativity and elasticity. Windows Script programming has a significantly different syntax (rules of how the code must be written to be valid) than the previous Linux Script, C Programming, HTML, or CSS. How many people do you know who speak multiple languages, much less create functional artificial constructs with them? You can copy and paste the text below into an empty notepad and save it as test.vbs *A .vbs file can be dangerous as it is executing commands on your computer but in this case there are no surprises as you can see all of the commands explained in the comments.* ------------------------------------------------------- REM John Pfeiffer's windows vbscript 2010-01-22REM In Visual Basic Script a REM stands for \"remark\", which is a comment REM (something ignored by the computer)REM we must declare what variables we want but without saying what typeREM in this case we've used the good practice of naming the variablesREM as they're intended to be used: i = programming standard for counting,REM astring is a string of characters (though in a real program it would be REM better named \"username\" or \"address_street\") and array is a list of items.dim i, astring, arrayREM assigning a literal piece of text to a string variable is really easyastring = \"this,should,be,interesting,csv,\" REM built in functions do most of the hard work - like splitting up a stringREM into an array of strings based on a \"splitting character\"array = split(astring, \",\")REM wscript.echo displays message boxes, REM the & symbol concatenates strings and variables to display togetherwscript.echo astring & \" BECOMES => \" & array(4) & array(3) & array(2) & array(1) & array(0)REM The for loop counts from the first (lbound) element to the uppermost this REM \"object oriented\" technique of a method/function to access the attributes REM (in this case size/bounds) of a variable, rather than predefined symbol or number,REM prevents a careless programmer error or an unforseen change from crashingREM the program by accessing (or writing!) outside of the defined variable spaceREM Lines between the \"for\" and \"next\" are executed as many times as the for loopREM iteratesfor i = lbound(array) to ubound(array) wscript.echo array(i)nextREM the \"for each\" is a special case of a for loop which will do something for REM every item in the array - better than the above for this specific exampleREM as it is easier to read and understand what it is doing (with even lessREM chance of an error) for each i in array wscript.echo inextREM REMEMBER, 50-80% of your time will be spent debugging, recompiling, REM fixing, updating! More important than getting it right the first timeREM is making it easy to figure out where/why it went wrongwscript.echo \"the end\"","tags":"linux","loc":"/365-22-vbscript-windows-shell-script-programming-for-loop","title":"365-22 VBScript Windows Shell Script (Programming) For Loop"},{"text":"Is writing a Script still programming? What the heck is a Script? A script is a written set of instructions for a platform (usually an Operating System) that makes the computer (or hardware) do something. Sounds a lot like a Program. Well... A computer software program is usually source code (written by a human) that is then \"compiled\" into \"machine code\" which a machine can understand - except that there's also a linker and loader to figure out exactly what places in memory (and for what piece of hardware) the Program will run - finally turning it into Object code and then an Executable (usually called binary because it's in 1's and 0's directly in the language of the hardware). A script gives hardware a set of commands indirectly through another piece of software (it's environment/platform, e.g. DOS, Python, Windows OS, GNU Linux OS, etc.). The software then executes those commands (which often then tell an Operating System which then tells Hardware to to do something - like clearing the screen or adding some numbers). So maybe html is even less Programming like than a script! Since it only tells a browser (a specific application) how to format/display data!?!?! Ah, enough semanticarating! What happens if you're running a script and somewhere it requires user input? \"Expect\" is a piece of software that \"waits\" for input from the linux operating system command line... apt-get install expect //to install it on linux ubuntu yum install expect //to install it on linux centos/redhat - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - touch test-script.sh //create the file chmod +x test-script.sh //make the file an executable in linux nano test-script.sh //edit the file to enter our script commands - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\#!/usr/bin/expect set timeout 1 send \"passwd USER\\\\n\" expect \"Password: \" send \"password\\\\n\" sleep 1 interact - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \\*First we tell the operating system what program (environment platform) will actually be able to read and execute the instructions (normally linux uses BASH but in this case it's EXPECT). \\*Setting the timeout means that we will wait at least and at most 1 second before a non responding command is skipped to execute the next command. \\*Send tells the operating system something (e.g. we want to run the change USER's password program) \\*The expect command tells the script to wait for the operating system to prompt the user to type in a password. \\*Once the operating system responds (with exactly what we \"expected\") the script continues by sending (just as if a user typed it in) some predetermined password picked by the script writer. \\*Finally we tell our script to sleep for one second after all of it's hard work. \\*Oh, and it's very important to \"interact\", which returns the command prompt back to the user/operating system. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Whew... that's just the tip of the iceberg of how \"expect\" greatly extends the functionality of Linux scripts! Later I hope to demonstrate some VBScript (for windows) and maybe even a script on how to run a \"non interactive FTP session\" (as most FTP programs require \"interaction\" aka human at the keyboard)...","tags":"linux","loc":"/365-22-script-programming-linux-expect-script-passwd","title":"365-22 Script Programming: Linux Expect Script passwd"},{"text":"Windows programming is a bit ugly - you have to selectively ignore the stuff \"you know\". On the positive side I've figured out how to insert code as preformatted (Drupal Input Filter -\\> extending the \"safe HTML\") so this should be easier to copy paste. Also, Notepad2 has a handy \"turn tabs into spaces\" that I shall start using more often... I've built on the previous Windows Program that put some text on the screen so most of it should look familiar. Remember, this was compiled with a gcc port (see earlier post for the link to the binary) gcc.exe -o %1.exe %1 -Iinclude -Llib -Wall -ansi -mwindows OK, here's the code for an exit button, some of the old comments (which you've \"learned\" have been removed)... /* john pfeiffer basic MS windows program with button 2009-01-20 */#include #define IDC_MyExitButton 40001 /* case sensitive! random high number to keep windows happy *//* This function is called by the Windows function DispatchMessage( ) */LRESULT CALLBACK WindowProcedure( HWND hwnd, /* Handle of window that received the msg */ UINT message, /* The message */ WPARAM wParam, /* Extra parameter (e.g. mouse x) */ LPARAM lParam) /* Extra parameter (e.g. mouse y) */{ PAINTSTRUCT ps; /* a structure for a paint job (see below */ RECT rect; /* a structure to hold rectangle values (e.g. x,y coordinates) */ HDC hdc; /* handle to a DC (buffer) for the screen */ switch (message) /* handle the messages */ { case WM_COMMAND: switch(LOWORD(wParam)) /* find out what's been clicked */ { case IDC_MyExitButton: PostQuitMessage(0); break; default: break; } break; case WM_PAINT: GetClientRect( hwnd, &rect; ); /* get the size of our window */ hdc = BeginPaint( hwnd, &ps; ); /* begin painting to the buffer */ DrawText( hdc, TEXT(\"Press button to quit\"), -1, &rect;, DT_CENTER | DT_VCENTER | DT_SINGLELINE); EndPaint( hwnd, &ps;); return 0; case WM_DESTROY: PostQuitMessage(0); /* send a WM_QUIT */ break; default: /* for messages that we don't deal with */ return DefWindowProc(hwnd, message, wParam, lParam); } return 0;}int WINAPI WinMain( HINSTANCE hThisInstance, /* Handle to the current instance */ HINSTANCE hPrevInstance, /* Handle to the previous instance */ LPSTR lpszArgument, /* pointer to command line arguments */ int ncmdshow) /* show state of the window */{ HWND hwnd; /* The handle for our window */ HWND ButtonPushed = NULL; MSG messages; /* Messages to the application */ WNDCLASS wc; /* Data structure for our defined windowclass */ wc.style = 0; wc.lpfnWndProc = WindowProcedure; /* This function is called by windows */ wc.cbClsExtra = 0; /* No extra bytes after the window class */ wc.cbWndExtra = 0; /* structure or the window instance */ wc.hInstance = hThisInstance; /* handle to the owner */ wc.hIcon = NULL; /* no special application icon */ wc.hCursor = LoadCursor(NULL, IDC_ARROW); /* default cursor */ wc.hbrBackground = (HBRUSH) GetStockObject(LTGRAY_BRUSH); wc.lpszMenuName = NULL; /* No menu */ wc.lpszClassName = \"WindowsApp\"; /* the name of the windows class */ /* Register the window class, if fail quit the program with an error value */ if( RegisterClass(&wc;) ==0 ){ return -1; } /* The class is registered, let's instantiate our window */ hwnd = CreateWindowEx( 1, \"WindowsApp\", \"Windows Title\", WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, hThisInstance, NULL ); /* create button and store the handle */ ButtonPushed = CreateWindow( \"button\", /* class name */ \"Push Button\", /* button caption */ WS_CHILD |WS_VISIBLE | BS_PUSHBUTTON, /* the styles */ 0,0, /* the left and top coordinates */ 150,50, /* width and height */ hwnd, /* parent window handle */ (HMENU)IDC_MyExitButton, /* the ID of your button */ hThisInstance, /* the instance of your application */ NULL) ; /* unnecessary extra */ ShowWindow(hwnd, ncmdshow); /* Make the window visible on the screen */ UpdateWindow(hwnd); /* update with changes */ /* Run the message loop. It will run until GetMessage( ) returns 0 */ while( GetMessage(&messages;, NULL, 0, 0) ) { TranslateMessage(&messages;); /* Translate virtual-key messages into character messages */ DispatchMessage(&messages;); /* Send messages to WindowProcedure */ } /* The program return-value is 0 - The value that PostQuitMessage( ) gave */ return messages.wParam;}","tags":"linux","loc":"/365-6-a-simple-windows-button","title":"365-6 A Simple Windows Button"},{"text":"I'm a little sick so this one took longer than it should have. Futher exploration of the theme of PHP + CSS + HTML as a very simple way to get user input and then do something fun with it. The beginnings of trying to \"modularize\" code into functions earlier in the process (in later, more complex programs it is a necessity). You may be asking, \"How is this useful?\" but I think it's a popular misconception that Programs should be useful... I will try to break the code into chunks (that you will have to re-assemble) but with better piece by piece explanation: - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - DEFINING CSS STYLE IN THE HEAD Best practice is to have many php or html pages linked to a single CSS definition file so that a single update is more efficient. Efficiency in this case means all of the code in one easily visible file. The CSS here removes the anchor (hyperlink) underline and makes it black BUT if hovered the text will turn red. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - < html\\>< head\\> < style type=\"text/css\"\\> < !-- removing text decoration removes the underlines --\\> \\#chosen a{ text-decoration:none; color:black; } \\#chosen a:hover{ text-decoration:none; color: red; } < /style\\>< /head\\> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - BODY OF PHP FUNCTIONS If you have an HTML head then you should have a body. The majority of the body is the definition of a custom function called \"display\\_board\". Again I'm using the trick that if the user has entered data (and therefore something's in the $\\_POST) then we get to show the user that we've done something fun with what they gave us. PHP functions are easy to define and have the usual parameters and return value responsibilities (though parameters don't need any typing which allows the programmer to focus on the concepts, not the implementation - hopefully not confusing the variables up in the process). Much like a CSS you can have a file with the definitions of your php functions and include it somewhere with **include(\"footer.php\");** On one hand you remove the implementation details which can make prototyping and modularization faster and easier, on the other hand you have to search through/open a number of different files (or even include definitions to functions you don't use) and of course, it's great to ignore the implentation details right until something goes wrong. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - < body\\>Click on one square, then submit, then hover your choice!< br /\\> < br /\\> < ?php function display\\_board( $chosen\\_square ) { print '< form action=\"' . $\\_SERVER['PHP\\_SELF'] . '\" method=\"post\"\\>'; print \"\\\\n\"; //newline character in the HTML code for readability print '< div id=\"chosen\" align=\"center\"\\>'; print \"\\\\n\"; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - I don't think the indentations show up well in the blog but the nested loops and formula are just a fancy way of counting from 1 to 64 with 8 items per line. The magic \"redefined css anchor\" is buried in there if the user has chosen a square. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - for($x=0; $x< 8; $x++) { for($y=0; $y< 8; $y++) { if( ((8\\*$x) + $y+1) == $chosen\\_square ) { print '< input type=\"radio\" name=\"board\\_square\" value=\"'; print ((8\\*$x) + $y+1) . '\"\\>'; print '< a href=\"\\#\"\\> '; print ((8\\*$x) + $y+1); print \"< /a\\>\\\\n\"; //the nested for loops formula creates 64 consecutive values } else { print '< input type=\"radio\" name=\"board\\_square\" value=\"'; print ((8\\*$x) + $y+1) . '\"\\> ' . ((8\\*$x) + $y+1) . \"\\\\n\"; } } print \"< br /\\>\\\\n\"; } print '< /div\\>< input type=\"submit\" value=\"Press Me\" /\\>< /form\\>'; } - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - stripslashes is best practice when dealing with user data though I'm not sure how a $\\_POST of a radio button value could end up as a root command; better safe than sorry. The ever present \"if the $\\_POST variable is set AND the $chosen\\_square variable is NOT EMPTY\" allows to only print something that exists (instead of foolishly printing non-existent stuff). Finally we call our function (with a parameter). So if the CSS and PHP function definition were other files this \"program\" would be very compact and very easy to read (but then again you wouldn't know what the program did unless you had those other files). - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - $chosen\\_square = stripslashes( $\\_POST['board\\_square'] ); if( !empty( $chosen\\_square ) && isset( $chosen\\_square ) ) { print $chosen\\_square; } display\\_board( $chosen\\_square ); ?\\> < /body\\> < /html\\> For a live working test of the above code: [http://kittyandbear.net/john/web-tutorials/php-radio-buttons.php][]","tags":"linux","loc":"/365-5-php-and-css-on-a-radio-button-board","title":"365-5 php and css on a radio button board"},{"text":"Windows Programming has a steep curve in the beginning as there are many things to memorize (oops I mean learn and understand) as theoretically they've created the data structures and functions to get stuff on the screen. Again I've used gcc 2.95 windows port with the special command on my wndclass-hello.c source code. gcc.exe -o %1.exe %1 -Iinclude -Llib -Wall -ansi -mwindows The code is extra commented as this is the foundation (of understanding) for future programs. Basically the windows program loops waiting for some input (e.g. clicking an OK button or the X to close the window)... in the mean time I've written a simple text in the middle. Most of the code is actually just trying to setup the data structure of a window (there are many options and variations that we might use later to extend our window's functionality). /* john pfeiffer basic MS windows program with comments 2009-01-18 */#include /* this includes the whole Windows API *//* Declare the Windows procedure */LRESULT CALLBACK WindowProcedure(HWND, UINT, WPARAM, LPARAM);int WINAPI WinMain( HINSTANCE hThisInstance, /* Handle to the current instance */ HINSTANCE hPrevInstance, /* Handle to the previous instance */ LPSTR lpszArgument, /* pointer to command line arguments */ int ncmdshow) /* show state of the window */{ HWND hwnd; /* The handle for our window */ MSG messages; /* Messages to the application */ WNDCLASS wc; /* Data structure for our defined windowclass */ wc.style = 0; wc.lpfnWndProc = WindowProcedure; /* This function is called by windows */ wc.cbClsExtra = 0; /* No extra bytes after the window class */ wc.cbWndExtra = 0; /* structure or the window instance */ wc.hInstance = hThisInstance; /* handle to the owner */ wc.hIcon = NULL; /* no special application icon */ wc.hCursor = LoadCursor(NULL, IDC_ARROW); /* default cursor */ wc.hbrBackground = (HBRUSH) GetStockObject(LTGRAY_BRUSH); /* the window background color */ wc.lpszMenuName = NULL; /* No menu */ wc.lpszClassName = \"WindowsApp\"; /* the name of the windows class */ /* Register the window class, if fail quit the program with an error value */ if( RegisterClass(&wc;) ==0 ){ return -1; } /* The class is registered, let's instantiate our window */ hwnd = CreateWindowEx( 1, /* Extended possibilites for variation */ \"WindowsApp\", /* Classname */ \"Windows App\", /* Application Title Text */ WS_OVERLAPPEDWINDOW, /* default window */ CW_USEDEFAULT, /* default x position on the screen */ CW_USEDEFAULT, /* default y position on the screen */ CW_USEDEFAULT, /* initial window width */ CW_USEDEFAULT, /* initial window height */ NULL, /* no Parent window */ NULL, /* No menu */ hThisInstance, /* Program Instance handler */ NULL /* No pointer for passing parameters */ ); ShowWindow(hwnd, ncmdshow); /* Make the window visible on the screen */ UpdateWindow(hwnd); /* update with changes */ /* Run the message loop. It will run until GetMessage( ) returns 0 */ while( GetMessage(&messages;, NULL, 0, 0) ) { TranslateMessage(&messages;); /* Translate virtual-key messages into character messages */ DispatchMessage(&messages;); /* Send messages to WindowProcedure */ } /* The program return-value is 0 - The value that PostQuitMessage( ) gave */ return messages.wParam;}/* This function is called by the Windows function DispatchMessage( ) */LRESULT CALLBACK WindowProcedure( HWND hwnd, /* Handle of window that received the msg */ UINT message, /* The message */ WPARAM wParam, /* Extra parameter (e.g. mouse x) */ LPARAM lParam) /* Extra parameter (e.g. mouse y) */{ PAINTSTRUCT ps; /* a structure for a paint job (see below */ RECT rect; /* a structure to hold rectangle values (e.g. x,y coordinates) */ HDC hdc; /*handle to a DC (buffer) for the screen */ switch (message) /* handle the messages */ { case WM_PAINT: GetClientRect( hwnd, &rect; ); /* get the size of our window */ hdc = BeginPaint( hwnd, &ps; ); /* begin painting to the buffer */ DrawText( hdc, TEXT(\"Hello\"), -1, &rect;, DT_CENTER | DT_VCENTER | DT_SINGLELINE); /* the above actually draws the text, h & v centered on a single line, to the buffer */ EndPaint( hwnd, &ps;); return 0; case WM_DESTROY: PostQuitMessage(0); /* send a WM_QUIT to the message queue */ break; default: /* for messages that we don't deal with */ return DefWindowProc(hwnd, message, wParam, lParam); } return 0;}/* typedef struct tagPAINTSTRUCT { HDC hdc; // A handle to the display DC to be used for painting. BOOL fErase; //Indicates whether the background must be erased. RECT rcPaint; //specifies upperleft and lowerright corners where to be painted //in device units relative to the upper-left corner of the client area. BOOL fRestore; BOOL fIncUpdate; BYTE rgbReserved[32];}PAINTSTRUCT, *PPAINTSTRUCT;*/ Whew, another day done.","tags":"linux","loc":"/365-4-first-real-windows-program","title":"365-4 First Real Windows Program"},{"text":"PHP is similar to C which makes it easy for me to do interesting things. The php manual webpage is brilliant! Don't you wish everybody had a full public API, easy menus, working examples, searchable and with the best user comments that really flesh out the bugs? CSS is so much better than HTML tables - it really revolutionizes the simplicity, maintainability, and power of displaying things on the web. Put them together and you have miracles like Drupal. The following project took a little more time than usual and it might even be useful one day, but what I really like about it is that it's FUN... I apologize about the poor formatting of the source code, I'll see if I can find a nicer way to enter into the Blog or break it up into \"this is how you do\" sections... Many thanks to my debugger Bobby! php-list-to-diagram.php <html> <head> </head> <body> This page takes a list of objects, one object per page, and displays them in a list using css. <br />&nbsp;<br /> Please fill in the box below: <br />&nbsp;<br /> <?php //The POST variable is an array with each form item as an item in the index //if the object list variable is not filled out then we ask the user to fill it in /* Clicking the submit button does the form action: the same page again with the POST data the ' quotations will ignore the \" quotations which is useful when outputing HTML but sometimes very hard to read (or debug, along with spaces between HTML options) the \" quotations allow the \\n newline to be output to the HTML code spacing */ print '<form action=\"' . $_SERVER [ 'PHP_SELF' ] . '\" method=\"post\">' ; print \" \\n \" ; //making extra spacing obvious improves readability and debugging print '<textarea name=\"objectlist\" cols=\"40\" rows=\"20\">' ; if ( ! isset ( $_POST [ 'objectlist' ]) || empty ( $_POST [ 'objectlist' ] ) ) { print \" \\n </textarea><br />\" ; print \" \\n \" ; print '<input type=\"submit\" /></form>' ; print \"<br />\" ; /* The else allows the user to see what they typed in last time BUT for security no slashes! */ } else { print stripslashes ( $_POST [ 'objectlist' ]); print \"</textarea><br />\" ; print '<input type=\"submit\" /></form>' ; print \"<br />\" ; $object_list = $_POST [ 'objectlist' ]; //one string for all of the user entered items $object_lines = explode ( \" \\n \" , $object_list ); //break the string into lines print_r ( $object_lines ); //dump the array for debugging print \"<br />&nbsp;<br />\" ; /* the for loop takes each item in the array and copies it into the $value variable and it assigns the index to the $key variable. rtrim() removes the newline the user entered in the form. */ foreach ( $object_lines as $key => $value ) { print '<div style=\"position: absolute; left: ' . ( 40 + $key ) . '%; top: ' . ( $key + 2 ) . 'em;\">' ; print $value ; print \"</div> \\n \" ; } } //end of if-else user filled in textarea ?> </body> </html>","tags":"programming","loc":"/content/365-3-php-mad-cool-css","title":"365-3 PHP is mad cool with CSS"},{"text":"Programming in Windows is like building with legos. It can be easy and fun but at the same time very few of us have houses or cars made of legos. Of course, if you're writing an application for 90% of the computer users it will probably have to run on Windows. I've programmed with Borland, Mingw, Visual Studio and my favorite, GCC. The story of the GNU C Compiler (and Richard Stallman) is fascinating and reading \"Free as in Freedom\" really opened my eyes to the details of the shoulders of the giants that I'm standing upon. This tiny program opens up a message box that you can immediately close. While not very useful it very often inspires new programmers with the power that they can quickly wield to get their ideas into a working program. Anyways, here's the code... Open up your favorite text editor (I very much like Notepad2 or Bluefish)... /\\* include all of the prebuilt Windows librarys to the fun stuff like GUI \\*/ \\#include /\\* the \"main\" will return a 1 or 0 depending on how the application terminates \\*/ int WINAPI WinMain( HINSTANCE hThisInstance, /\\* Handle to the current instance \\*/ HINSTANCE hPrevInstance, /\\* Handle to the previous instance \\*/ LPSTR lpszArgument, /\\* pointer to command line arguments \\*/ int ncmdshow) /\\* show state of the window \\*/ { /\\* call the messagebox function, no \"parent\", text to include, title bar text, and ? \\*/ MessageBox(NULL, \"Yet another program by John Pfeiffer\", \"Close by clicking X or OK\", NULL); return 0; /\\* the \"main\" function now returns a good result, 0 \\*/ } As you can see, lots of nice comments. I compiled the above with a windows port of GCC that I like because I can zip and move it around and it still always works. I DID have to come up with the funny batch file to actually make the GCC compile it on windows: gcc.exe -o %1.exe %1 -Iinclude -Llib -Wall -ansi -mwindows Here's the binaries: [http://kittyandbear.net/c-programming-guides/gcc-2-9-5-windows.zip][] [http://kittyandbear.net/c-programming-guides/windows-messagebox.zip][] tags: [Programming][] http: //kittyandbear.net/c-programming-guides/windows-messagebox.zi","tags":"linux","loc":"/365-2-windows-program-messagebox","title":"365-2 Windows Program MessageBox"},{"text":"As I can almost speak italian, spanish, bulgarian, french, and english I realized that having my site entirely in english is limiting it's popularity. Therefore I recommend the following options to ensure that you can understand life, the universe, and the meaning of happiness: [http://translate.google.com/][] [http://babelfish.yahoo.com/][] p.s. the above links will not only allow you to translate a website but you can write emails to people in foreign languages full of computer generated errors, WOW much more efficient!","tags":"linux","loc":"/translate-this","title":"Translate This!"},{"text":"I can cook pancakes, cookies, and cake even... from the pre-made mixes. Just add water, eggs,stir, heat in oven, eat... I've tried making pancakes from scratch (next time I'll post the recipe) with ok results. My first \"bread\" attempt didn't actually make dough that you can roll so I'm not sure if it was bread... Mix the following in a bowl: 3 glasses of flour (plain, none of that fancy already mixed stuff for me!) 1 glass of sugar (granular cane sugar is all I had) 3 tsp of baking soda 4 tsp of salt Beat the following into a different bowl 2 eggs 1 cup of milk Then stir the two bowls together until mostly smooth. Smear cooking oil in the bottom of a pan (mine was 1/2\" by 7\" by 9\") to prevent sticking. Pour the mixture into the pan (not really dough, eh?) Then I melted enough butter to put a tiny layer on top of everything in the pan (note there was lots of leftover \"dough\" for a second time on the pan). Baked at 200 degrees celsius for about 15 minutes then set to cool for another 10 minutes. VERDICT: Light and ok for fluffiness. Good crust. Definitely too much baking soda but with apricot jam spread tastes fine. Serves 2-3 (or me over one day). Good things: oil on the pan, butter on top, sugar is IMPORTANT. NEXT TIME I will try halving all of the ingredients, reducing the soda by yet another half tsp, and maybe some more sugar or vanilla/cinnamon. \\*LEGEND 1 small glass = about 200 ml ... is that a cup? (not quite 236ml...) ml = milliliter, tsp= teaspoon tags: Cooking","tags":"linux","loc":"/first-time-baking-bread-version-116","title":"First Time Baking Bread, version .116"},{"text":"I have been inspired by my wife's 365 day project ([http://www.flickr.com/photos/big\\_rock\\_cat/][]) to do a photograph a day for 2010. I spend my working days and much of my free time installing, repairing, updating, maintaining, and administering computers, servers, routers, business software, etc. Yet I have long wanted to focus more on Programming, and rather than spending my spare time reinstalling Linux (ok Stallman, GNU/Linux) and I thought that a little structure and motivation would help me channel my energies. So every day I will write a program, \"A set of coded instructions that enables a machine, especially a computer, to perform a desired sequence of operations.\" To keep it a S.M.A.R.T. goal (Specific = 1 program, Measurable = per day, Achievable = I hope so, Relevant\\*, Tangible = all source code posted) I will try to utilize some fundamental good rules of programming: \\1. high level plan \\2. modular \\3. devise a test and desired outcome before you start coding \\4. clean, descriptive variable and function names with a minimum of parameters \\5. comments built into the code \\*Relevant = my own rules for this are that it must be code writing that makes something happen: e.g. coding html is ok, changing the color/theme on a website by clicking a menu is not. Writing a script to install something is ok, installing something by choosing menu options is not. It can be on any platform or hardware Windows, Linux, WinCE, Android, laptop, desktop, server, virtual machine, phone, etc. Building up little pieces into a larger one is ok, in fact it's not only Programming best practice but one of the goals of the whole project (shhh... to be revealed at the end!) Building little applications: first a program to display hard coded data, then a program to take hard coded data and do something to it (e.g. add up a bunch of numbers), then a program to get input from a user, then a program to integrate all of the above! Learning by copying others is ok for just learning but my code has to be modified enough to represent my work and understanding. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Enough talking, let's see some code! **Pseudo Code (aka high level plan)** I want a web page that when a user hovers their mouse over an image it changes. I will use html and css First I need to create the original image and the \"hovered\" image. My first \"test\" is that after I upload them I can actually see them (e.g. debugging that they're at the right location) < html\\> < head\\> < !-- this is embeddeding my cascading style sheet commands directly into the HTML --\\> < style type=\"text/css\"\\> /\\* a block displays down, inline would display it to the right The width and the height of the image are important (otherwise it won't all show) We remove \"text decoration\" to prevent any funny \"anchor link\" borders \\*/ \\#rollover { display: block; width: 190px; height: 80px; text-decoration: none; background: url(\"[http://kittyandbear.net/images/blog/usa-image.png][]\") no-repeat 0 0; } \\#rollover:hover { width: 190px; height: 80px; text-decoration: none; background: url(\"[http://kittyandbear.net/images/blog/usa-image-hover.png][]\") no-repeat 0 0; } < /style\\> < /head\\> < body\\> I require 2 images, the original and a \"hovered over\" image: < br /\\> < a id=\"rollover\" href=\"\\#\"\\>< span\\>< /span\\>< /a\\> < br /\\> Notice there was a delay sometimes, a recommended solution would be to use a single image and a tricky \"only show the half that you want to see\", e.g. normal top half, \"hover\" = lower half. < /body\\> < /html\\> Voila! [http://kittyandbear.net/john/web-tutorials/css-image-mouseover.htm][] One down, many more to go!","tags":"linux","loc":"/365-day-project-programming","title":"365 Day Project: Programming"},{"text":"linux-install-virtualbox-3-on-debian-5-gui - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - NOTE: this is a command line installation of VirtualBox 3 proprietary driver edition... The \"open source edition\" does not include RDP into VM's nor USB drivers for VM's to access host USB's - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - PREPARATION STEPS uname -r //find your kernel version apt-cache search linux-headers //in the long list see if your version is there sudo apt-get install linux-headers-$(uname -r) //failed because I have \"squeeze\" 2.6.32-rc8-686 //unfortunately the rc8 headers were missing from debian website apt-get install linux-headers-2.6.32-trunk-686 //manual way (instead of the fancy function returns a result) ls -ahl /usr/src //ensure the folders are there, sometimes no kernel folder export KERN\\_DIR=/usr/src/kernels/2.6.32-trunk-686 //sometimes instead /usr/src/2.6.32-trunk-686 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ACTUAL INSTALLATION http://www.virtualbox.org/wiki/Linux\\_Downloads nano /etc/apt/sources.list //add line deb http://download.virtualbox.org/virtualbox/debian lenny non-free apt-get update apt-cache search virtualbox apt-get install virtualbox-3.0 //install without verification... sudo addusers username vboxusers OR usermod -a -G vboxusers USERNAME - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - GUI MANAGEMENT Setting up virtualbox-3.0 (3.0.12-54655\\_Debian\\_lenny) ... addgroup: The group \\`vboxusers' already exists as a system group. Exiting. Messages emitted during module compilation will be logged to /var/log/vbox-install.log. Success! Starting VirtualBox kernel module:done.. Setting up libsdl-ttf2.0-0 (2.0.9-1) ... type \"VBoxManage -v\" to see if everything is working (shows your VirtualBox version) VirtualBox //this command starts the GUI interface where you can easily create/manage //you can test it - from the command line create and start a VM, you'll see it appear in the GUI! VBoxManage createvm --name VM1 --register VBoxManage startvm VM1 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - VirtualBox GUI is pretty straightforward but I highly recommend that you skim the manual and especially that you learn to play with the command line VBoxManage - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - TROUBLESHOOTING /etc/init.d/vbox\\_drv setup The above command often fails, and when it fails, check the install log nano /var/log/vbox-install.log \\1. no kernel headers installed/downloaded or export (so the OS knows where!) \\2. the user running VirtualBox needs to be in the /etc/group/vboxusers if you have not installed the right headers (e.g. Virtualbox is compiling a driver specific to your kernel) So you need gcc, make... also you need the kernel-headers source uname -a //will show you exactly what kernel you have installed ls -ahl /usr/src //will show you exactly what directories are there... see some varations: export KERN\\_DIR=/usr/src/2.6.32-trunk-686 export KERN\\_DIR=/usr/src/kernels/2.6.32-trunk-686 export KERN\\_DIR=/usr/src/kernels/2.6.18-128.4.1.el5-x86\\_64/ sudo apt-get remove virtualbox-3.0 //the easiest method do all of the fixes (e.g. in my case I had to downgrade my kernel from 2.6.32-rc8 to 2.6.32-trunk) sudo apt-get install linux-image-686 sudo apt-get install linux-headers-$(uname -r) export KERN\\_DIR=/usr/src/2.6.32-trunk-686 sudo apt-get install virtualbox-3.0 usermod -a -G vboxusers USERNAME after the reinstall hopefully you'll see: ... Setting up libcurl3 (7.19.7-1) ... Setting up virtualbox-3.0 (3.0.12-54655\\_Debian\\_lenny) ... addgroup: The group \\`vboxusers' already exists as a system group. Exiting. Messages emitted during module compilation will be logged to /var/log/vbox-install.log. Success! Starting VirtualBox kernel module:done.. Setting up libsdl-ttf2.0-0 (2.0.9-1) ... type \"VBoxManage -v\" to see if everything is working (shows your VirtualBox version)","tags":"linux","loc":"/linux-install-virtualbox-3-on-debian-5-gui","title":"linux install virtualbox 3 on debian 5 gui"},{"text":"Administer -\\> Blocks Drag and drop the \"Powered by Drupal\" option from FOOTER into DISABLED.","tags":"linux","loc":"/how-to-use-drupal-blocks","title":"How-To-use-Drupal-Blocks"},{"text":"I turned my website offline for maintenance and then logged out (or wanted to work on it from another computer). All I got was the **\"Site is offline for maintenance message\".** The Solution: Type the following address into your browser: [http://yourwebsite.com/?=user][] This will take you to the user login prompt - if you are the Administrator user you can then turn the site back online.","tags":"linux","loc":"/drupal-site-offline-how-to-login","title":"Drupal Site Offline - how to login"},{"text":"From the install DVD choose no packages and customize all to deselect all packages BEWARE: this is a very empty configuration so you will have to install ALOT from yum... yum install wget elinks sudo which IF you need to do anything with \"compiling\" yum install make gcc yum install kernel ? maybe necessary? yum install kernel-devel-$(uname -r) yum install kernel-headers-$(uname -r) export KERN\\_DIR=/usr/src/kernels/$(uname -r)-x86\\_64 to add a repository, e.g. VirtualBox So create the following file (in the directory) /etc/yum.repos.d/virtualbox.repo [virtualbox] name=RHEL/CentOS-$releasever / $basearch - VirtualBox baseurl=[http://download.virtualbox.org/virtualbox/rpm/rhel/][]$releasever/$basearch enabled=1 gpgcheck=1 gpgkey=[http://download.virtualbox.org/virtualbox/debian/sun\\_vbox.asc][] then try","tags":"linux","loc":"/how-to-install-virtualbox-3-on-centos-5-minimal","title":"How To Install Virtualbox 3 on Centos 5 Minimal"}]}